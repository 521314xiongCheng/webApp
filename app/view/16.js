exports.ids=[16],exports.modules={125:function(t,e,i){t.exports=i.p+"img/nodata1.75567d78.png"},181:function(t,e,i){var n=i(250);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("ce105854",n,!0,t)}},182:function(t,e,i){var n=i(252);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("a51056e6",n,!0,t)}},183:function(t,e,i){var n=i(254);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("7095c9c4",n,!0,t)}},247:function(t,e,i){t.exports=i.p+"img/arrow-down.292fa324.png"},248:function(t,e,i){t.exports=i.p+"img/arrow-up.1d5d82de.png"},249:function(t,e,i){"use strict";i.r(e);var n=i(181);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},250:function(t,e,i){(e=i(56)(!1)).push([t.i,'.order-list-item[data-v-271ebe52]{border-radius:2.133vmin;background-color:#fff;overflow:hidden;margin-bottom:2.667vmin;content:"viewport-units-buggyfill; border-radius: 2.133vmin; margin-bottom: 2.667vmin"}.order-list-item .order-info[data-v-271ebe52]{padding:4vmin 4vmin 0 3.2vmin;content:"viewport-units-buggyfill; padding: 4vmin 4vmin 0 3.2vmin"}.order-list-item .order-info .user-info[data-v-271ebe52]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:4.267vmin;content:"viewport-units-buggyfill; margin-bottom: 4.267vmin"}.order-list-item .order-info .user-info[data-v-271ebe52],.order-list-item .order-info .user-info-left[data-v-271ebe52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-list-item .order-info .user-info-left .avatar[data-v-271ebe52]{width:9.333vmin;height:9.333vmin;border-radius:50%;margin-right:1.733vmin;content:"viewport-units-buggyfill; width: 9.333vmin; height: 9.333vmin; margin-right: 1.733vmin"}.order-list-item .order-info .user-info-left .user-name[data-v-271ebe52]{color:#484848;font-size:4vmin;line-height:5.333vmin;font-weight:700;content:"viewport-units-buggyfill; font-size: 4vmin; line-height: 5.333vmin"}.order-list-item .order-info .user-info-left .order-date[data-v-271ebe52]{font-size:3.2vmin;line-height:4.8vmin;color:#7f7f7f;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 4.8vmin"}.order-list-item .order-info .user-info-right[data-v-271ebe52]{text-align:right;font-size:2.933vmin;color:#7f7f7f;min-width:17.333vmin;content:"viewport-units-buggyfill; font-size: 2.933vmin; min-width: 17.333vmin"}.order-list-item .order-info .order-discount[data-v-271ebe52]{font-size:3.2vmin;line-height:4.8vmin;color:#7f7f7f;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 4.8vmin"}.order-list-item .order-info .order-discount .bold[data-v-271ebe52]{font-size:4.533vmin;line-height:4.8vmin;color:#484848;font-weight:700;content:"viewport-units-buggyfill; font-size: 4.533vmin; line-height: 4.8vmin"}.order-list-item .order-info .order-discount .line[data-v-271ebe52]{width:1px;height:3.6vmin;margin:0 3.333vmin;background-color:#181818;content:"viewport-units-buggyfill; height: 3.6vmin; margin: 0 3.333vmin"}.order-list-item .order-info .discount-desc[data-v-271ebe52]{margin-top:2.667vmin;background-color:#f7f7f7;padding:2.667vmin;font-size:3.2vmin;line-height:4.8vmin;color:#7f7f7f;border-radius:2.133vmin;position:relative;content:"viewport-units-buggyfill; margin-top: 2.667vmin; padding: 2.667vmin; font-size: 3.2vmin; line-height: 4.8vmin; border-radius: 2.133vmin"}.order-list-item .order-info .discount-desc[data-v-271ebe52]:before{content:" ";width:0;border-left:4vmin solid transparent;border-right:4vmin solid transparent;border-bottom:4vmin solid #f7f7f7;position:absolute;left:2.933vmin;top:-2.4vmin}.order-list-item .order-info .discount-desc-detail span[data-v-271ebe52]{margin-right:4vmin;content:"viewport-units-buggyfill; margin-right: 4vmin"}.order-list-item .order-info .order-exchange[data-v-271ebe52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-weight:400;font-size:3.2vmin;color:#7f7f7f;content:"viewport-units-buggyfill; font-size: 3.2vmin"}.order-list-item .order-info .order-exchange img[data-v-271ebe52]{width:2.933vmin;height:3.467vmin;margin-right:.667vmin;content:"viewport-units-buggyfill; width: 2.933vmin; height: 3.467vmin; margin-right: 0.667vmin"}.order-list-item .order-detail-info[data-v-271ebe52]{border-top:1px solid #ebebeb;border-bottom:1px solid #ebebeb;padding-top:3.067vmin;content:"viewport-units-buggyfill; padding-top: 3.067vmin"}.order-list-item .order-detail-info-item[data-v-271ebe52]{color:#7f7f7f;font-size:3.2vmin;line-height:4.8vmin;margin-bottom:4vmin;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 4.8vmin; margin-bottom: 4vmin"}.order-list-item .order-detail-info-item .product-image[data-v-271ebe52]{width:21.333vmin;height:21.333vmin;margin-right:4vmin;content:"viewport-units-buggyfill; width: 21.333vmin; height: 21.333vmin; margin-right: 4vmin"}.order-list-item .order-detail-info-item .product-image img[data-v-271ebe52]{display:block;width:100%}.order-list-item .order-detail-info-item .product-info[data-v-271ebe52]{padding-top:1.333vmin;-webkit-box-flex:1;-webkit-flex:1;flex:1;max-width:53.333vmin;-webkit-align-content:flex-start;align-content:flex-start;content:"viewport-units-buggyfill; padding-top: 1.333vmin; max-width: 53.333vmin"}.order-list-item .order-detail-info-item .product-info .product-name[data-v-271ebe52]{max-width:69.333vmin;color:#181818;content:"viewport-units-buggyfill; max-width: 69.333vmin"}.order-list-item .order-detail-info-item .product-info .product-sku[data-v-271ebe52]{color:#7f7f7f}.order-list-item .order-detail-info-item .product-info .type-btn[data-v-271ebe52]{padding:0 .667vmin;height:3.467vmin;color:#f16eae;font-size:2.4vmin;border-radius:.4vmin;box-sizing:border-box;border:1px solid #f16eae;content:"viewport-units-buggyfill; padding: 0 0.667vmin; height: 3.467vmin; font-size: 2.4vmin; border-radius: 0.4vmin"}.order-list-item .order-detail-info-item .product-quantity[data-v-271ebe52]{-webkit-align-self:center;align-self:center}.order-list-item .order-detail-info-sum[data-v-271ebe52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:#7f7f7f;font-size:2.667vmin;line-height:5.333vmin;content:"viewport-units-buggyfill; font-size: 2.667vmin; line-height: 5.333vmin"}.order-list-item .order-detail-info-sum .num[data-v-271ebe52]{color:#484848;font-size:3.467vmin;font-weight:700;margin-right:1.067vmin;content:"viewport-units-buggyfill; font-size: 3.467vmin; margin-right: 1.067vmin"}.order-list-item .order-total[data-v-271ebe52]{font-size:3.2vmin;line-height:1;color:#7f7f7f;content:"viewport-units-buggyfill; font-size: 3.2vmin"}.order-list-item .order-total-item[data-v-271ebe52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:2.667vmin;content:"viewport-units-buggyfill; margin-top: 2.667vmin"}.order-list-item .order-total-item .name[data-v-271ebe52]{color:#181818}.order-list-item .order-total-item .name[data-v-271ebe52],.order-list-item .order-total-item .payment[data-v-271ebe52]{font-weight:700;font-size:3.467vmin;content:"viewport-units-buggyfill; font-size: 3.467vmin"}.order-list-item .order-total-item .payment[data-v-271ebe52]{color:#f16eae}.order-list-item .flex-align-center[data-v-271ebe52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-list-item .mk-red[data-v-271ebe52]{color:#f16eae!important}.order-list-item .arrow-btn[data-v-271ebe52]{margin:2.667vmin 0;text-align:center;content:"viewport-units-buggyfill; margin: 2.667vmin 0"}.order-list-item .arrow-btn img[data-v-271ebe52]{display:block;width:4.667vmin;margin:0 auto;content:"viewport-units-buggyfill; width: 4.667vmin"}[data-v-271ebe52] .van-collapse .van-cell{padding:0;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}[data-v-271ebe52] .van-collapse .van-cell__right-icon{color:#d9d9d9}[data-v-271ebe52] .van-collapse .van-collapse-item__content{padding:4vmin 4vmin 0 3.2vmin;content:"viewport-units-buggyfill; padding: 4vmin 4vmin 0 3.2vmin"}',""]),t.exports=e},251:function(t,e,i){"use strict";i.r(e);var n=i(182);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},252:function(t,e,i){(e=i(56)(!1)).push([t.i,'.filter-content[data-v-42df4d0a]{color:#8e8e8e;font-size:3.733vmin;position:relative;content:"viewport-units-buggyfill; font-size: 3.733vmin"}.filter-content .filter-type[data-v-42df4d0a]{padding-top:4.8vmin;padding-left:4.8vmin;padding-bottom:12.533vmin;content:"viewport-units-buggyfill; padding-top: 4.8vmin; padding-left: 4.8vmin; padding-bottom: 12.533vmin"}.filter-content .filter-type-title[data-v-42df4d0a]{color:#303133;width:16vmin;margin-bottom:4vmin;padding-top:1.333vmin;content:"viewport-units-buggyfill; width: 16vmin; margin-bottom: 4vmin; padding-top: 1.333vmin"}.filter-content .filter-type-subtitle[data-v-42df4d0a]{color:#8e8e8e;font-size:3.2vmin;line-height:6.667vmin;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 6.667vmin"}.filter-content .filter-type-cell[data-v-42df4d0a]{margin-bottom:1.333vmin;display:-webkit-box;display:-webkit-flex;display:flex;content:"viewport-units-buggyfill; margin-bottom: 1.333vmin"}.filter-content .filter-type-cell .filter-type-content[data-v-42df4d0a]{max-width:73.333vmin;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;content:"viewport-units-buggyfill; max-width: 73.333vmin"}.filter-content .filter-type-cell .filter-type-content span[data-v-42df4d0a]{font-size:2.933vmin;padding:0 2.133vmin;height:6.4vmin;line-height:6.133vmin;text-align:center;background-color:#f9f9f9;margin-bottom:4vmin;margin-right:2.667vmin;border:1px solid #e8e8e8;border-radius:1.6vmin;font-weight:400;content:"viewport-units-buggyfill; font-size: 2.933vmin; padding: 0 2.133vmin; height: 6.4vmin; line-height: 6.133vmin; margin-bottom: 4vmin; margin-right: 2.667vmin; border-radius: 1.6vmin"}.filter-content .filter-type-cell .filter-type-content span[data-v-42df4d0a]:first-child{margin-left:0}.filter-content .filter-type-cell .filter-type-content .is_active[data-v-42df4d0a]{background-color:#fff7fb;color:#ed8dc3;border-color:#ed8dc3}.filter-content .filter-button[data-v-42df4d0a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:12.533vmin;line-height:12.533vmin;text-align:center;color:#606266;position:absolute;width:100%;bottom:0;background-color:#fff;content:"viewport-units-buggyfill; height: 12.533vmin; line-height: 12.533vmin"}.filter-content .filter-button-reset[data-v-42df4d0a]{border-right:.267vmin solid #f9f9f9;content:"viewport-units-buggyfill; border-top: 0.267vmin solid #f9f9f9; border-right: 0.267vmin solid #f9f9f9"}.filter-content .filter-button-confirm[data-v-42df4d0a],.filter-content .filter-button-reset[data-v-42df4d0a]{-webkit-box-flex:0.5;-webkit-flex:0.5;flex:0.5;border-top:.267vmin solid #f9f9f9}.filter-content .filter-button-confirm[data-v-42df4d0a]{color:#ed8dc3;content:"viewport-units-buggyfill; border-top: 0.267vmin solid #f9f9f9"}.filter-content .filter-button-confirm[data-v-42df4d0a] .el-dropdown-menu__item{color:#ed8dc3;line-height:12.533vmin;content:"viewport-units-buggyfill; line-height: 12.533vmin"}.el-dropdown-menu[data-v-42df4d0a]{width:100vw;left:0!important;padding:0;content:"viewport-units-buggyfill; width: 100vw"}.el-dropdown-menu .el-dropdown-menu__item[data-v-42df4d0a]{color:#c6c7c8;padding:0}.el-dropdown-menu .selected-month[data-v-42df4d0a]{background-color:#ffe9fa;color:#f26899;font-weight:700}',""]),t.exports=e},253:function(t,e,i){"use strict";i.r(e);var n=i(183);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},254:function(t,e,i){(e=i(56)(!1)).push([t.i,'.retail-detail[data-v-f4b2c4b4]{background-color:#f6f6f6;min-height:100vh;content:"viewport-units-buggyfill; min-height: 100vh"}.retail-detail .detail-content[data-v-f4b2c4b4]{padding-top:env(safe-area-inset-top);margin-top:10.667vmin;content:"viewport-units-buggyfill; margin-top: 10.667vmin"}.retail-detail .detail-content-order[data-v-f4b2c4b4]{color:#484848;font-size:3.2vmin;line-height:10.667vmin;margin:0 4vmin;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 10.667vmin; margin: 0 4vmin"}.retail-detail .detail-content-order .order-num[data-v-f4b2c4b4]{color:#f16eae;font-weight:700}.retail-detail .detail-content .order-list[data-v-f4b2c4b4]{padding:0 4vmin;content:"viewport-units-buggyfill; padding: 0 4vmin"}.isAndroid .detail-content[data-v-f4b2c4b4]{margin-top:18vmin;content:"viewport-units-buggyfill; margin-top: 18vmin"}.isAndroid[data-v-f4b2c4b4] .van-nav-bar{padding-top:7.333vmin;content:"viewport-units-buggyfill; padding-top: 7.333vmin"}[data-v-f4b2c4b4] .van-nav-bar,[data-v-f4b2c4b4] .van-nav-bar__placeholder{background-color:#ee4d9b}[data-v-f4b2c4b4] .van-nav-bar .van-nav-bar__content{height:10.667vmin;content:"viewport-units-buggyfill; height: 10.667vmin"}[data-v-f4b2c4b4] .van-nav-bar .van-nav-bar__content .van-nav-bar__left .back_btn{width:2.267vmin;height:4.267vmin;content:"viewport-units-buggyfill; width: 2.267vmin; height: 4.267vmin"}[data-v-f4b2c4b4] .van-nav-bar .van-nav-bar__content .van-nav-bar__right .nav-filter{color:#fff;font-size:3.733vmin;content:"viewport-units-buggyfill; font-size: 3.733vmin"}[data-v-f4b2c4b4] .van-nav-bar .van-nav-bar__title{color:#fff;font-size:4vmin;content:"viewport-units-buggyfill; font-size: 4vmin"}',""]),t.exports=e},407:function(t,e,i){"use strict";i.r(e);var n=i(3),a=i(1),o={props:{orderData:{type:Object,default:()=>({})},index:0,page:"",monthKey:""},data:()=>({activeNames:[],arrowType:"down",orderDetails:{orderList:[],totals:{}}}),watch:{monthKey(){this.activeNames=[]}},methods:{async change(t){let e=this.$ctx.baseApi;if(!t)return void(this.arrowType="down");this.arrowType="up";const{data:i}=await this.$request.get(`${e}/orders/${this.orderData.orderId}/oeitems`);this.orderDetails.orderList=[],i.orderPackages&&i.orderPackages.forEach(t=>{this.orderDetails.orderList=this.orderDetails.orderList.concat(t.lineItems)}),i.totals&&i.totals.forEach(t=>{let e=t.value>=0?"¥":"-¥",i=Math.abs(t.value);this.orderDetails.totals[t.name]=`${e}${i}`}),console.log("this.orderDetails",this.orderDetails)},showOrderDetail(){this.$refs.CollapseItem.toggle()}},components:{"van-collapse":n.Collapse,"van-collapse-item":n.CollapseItem,"van-icon":n.Icon,"van-button":n.Button}},r=i(10);var s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-list-item"},[t._ssrNode('<div class="order-info" data-v-271ebe52><div class="user-info" data-v-271ebe52><div class="user-info-left" data-v-271ebe52><img'+t._ssrAttr("src",t.orderData.headImageUrl?t.orderData.headImageUrl:"https://community-s3-website.marykay.com.cn/PROD/MyBizIntouch_Content_Cms/LibraryResource/20210510150439_466_@_thumb_60.jpg")+' alt class="avatar" data-v-271ebe52> <div data-v-271ebe52><div class="user-name" data-v-271ebe52>'+t._ssrEscape(t._s(t.orderData.name))+'</div> <div class="order-date" data-v-271ebe52>'+t._ssrEscape("\n            "+t._s(t._f("formatDate")(t.orderData.orderDate,"YYYY/MM/DD HH:mm:ss"))+"\n          ")+'</div></div></div> <div class="user-info-right" data-v-271ebe52><div data-v-271ebe52>'+t._ssrEscape(t._s(t.orderData.orderType))+"</div> <div"+t._ssrStyle(null,null,{display:t.orderData.orderExchange?"":"none"})+' data-v-271ebe52>\n          (此订单为调单)\n        </div></div></div> <div class="order-discount" data-v-271ebe52>'+("顾问BC订单"===t.orderData.orderType?'<div class="flex-align-center" data-v-271ebe52>\n        立减：'+(0===t.orderData.discount?'<span class="bold" data-v-271ebe52>'+t._ssrEscape("¥"+t._s(t._f("formatMoney")(t.orderData.discount,2)))+"</span>":'<span class="bold mk-red" data-v-271ebe52>'+t._ssrEscape("¥"+t._s(t._f("formatMoney")(t.orderData.discount,2)))+"</span>")+"</div>":'<div class="flex-align-center" data-v-271ebe52>\n        收益：<span class="bold mk-red" data-v-271ebe52>'+t._ssrEscape("¥"+t._s(t._f("formatMoney")(t.orderData.income,2)))+"</span></div>")+' <span class="line" data-v-271ebe52></span>\n      绩效：<span class="bold" data-v-271ebe52>'+t._ssrEscape(t._s(t._f("formatMoney")(t.orderData.production,2)))+'</span></div> <div class="discount-desc" data-v-271ebe52>'+("顾问BC订单"===t.orderData.orderType?'<div class="discount-desc-detail" data-v-271ebe52><span data-v-271ebe52>'+t._ssrEscape("订单金额:"+t._s(t.orderData.realRetail)+" ")+"</span> <span data-v-271ebe52>"+t._ssrEscape("订单折扣:"+t._s(10*parseInt(10*t.orderData.discountRate))+"%")+"</span></div>":'<div class="discount-desc-detail" data-v-271ebe52><span data-v-271ebe52>'+t._ssrEscape(" 返利:"+t._s(t.orderData.returnBonus)+" ")+"</span> <span data-v-271ebe52>"+t._ssrEscape(" 产品点数:"+t._s(t.orderData.priceoffPointTotal)+" ")+"</span> <span data-v-271ebe52>"+t._ssrEscape(" 女主人奖励:"+t._s(t.orderData.hostessReward)+" ")+"</span></div>")+"</div></div> "),t._ssrNode('<div class="order-detail" data-v-271ebe52>',"</div>",[n("van-collapse",{attrs:{accordion:"",border:!1},on:{change:t.change},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("van-collapse-item",{ref:"CollapseItem",attrs:{border:!1,name:"order_"+t.index},scopedSlots:t._u([{key:"right-icon",fn:function(){return[t._v(t._s(null))]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"order-detail-info"},t._l(t.orderDetails.orderList,(function(e,i){return n("div",{key:"item_"+i,staticClass:"order-detail-info-item"},[n("div",{staticClass:"product-image"},[n("img",{attrs:{src:e.imageUrl?e.imageUrl:"https://dev-community-s3.marykay.com.cn/QA/MyBizIntouch_Content_Cms/LibraryResource/20220106140017_630.png",alt:""}})]),t._v(" "),n("div",{staticClass:"product-info"},[n("div",{staticClass:"climp product-name"},["FreeBonusPart"===e.itemType?n("span",{staticClass:"type-btn"},[t._v("促销活动")]):t._e(),t._v(" "),n("span",{staticClass:"desc"},[t._v(t._s(e.partBase.itemDesc))])]),t._v(" "),n("div",[n("span",{staticClass:"product-sku"},[t._v("("+t._s(e.partBase.partId)+")")])])]),t._v(" "),n("div",{staticClass:"product-quantity"},[n("span",[t._v("x "+t._s(e.partBase.quantity))])])])})),0),t._v(" "),"顾问BC订单"!==t.orderData.orderType?n("div",{staticClass:"order-total"},[n("div",{staticClass:"order-total-item"},[n("span",[t._v("零售价总额")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.section_I_retail_with_point))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("工具产品总额")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.section_II_retail))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("运费")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.freight_charge_on_order))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("优惠券优惠")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.order_voucher))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",{staticClass:"name"},[t._v("订单支付金额")]),t._v(" "),n("span",{staticClass:"payment"},[t._v(t._s(t.orderDetails.totals.order_payment))])])]):n("div",{staticClass:"order-total"},[n("div",{staticClass:"order-total-item"},[n("span",[t._v("零售价总额")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.section_I_retail))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("辅助产品总额")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.section_II_retail))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("运费")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.freight_charge_on_order))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",[t._v("折扣优惠")]),t._v(" "),n("span",[t._v(t._s(t.orderDetails.totals.section_I_discount))])]),t._v(" "),n("div",{staticClass:"order-total-item"},[n("span",{staticClass:"name"},[t._v("订单支付金额")]),t._v(" "),n("span",{staticClass:"payment"},[t._v(t._s(t.orderDetails.totals.order_payment))])])])]),t._v(" "),n("div",{staticClass:"arrow-btn",on:{click:t.showOrderDetail}},["down"===t.arrowType?n("img",{attrs:{src:i(247),alt:""}}):n("img",{attrs:{src:i(248),alt:""}})])],1)],1)],2)}),[],!1,(function(t){var e=i(249);e.__inject__&&e.__inject__(t)}),"271ebe52","4a4688c4").exports,l={name:"filterActionSheet",data:()=>({filterResult:{},filterCopy:{},filterText:"筛选",accountType:""}),props:{filterConfig:{type:Array,default:()=>[]},filter:{type:Object,default:()=>({})},total:{type:Number,default:0},pageName:{type:String,default:""}},mounted(){const{accountType:t}=this.$route.query;this.accountType=t},methods:{initFilterConfig(){this.initFilter(),console.log("this.filterResult)",this.filterResult),this.filterCopy=Object(a.d)(this.filterResult)},selectItem(t,e){const{prop:i,multiple:n=!0}=e;let a="RetailDetailFilterTagClick";"PersonalProfilePage"===this.pageName&&(a="PersonalRetailDetailFilterTagClick"),this.$track({context:this.pageName,behavior:a,item_type:this.pageName,item_id:a,attributes:{[i]:t.value,isEmployee:"operation"===this.accountType}}),n?this.filterResult[i].includes(t.value)?(this.filterResult[i].splice(this.filterResult[i].findIndex(e=>e===t.value),1),this.$set(t,"selected",!1)):(this.filterResult[i].push(t.value),this.$set(t,"selected",!0)):this.filterResult[i]===t.value?(this.filterResult[i]=null,this.$set(t,"selected",!1)):(this.filterResult[i]=t.value,this.filterConfig.forEach(t=>{t.prop===i&&t.options.forEach(t=>{this.$set(t,"selected",!1)})}),this.$set(t,"selected",!0))},clickOverlay(){this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;n.forEach(t=>{this.$set(t,"selected",!1),i?this.filterCopy[e].findIndex(e=>e===t.value)>-1&&this.$set(t,"selected",!0):this.filterCopy[e]===t.value&&this.$set(t,"selected",!0)})}),this.filterResult=Object(a.d)(this.filterCopy)},initFilter(){this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;this.filterResult[e]=i?[]:null,n.forEach(t=>{i?this.filter[e]&&Object(a.p)(t.value,this.filter[e])?this.$set(t,"selected",!0):this.$set(t,"selected",!1):t.value===this.filter[e]?this.$set(t,"selected",!0):this.$set(t,"selected",!1)})})},filterReset(){console.log("filterConfig",this.filterConfig);let t="RetailDetailFilterCancelClick";"PersonalProfilePage"===this.pageName&&(t="PersonalFilterResetClick"),this.$track({context:this.pageName,behavior:t,item_type:this.pageName,item_id:t,attributes:{isEmployee:"operation"===this.accountType}}),this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;this.filterResult[e]=i?[]:null,n.forEach(t=>{this.$set(t,"selected",!1)})})},filterConfirm(){let t=!1;Object.keys(this.filterResult).forEach(e=>{Array.isArray(this.filterResult[e])?this.filterResult[e].length&&(t=!0):null!==this.filterResult[e]&&(t=!0)}),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(a.d)(this.filterResult),this.$emit("filterConfirm",this.filterResult)},visibleChange(t){this.$emit("visibleChange",t)}}};var d=Object(r.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dropdown",{staticClass:"nav-filter",attrs:{trigger:"click"},on:{"visible-change":t.visibleChange}},[i("span",{staticClass:"el-dropdown-link"},[t._v(" 筛选 ")]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"filter-content"},[i("div",{staticClass:"filter-type"},t._l(t.filterConfig,(function(e){return i("div",{key:e.prop},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.options&&e.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[i("div",{staticClass:"filter-type-title"},[t._v(t._s(e.label))]),t._v(" "),i("div",[e.showSubTitle?i("div",{staticClass:"filter-type-subtitle"},[t._v("\n                "+t._s(e.subTitle)+"：\n              ")]):t._e(),t._v(" "),i("div",{staticClass:"filter-type-content"},t._l(e.options,(function(n){return i("span",{key:n.value,class:{is_active:n.selected},on:{click:function(i){return t.selectItem(n,e)}}},[t._v("\n                  "+t._s(n.name)+"\n                ")])})),0)])])])})),0),t._v(" "),i("div",{staticClass:"filter-button"},[i("span",{staticClass:"filter-button-reset",on:{click:t.filterReset}},[t._v("重置")]),t._v(" "),i("span",{staticClass:"filter-button-confirm",on:{click:t.filterConfirm}},[i("el-dropdown-item",{attrs:{command:"filterConfirm"}},[t._v("确认 ")])],1)])])])],1)}),[],!1,(function(t){var e=i(251);e.__inject__&&e.__inject__(t)}),"42df4d0a","6fb87245").exports,c={data:()=>({isIos:Object(a.l)(),activeNames:"",orderList:[],loading:!0,finished:!1,orderTotal:0,filter:{pageNo:1,pageSize:20,monthKeys:[],orderTypes:[]},monthMap:[],filterConfig:[{prop:"orderTypes",label:"订单类型",options:[{name:"顾问RC订单",value:"顾问RC订单"},{name:"顾问BC订单",value:"顾问BC订单"},{name:"顾客RC订单",value:"顾客RC订单"}]},{prop:"monthKeys",label:"时间",options:[]}],targetContactId:null,showOverlay:!1,showTable:!0,from:"",pageName:"",accountType:"",notSyncQuantity:0,showSyncQuantity:!1,loginName:""}),async created(){const{targetContactId:t,from:e,accountType:i,levelCode:n,isSelf:a,loginName:o}=this.$route.query;this.showSyncQuantity="operation"===i&&n>=60||!!(a&&n>=60),this.targetContactId=t,this.from=e,this.accountType=i,"profile"===this.from?this.pageName="PersonalProfilePage":this.pageName="HomePage";let r=this.$ctx.baseApi;const{data:s}=await this.$request.get(r+"/monthkey");let l=new Date(s.toString().substr(0,4),s.toString().substr(4,6));l.setMonth(l.getMonth(),1);for(let t=0;t<6;t++){l.setMonth(l.getMonth()-1);let t=`${l.getFullYear()}${this.addZero(l.getMonth()+1)}`;this.monthMap.push({value:t,name:`${l.getFullYear()}-${this.addZero(l.getMonth()+1)}`})}this.filterConfig.forEach(t=>{"monthKeys"===t.prop&&(t.options=this.monthMap)}),this.$nextTick(()=>{this.$refs.filterAction.initFilterConfig()});const d=await this.getListData();this.orderList=d.orderList,this.getNotSyncQuantity()},methods:{back(){Object(a.b)()},addZero:t=>t<10?"0"+t:t,async getNotSyncQuantity(){let t=this.$ctx.baseApi;const{data:e}=await this.$request.get(t+"/oeorders/sync");this.notSyncQuantity=e.notSyncQuantity},toOrderSummary(){let t=`https://{{env_minus}}lucky.marykay.com.cn/reports/order_summary?fullscreen=true&opaque=false&progress_hidden=true&busy_hidden=false&orderStatus=2,3&impersonatedContactId=${this.targetContactId}&ConsultantName=${this.loginName}`;console.log(t),this.$jsBridge.openSchema(t)},visibleChange(t){let e="RetailDetailFilterClick";"profile"===this.from&&(e="PersonalRetailDetailFilterClick"),this.$track({context:this.pageName,behavior:e,item_type:this.pageName,item_id:e,attributes:{isEmployee:"operation"===this.accountType}}),this.showOverlay=t},clickOverlay(){this.showOverlay=!1,this.$refs.filterAction.clickOverlay()},async filterConfirm(t){console.log("filter",t),this.filter.pageNo=1,this.filter=Object.assign(this.filter,t);let e="RetailDetailFilterConfirmClick";"profile"===this.from&&(e="PersonalFilterConfirmClick"),this.$track({context:this.pageName,behavior:e,item_type:this.pageName,item_id:e,attributes:{isEmployee:"operation"===this.accountType}}),this.finished=!1,this.orderList=[];const i=await this.getListData();this.orderList=i.orderList,this.orderList&&this.orderList.length?this.showTable=!0:this.showTable=!1},async onLoad(){this.filter.pageNo=this.filter.pageNo+1;const t=await this.getListData();this.orderList=this.orderList.concat(t.orderList)},async onRefresh(){this.finished=!1,this.filter.pageNo=1;const t=await this.getListData();this.refreshing&&(this.orderList=[],this.refreshing=!1),this.orderList=t.orderList},async getListData(){this.loading=!0;const{pageNo:t,pageSize:e,monthKeys:i,orderTypes:n}=this.filter,a={pageNo:t,pageSize:e,monthKeys:i,orderTypes:n};i&&i.length&&(a.monthKeys=i.join(",")),n&&n.length&&(a.orderTypes=n.join(","));let o=this.$ctx.baseApi;const{data:r}=await this.$request.get(o+"/orders/retail",{params:a});return this.orderTotal=r.orderTotal,this.loading=!1,r.hasNextPage?this.finished=!1:this.finished=!0,r.orderList=r.orderList.map(t=>(t.orderDetails=[],t)),r}},components:{NavBar:n.NavBar,List:n.List,OrderListItem:s,elDropdowmMenu:d,"van-overlay":n.Overlay}};var v=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"retail-detail",class:{isAndroid:!t.isIos}},[n("NavBar",{attrs:{"left-text":"返回",fixed:"",title:"零售明细",border:!1,"safe-area-inset-top":!0},on:{"click-left":t.back},scopedSlots:t._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:i(58),alt:""}})]},proxy:!0},{key:"right",fn:function(){return[n("el-dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:t.filterConfig,pageName:t.pageName},on:{visibleChange:t.visibleChange,filterConfirm:t.filterConfirm}})]},proxy:!0}])}),t._ssrNode(" "),t._ssrNode('<div class="detail-content"'+t._ssrStyle(null,null,{display:t.showTable?"":"none"})+" data-v-f4b2c4b4>","</div>",[t._ssrNode('<div class="detail-content-order" data-v-f4b2c4b4><div class="detail-content-order-left" data-v-f4b2c4b4>\n        全部订单（<span class="order-num" data-v-f4b2c4b4>'+t._ssrEscape(t._s(t.orderTotal))+"</span>）\n      </div> "+(t.showSyncQuantity?'<div class="detail-content-order-right" data-v-f4b2c4b4>\n        当前沙龙未同步订单：<span class="default-color" data-v-f4b2c4b4>'+t._ssrEscape(t._s(t.notSyncQuantity))+"</span></div>":"\x3c!----\x3e")+"</div> "),t._ssrNode('<div class="order-list" data-v-f4b2c4b4>',"</div>",[n("List",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.orderList,(function(e,i){return n("order-list-item",{key:"order_"+i,attrs:{orderData:e,index:i,monthKey:t.filter.monthKey}})})),1)],1)],2),t._ssrNode(" "+(t.showTable?"\x3c!----\x3e":'<div class="nodata" data-v-f4b2c4b4><img'+t._ssrAttr("src",i(125))+" alt data-v-f4b2c4b4> <div data-v-f4b2c4b4>暂时没有数据</div></div>")+" "),n("van-overlay",{attrs:{show:t.showOverlay},on:{click:t.clickOverlay}})],2)}),[],!1,(function(t){var e=i(253);e.__inject__&&e.__inject__(t)}),"f4b2c4b4","44dd772b");e.default=v.exports}};