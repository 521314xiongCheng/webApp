exports.ids=[12],exports.modules={115:function(t,e,i){var n=i(119);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("ca7aef08",n,!0,t)}},116:function(t,e,i){"use strict";var n={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:()=>({loadingText:"拼命加载中"}),mounted(){},methods:{sortChange(t){this.$emit("sortChange",t)},headerClick(t,e){this.$emit("headerClick",t,e)},rowClickchange(t){this.$emit("rowClickchange",t)},cellClick(t,e,i,n){this.$emit("cellClick",{row:t,column:e,event:i,cell:n})}}},a=i(10);var o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-table"},[i("el-table",{ref:"commonTable",attrs:{data:t.tableData.data,stripe:!0,"element-loading-text":t.loadingText,"show-header":t.tableData.showHeader,height:t.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":t.setClassName,border:t.border},on:{"sort-change":t.sortChange,"header-click":t.headerClick,"row-click":t.rowClickchange,"cell-click":t.cellClick}},[t._t("between"),t._v(" "),t._l(t.tableData.header,(function(e){return i("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width,fixed:e.fixed,"min-width":e.minWidth,"max-width":e.maxWidth,sortable:e.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[i("span",[t._v(t._s(e.formatter?e.formatter(n.row,n.$index):n.row[e.prop]))])]}}],null,!0)})})),t._v(" "),t._t("default")],2)],1)}),[],!1,(function(t){var e=i(118);e.__inject__&&e.__inject__(t)}),"797892fe","3e91d5e2");e.a=o.exports},118:function(t,e,i){"use strict";i.r(e);var n=i(115);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},119:function(t,e,i){(e=i(56)(!1)).push([t.i,'[data-v-797892fe] .el-table,[data-v-797892fe] .el-table thead{color:#333}[data-v-797892fe] .el-table thead tr th{background-color:#fafafa}.common-table[data-v-797892fe] .cell-class_avatar .cell{overflow:unset}.common-table[data-v-797892fe] .cell-class_avatar .cell .avatar-wrap{position:relative;width:10.667vmin;height:10.667vmin;margin:0 auto;content:"viewport-units-buggyfill; width: 10.667vmin; height: 10.667vmin"}.common-table[data-v-797892fe] .cell-class_avatar .cell .avatar-wrap .avatar{width:10.667vmin;height:10.667vmin;border-radius:50%;object-fit:cover;vertical-align:middle;content:"viewport-units-buggyfill; width: 10.667vmin; height: 10.667vmin"}.common-table[data-v-797892fe] .cell-class_avatar .cell .avatar-wrap .icon_crown{position:absolute;width:5.333vmin;height:5.2vmin;right:-2vmin;top:-2vmin;-webkit-transform:rotate(4deg);transform:rotate(4deg);content:"viewport-units-buggyfill; width: 5.333vmin; height: 5.2vmin; right: -2vmin; top: -2vmin"}.common-table[data-v-797892fe] .user{white-space:nowrap}.common-table[data-v-797892fe] .user-info .user_name{position:relative;display:inline-block;color:#333;white-space:normal;font-weight:700}.common-table[data-v-797892fe] .user-info .user_name .icon{position:absolute;width:2.667vmin;height:2.667vmin;right:-3.2vmin;top:1.333vmin;content:"viewport-units-buggyfill; width: 2.667vmin; height: 2.667vmin; right: -3.2vmin; top: 1.333vmin"}.common-table[data-v-797892fe] .user .tags{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.common-table[data-v-797892fe] .user .tags span{padding:0 .8vmin;line-height:3.467vmin;display:inline-block;text-align:center;font-size:2.667vmin;content:"viewport-units-buggyfill; padding: 0 0.8vmin; line-height: 3.467vmin; font-size: 2.667vmin"}.common-table[data-v-797892fe] .user .tags .level{background-color:rgba(241,110,159,.15);color:#f16e9f}.common-table[data-v-797892fe] .user .tags .status{background-color:rgba(110,116,241,.15);color:#8288f5;margin-left:.4vmin;content:"viewport-units-buggyfill; margin-left: 0.4vmin"}.common-table[data-v-797892fe] .user .tags .self{background-color:rgba(255,107,40,.15);color:#ff783c;margin-left:.4vmin;content:"viewport-units-buggyfill; margin-left: 0.4vmin"}.common-table[data-v-797892fe] .user .no-self{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.common-table[data-v-797892fe] .user .no-self span{line-height:2.667vmin;display:inline-block;text-align:center;font-size:2.667vmin;content:"viewport-units-buggyfill; line-height: 2.667vmin; font-size: 2.667vmin"}.common-table[data-v-797892fe] .user .no-self .level,.common-table[data-v-797892fe] .user .no-self .status{color:#898989;background-color:#fff}.common-table[data-v-797892fe] .user .no-self .line{width:1px;height:2.4vmin;background:#b1b6c0;margin:0 .933vmin 0 1.333vmin;content:"viewport-units-buggyfill; height: 2.4vmin; margin: 0 0.933vmin 0 1.333vmin"}.common-table[data-v-797892fe] .el-table .descending .sort-caret.descending{border-top-color:#f16eae}.common-table[data-v-797892fe] .el-table .ascending .sort-caret.ascending{border-bottom-color:#f16eae}.common-table[data-v-797892fe] .el-table .cell{padding:0}.common-table[data-v-797892fe] .cell-class_estimateProductionAmt .cell{padding:1.6vmin 0;content:"viewport-units-buggyfill; padding: 1.6vmin 0"}.common-table[data-v-797892fe] .el-table th.el-table__cell>.cell{padding:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;white-space:pre-wrap}',""]),t.exports=e},126:function(t,e,i){"use strict";var n=i(3),a=i(1);const o=[{name:"设为关注",prop:"follow"},{name:"个人详情",prop:"profile"},{name:"新人行动",prop:"nbcAction"},{name:"添加笔记",prop:"addNote"},{name:"邀请设置收入目标",prop:"setTarget"},{name:"查看目标评估",prop:"assess"},{name:"拨打电话",prop:"call"}];var l={data:()=>({show:!1,actions:[],safeareainsetBottom:!0,lockScroll:!0}),props:{pageName:{type:String,default:"UnitDetailsPage"},profileClickEventName:{type:String,default:"UnitDetailsClick"},focusEventName:{type:String,default:"UnitDetailsSetFocusClick"},unfocusEventName:{type:String,default:"UnitDetailsUnfocusClick"},setTargetEventName:{type:String,default:"UnitDetailsSetIncomeTargetClick"},callEventName:{type:String,default:"UnitDetailsPhoneCallClick"},cancelEventName:{type:String,default:"UnitDetailsCancelClick"},evaluationEventName:{type:String,default:"OffspringDetailsHeadPortraitTargetEvaluationClick"},accountType:{type:String,default:""},isFullScreen:{type:Boolean,default:!1},selectInfo:{type:String,default:""},info:{type:Object,default:()=>({})},targetContactId:null},methods:{onSelect(t){console.log(t.prop);let e="UnitDetailsClick";switch(t.prop){case"follow":e=this.info.isFocus?this.unfocusEventName:this.focusEventName;break;case"profile":e=this.profileClickEventName;break;case"setTarget":e=this.setTargetEventName;break;case"call":e=this.callEventName;break;case"assess":e=this.evaluationEventName;break;case"nbcAction":e="nbcAction",this.toActionPlan();break;case"addNote":e="addNote",this.goAddNote()}console.log(this.pageName,e),this.$track({context:this.pageName,behavior:e,item_type:this.pageName,item_id:e}),this.$emit("onSelect",t)},toActionPlan(){let t=window.location.origin+"/nbcActionPlan";const e={opaque:!1,targetContactId:this.info.contactId};this.$go(t,e)},async goAddNote(){const{data:t}=await this.$request.get(`${this.$ctx.baseApi}/notes/check?followContactId=${this.info.contactId}&contactId=${this.targetContactId}`);let e=window.location.origin+"/note",i={opaque:!1,targetContactId:this.info.contactId,name:this.info.name,levelCode:this.info.careerLevelCode,followed:this.targetContactId};t.hasNote||(e=window.location.origin+"/addNote",i={targetContactId:this.info.contactId,name:this.info.name,opaque:!1,levelCode:this.info.careerLevelCode,from:"addNote_none",followed:this.targetContactId}),console.log("params",i),this.$go(e,i)},onCancel(){this.$track({context:this.pageName,behavior:this.cancelEventName,item_type:this.pageName,item_id:this.cancelEventName})},async showActions(){if(console.log(this.$route.path),this.isFullScreen)return void this.$toast("请返回竖屏下操作～");let t=this.$ctx.baseApi;const{data:{isNew:e}}=await this.$request.get(`${t}/goldenweek/newconsultant?contactId=${this.info.contactId}`);let i=Object(a.d)(o);this.info.isFocus?i[0].name="移除关注":i[0].name="设为关注",this.info.setTargetIncomeAmt?i[4].name="邀请修改收入目标":i[4].name="邀请设置收入目标","50"===this.info.careerLevelCode&&i.forEach((t,e,i)=>{"follow"===t.prop&&i.splice(e,1)}),"note"==this.selectInfo&&(i.forEach((t,e,i)=>{"follow"!==t.prop&&"setTarget"!==t.prop&&"assess"!==t.prop||i.splice(e,1)}),i.splice(1,0,{name:"查看笔记",prop:"goNote"})),this.info.contactId.toString()===this.targetContactId&&i.forEach((t,e,i)=>{"follow"!==t.prop&&"setTarget"!==t.prop&&"call"!==t.prop||i.splice(e,1)}),"operation"!==this.accountType||this.$route.path.includes("operation")||(i.forEach((t,e,i)=>{"follow"!==t.prop&&"setTarget"!==t.prop&&"nbcAction"!==t.prop||i.splice(e,1)}),Number(this.info.careerLevelCode)<50&&i.forEach((t,e,i)=>{"call"===t.prop&&i.splice(e,1)})),"operation"!==this.accountType&&i.forEach((t,e,i)=>{"assess"===t.prop&&i.splice(e,1)}),e||i.forEach((t,e,i)=>{"nbcAction"===t.prop&&i.splice(e,1)}),this.actions=i,this.show=!0}},components:{"van-action-sheet":n.ActionSheet}},r=i(10);var s=Object(r.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":"取消","safe-area-inset-bottom":t.safeareainsetBottom,"lock-scroll":t.lockScroll},on:{select:t.onSelect,cancel:t.onCancel},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})}),[],!1,(function(t){}),"533543d6","774680dc");e.a=s.exports},128:function(t,e,i){t.exports=i.p+"img/icon_search.16d4819f.png"},130:function(t,e,i){t.exports=i.p+"img/select.65b9fd04.png"},131:function(t,e,i){var n=i(138);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("239678f8",n,!0,t)}},135:function(t,e,i){"use strict";var n=i(136),a=i(3),o=i(1),l={name:"filterActionSheet",data:()=>({filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}),props:{filterConfig:{type:Array,default:()=>[]},filter:{type:Object,default:()=>({accountType:""})},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted(){const{accountType:t}=this.$route.query;this.accountType=t},methods:{setFilterText(t="筛选"){this.filterText=t},opened(){this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",()=>{this.clickOverlay()})},close(){this.$emit("filterActionIsOpen",!1)},initFilterConfig(){this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;this.filterResult[e]=i?this.filter[e]?this.filter[e]:[]:this.filter[e]?this.filter[e]:null,n.forEach(t=>{i?this.filter[e]&&Object(o.p)(t.value,this.filter[e])?(this.$set(t,"selected",!0),this.filterText="已筛选"):this.$set(t,"selected",!1):t.value===this.filter[e]?(this.$set(t,"selected",!0),this.filterText="已筛选"):this.$set(t,"selected",!1)})}),this.filterCopy=Object(o.d)(this.filterResult)},selectItem(t,e){const{prop:i,multiple:n=!0}=e;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:{[i]:t.value,isEmployee:"operation"===this.accountType}}),n?this.filterResult[i].includes(t.value)?(this.filterResult[i].splice(this.filterResult[i].findIndex(e=>e===t.value),1),this.$set(t,"selected",!1)):(this.filterResult[i].push(t.value),this.$set(t,"selected",!0)):this.filterResult[i]===t.value?(this.filterResult[i]=null,this.$set(t,"selected",!1)):(this.filterResult[i]=t.value,this.filterConfig.forEach(t=>{t.prop===i&&t.options.forEach(t=>{this.$set(t,"selected",!1)})}),this.$set(t,"selected",!0))},clickOverlay(){this.isOpen&&(this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;n.forEach(t=>{this.$set(t,"selected",!1),i?this.filterCopy[e].findIndex(e=>e===t.value)>-1&&this.$set(t,"selected",!0):this.filterCopy[e]===t.value&&this.$set(t,"selected",!0)})}),this.filterResult=Object(o.d)(this.filterCopy))},filterReset(){this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach(t=>{const{prop:e,multiple:i=!0,options:n}=t;this.filterResult[e]=i?[]:null,n.forEach(t=>{this.$set(t,"selected",!1)})})},filterConfirm(){this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});let t=!1;Object.keys(this.filterResult).forEach(e=>{Array.isArray(this.filterResult[e])?this.filterResult[e].length&&(t=!0):null!==this.filterResult[e]&&(t=!0)}),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(o.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":a.DropdownMenu,"van-dropdown-item":a.DropdownItem},directives:{Clickoutside:n.a}},r=i(10);var s=Object(r.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-dropdown-menu",[i("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:t.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:t.opened,close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"title"},[i("span",[t._v("\n          "+t._s(t.filterText)+"\n        ")]),t._v(" "),i("span",{staticClass:"num"},[t._v("("+t._s(t.total)+")")])])]},proxy:!0}])},[t._v(" "),i("div",{staticClass:"filter-content"},[i("div",{staticClass:"filter-type"},t._l(t.filterConfig,(function(e){return i("div",{key:e.prop},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.options&&e.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[i("div",{staticClass:"filter-type-title"},[t._v(t._s(e.label))]),t._v(" "),i("div",[e.showSubTitle?i("div",{staticClass:"filter-type-subtitle"},[t._v("\n                "+t._s(e.subTitle)+"：\n              ")]):t._e(),t._v(" "),i("div",{staticClass:"filter-type-content"},t._l(e.options,(function(n){return i("span",{key:n.value,class:{is_active:n.selected},on:{click:function(i){return t.selectItem(n,e)}}},[t._v("\n                  "+t._s(n.name)+"\n                ")])})),0)])])])})),0),t._v(" "),i("div",{staticClass:"filter-button"},[i("span",{staticClass:"filter-button-reset",on:{click:t.filterReset}},[t._v("重置")]),t._v(" "),i("span",{staticClass:"filter-button-confirm",on:{click:t.filterConfirm}},[t._v("确认")])])])])],1)}),[],!1,(function(t){var e=i(137);e.__inject__&&e.__inject__(t)}),"6d8bb1f7","119a193e");e.a=s.exports},136:function(t,e,i){"use strict";var n=i(2),a=i.n(n);const o=a.a.prototype.$isServer,l=(o||Number(document.documentMode),!o&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)});!o&&document.removeEventListener;const r=[],s="@@clickoutsideContext";let c,d=0;function f(t,e,i){return function(n={},a={}){!(i&&i.context&&n.target&&a.target)||t.contains(n.target)||t.contains(a.target)||t===n.target||i.context.popperElm&&(i.context.popperElm.contains(n.target)||i.context.popperElm.contains(a.target))||(e.expression&&t[s].methodName&&i.context[t[s].methodName]?i.context[t[s].methodName]():t[s].bindingFn&&t[s].bindingFn())}}!a.a.prototype.$isServer&&l(document,"mousedown",t=>c=t),!a.a.prototype.$isServer&&l(document,"mouseup",t=>{r.forEach(e=>e[s].documentHandler(t,c))});e.a={bind(t,e,i){r.push(t);const n=d++;t[s]={id:n,documentHandler:f(t,e,i),methodName:e.expression,bindingFn:e.value}},update(t,e,i){t[s].documentHandler=f(t,e,i),t[s].methodName=e.expression,t[s].bindingFn=e.value},unbind(t){let e=r.length;for(let i=0;i<e;i++)if(r[i][s].id===t[s].id){r.splice(i,1);break}delete t[s]}}},137:function(t,e,i){"use strict";i.r(e);var n=i(131);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},138:function(t,e,i){(e=i(56)(!1)).push([t.i,'.filter-content[data-v-6d8bb1f7]{color:#8e8e8e;font-size:3.733vmin;position:relative;content:"viewport-units-buggyfill; font-size: 3.733vmin"}.filter-content .filter-type[data-v-6d8bb1f7]{padding-top:4.8vmin;padding-left:4.8vmin;padding-bottom:12.533vmin;overflow-y:scroll;max-height:80vmin;content:"viewport-units-buggyfill; padding-top: 4.8vmin; padding-left: 4.8vmin; padding-bottom: 12.533vmin; max-height: 80vmin"}.filter-content .filter-type-title[data-v-6d8bb1f7]{color:#303133;width:16vmin;margin-bottom:4vmin;padding-top:1.333vmin;content:"viewport-units-buggyfill; width: 16vmin; margin-bottom: 4vmin; padding-top: 1.333vmin"}.filter-content .filter-type-subtitle[data-v-6d8bb1f7]{color:#8e8e8e;font-size:3.2vmin;line-height:6.667vmin;content:"viewport-units-buggyfill; font-size: 3.2vmin; line-height: 6.667vmin"}.filter-content .filter-type-cell[data-v-6d8bb1f7]{margin-bottom:1.333vmin;display:-webkit-box;display:-webkit-flex;display:flex;content:"viewport-units-buggyfill; margin-bottom: 1.333vmin"}.filter-content .filter-type-cell .filter-type-content[data-v-6d8bb1f7]{max-width:73.333vmin;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;content:"viewport-units-buggyfill; max-width: 73.333vmin"}.filter-content .filter-type-cell .filter-type-content span[data-v-6d8bb1f7]{font-size:2.933vmin;padding:0 2.133vmin;height:6.4vmin;line-height:6.133vmin;text-align:center;background-color:#f9f9f9;margin-bottom:4vmin;margin-right:2.667vmin;border:1px solid #e8e8e8;border-radius:1.6vmin;font-weight:400;content:"viewport-units-buggyfill; font-size: 2.933vmin; padding: 0 2.133vmin; height: 6.4vmin; line-height: 6.133vmin; margin-bottom: 4vmin; margin-right: 2.667vmin; border-radius: 1.6vmin"}.filter-content .filter-type-cell .filter-type-content span[data-v-6d8bb1f7]:first-child{margin-left:0}.filter-content .filter-type-cell .filter-type-content .is_active[data-v-6d8bb1f7]{background-color:#fff7fb;color:#ed8dc3;border-color:#ed8dc3}.filter-content .filter-button[data-v-6d8bb1f7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:12.533vmin;line-height:12.533vmin;text-align:center;color:#606266;position:absolute;width:100%;bottom:0;background-color:#fff;content:"viewport-units-buggyfill; height: 12.533vmin; line-height: 12.533vmin"}.filter-content .filter-button-reset[data-v-6d8bb1f7]{border-right:.267vmin solid #f9f9f9;content:"viewport-units-buggyfill; border-top: 0.267vmin solid #f9f9f9; border-right: 0.267vmin solid #f9f9f9"}.filter-content .filter-button-confirm[data-v-6d8bb1f7],.filter-content .filter-button-reset[data-v-6d8bb1f7]{-webkit-box-flex:0.5;-webkit-flex:0.5;flex:0.5;border-top:.267vmin solid #f9f9f9}.filter-content .filter-button-confirm[data-v-6d8bb1f7]{color:#ed8dc3;content:"viewport-units-buggyfill; border-top: 0.267vmin solid #f9f9f9"}[data-v-6d8bb1f7] .van-dropdown-menu__bar{height:auto;box-shadow:none}[data-v-6d8bb1f7] .van-dropdown-menu__bar .van-dropdown-menu__title{padding:0;font-size:3.733vmin;font-weight:700;color:#f16eae;content:"viewport-units-buggyfill; font-size: 3.733vmin"}[data-v-6d8bb1f7] .van-dropdown-menu__bar .van-dropdown-menu__title:after{content:none}[data-v-6d8bb1f7] .van-dropdown-menu__bar .van-dropdown-menu__title .title{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}[data-v-6d8bb1f7] .van-dropdown-menu__bar .van-dropdown-menu__title .num{font-size:2.933vmin;color:#000;font-weight:400;margin-left:.8vmin;content:"viewport-units-buggyfill; font-size: 2.933vmin; margin-left: 0.8vmin"}[data-v-6d8bb1f7] .van-nav-bar__right:active{opacity:1!important}',""]),t.exports=e},225:function(t,e,i){var n=i(402);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(57).default;t.exports.__inject__=function(t){a("bd7f000c",n,!0,t)}},401:function(t,e,i){"use strict";i.r(e);var n=i(225);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},402:function(t,e,i){(e=i(56)(!1)).push([t.i,'.coach-home-content[data-v-72833de4]{position:relative}[data-v-72833de4] .van-nav-bar{background-color:#ee4d9b;z-index:4}[data-v-72833de4] .van-nav-bar .van-nav-bar__content{height:10.667vmin;content:"viewport-units-buggyfill; height: 10.667vmin"}[data-v-72833de4] .van-nav-bar .van-nav-bar__content .van-nav-bar__left .back_btn{width:2.267vmin;height:4.267vmin;content:"viewport-units-buggyfill; width: 2.267vmin; height: 4.267vmin"}[data-v-72833de4] .van-nav-bar .van-nav-bar__title{color:#fff}.icon-search[data-v-72833de4]{width:6.133vmin;margin-right:3.333vmin;content:"viewport-units-buggyfill; width: 6.133vmin; margin-right: 3.333vmin"}[data-v-72833de4] .van-tab{background:#ee4d9b;color:#fff;font-size:4.267vmin;content:"viewport-units-buggyfill; font-size: 4.267vmin"}[data-v-72833de4] .van-tab--active{color:#fff;font-weight:500}[data-v-72833de4] .van-tabs__wrap{height:13.333vmin;content:"viewport-units-buggyfill; height: 13.333vmin"}[data-v-72833de4] .van-tabs__nav--line{background-color:#f16eae}[data-v-72833de4] .van-tabs__line{bottom:5.333vmin;background-color:#fff;height:.8vmin;border-radius:.267vmin;content:"viewport-units-buggyfill; bottom: 5.333vmin; height: 0.8vmin; border-radius: 0.267vmin"}.tags[data-v-72833de4]{font-size:0;-webkit-transform:scale(.71);transform:scale(.71);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tags span[data-v-72833de4]{width:5.333vmin;height:3.467vmin;line-height:3.467vmin;display:inline-block;text-align:center;font-size:2.667vmin;content:"viewport-units-buggyfill; width: 5.333vmin; height: 3.467vmin; line-height: 3.467vmin; font-size: 2.667vmin"}.tags .level[data-v-72833de4]{background-color:rgba(241,110,159,.15);color:#f16e9f}.tags .status[data-v-72833de4]{background-color:rgba(110,116,241,.15);color:#8288f5;margin-left:.4vmin;content:"viewport-units-buggyfill; margin-left: 0.4vmin"}.tags .self[data-v-72833de4]{background-color:rgba(255,107,40,.15);color:#ff783c;width:8vmin;margin-left:.4vmin;content:"viewport-units-buggyfill; width: 8vmin; margin-left: 0.4vmin"}.name[data-v-72833de4]{display:inline-block;width:16vmin;font-size:3.467vmin;font-weight:500;color:#333;white-space:normal;content:"viewport-units-buggyfill; width: 16vmin; font-size: 3.467vmin"}.name img[data-v-72833de4]{width:2.667vmin;margin-left:.667vmin;content:"viewport-units-buggyfill; width: 2.667vmin; margin-left: 0.667vmin"}.unit-content-filter[data-v-72833de4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:3.733vmin;font-weight:700;color:#f16eae;line-height:3.733vmin;padding:4.933vmin 2.667vmin;background-color:#fff;content:"viewport-units-buggyfill; font-size: 3.733vmin; line-height: 3.733vmin; padding: 4.933vmin 2.667vmin"}.unit-content-filter .icon[data-v-72833de4]{width:2.933vmin;margin-right:1.067vmin;content:"viewport-units-buggyfill; width: 2.933vmin; margin-right: 1.067vmin"}.unit-content-filter .num[data-v-72833de4]{font-size:2.933vmin;color:#000;content:"viewport-units-buggyfill; font-size: 2.933vmin"}.isAndroid[data-v-72833de4] .van-nav-bar{padding-top:7.333vmin;content:"viewport-units-buggyfill; padding-top: 7.333vmin"}[data-v-72833de4] .date-name .cell span{color:#f16e9f}',""]),t.exports=e},452:function(t,e,i){"use strict";i.r(e);var n=i(3),a=i(28),o=i(1),l=i(135),r=i(116),s=i(126),c={mixins:[a.a],data:()=>({isIos:Object(o.l)(),currentTabName:"area",loading:!0,currentData:{},selectInfo:"note",targetContactId:"",tableData:{data:[],header:[{label:"最近\n跟进",prop:"followDate",sortable:"custom",formatter:t=>t.followDate?t.followDate:"-"},{label:"事件\n提醒",prop:"remindDate",sortable:"custom",formatter:t=>t.remindDate?t.remindDate:"-"}]},finished:!1,total:0,filterConfig:[],areaConfig:[{prop:"lineNumbers",label:"管理区域",multiple:!0,options:[]},{prop:"statusCodeIds",label:"顾问状态",multiple:!0,options:[]}],teamConfig:[{prop:"statusCodeIds",label:"顾问状态",multiple:!0,options:[]}],showNav:!0,levelCode:"",filter:{pageSize:20,pageNo:1,type:"1",sortEnum:"",orderEnum:""}}),created(){this.$nextTick(()=>{this.$refs.filterAction.initFilterConfig()}),this.targetContactId=this.$route.query.targetContactId,this.levelCode=this.$route.query.levelCode,this.levelCode>=70?(this.currentTabName,this.filter.type=1):this.levelCode>=60&&this.levelCode<70?(this.currentTabName,this.filter.type=2):(this.currentTabName,this.filter.type=3,this.showNav=!1),console.log("this.currentTabName",this.currentTabName)},mounted(){this.$nextTick(()=>{this.$refs.filterAction.initFilterConfig()}),console.log("this.filter.type",this.filter.type),this.loadData(),this.getFilterConditions()},methods:{goProflie(){var t="";t="prod"==window.__INITIAL_STATE__.env?"https://intouch-coach-app-stag-latest.prod.pcf.mkc.io/profile":window.location.origin+"/profile";const e={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,followed:this.$route.query.targetContactId};this.$go(t,e)},goNote(){let t=window.__INITIAL_STATE__.env;var e="";e="prod"==t?"https://intouch-coach-app-stag-latest.prod.pcf.mkc.io/note":window.location.origin+"/note",console.log("native",t);const i={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,name:this.currentData.name,followed:this.$route.query.targetContactId};this.$go(e,i)},async onSelect(t){switch(t.prop){case"profile":this.goProflie();break;case"goNote":this.goNote();break;case"call":window.location.href="tel:"+this.currentData.mobile}this.$refs.clickAvatarActionSheet.show=!1},handleClickAvatar(t){this.currentData=t,console.log("row",t),this.$nextTick(()=>{this.$refs.clickAvatarActionSheet.showActions()})},handleClickAvatarrec(t){this.currentData.contactId=t.recruiterContactId,this.currentData.careerLevelCode=t.recruiterLevelCode,this.currentData.mobile=t.recruiterMobile,this.$nextTick(()=>{this.$refs.clickAvatarActionSheet.showActions()})},setClassName({row:t,column:e}){if("followDate"==e.property&&""!=t.followDate&&null!=t.followDate||"remindDate"==e.property&&""!=t.remindDate&&null!=t.remindDate)return"date-name"},cellClick(t){var e={targetContactId:t.row.contactId,linkNote:!0,name:t.row.name,levelCode:t.row.careerLevelCode,opaque:!1,followed:this.$route.query.targetContactId},i=window.location.origin+"/addNote";"remindDate"==t.column.property&&null!=t.row.remindDate&&""!=t.row.remindDate?(e.noteId=t.row.remindNoteId,this.$go(i,e)):"followDate"==t.column.property&&null!=t.row.followDate&&""!=t.row.followDate&&(e.noteId=t.row.followNoteId,this.$go(i,e))},goSearch(){let t=window.location.origin+"/note_table_search";const e={type:this.filter.type,targetContactId:this.$route.query.targetContactId};this.$go(t,e)},sortMap:t=>({offSpringLineNumber:"OFFSPRINGLINENUMBER",followDate:"FOLLOWDATE",remindDate:"REMINDDATE"}[t]),sortChange({column:t,prop:e,order:i}){console.log("调用"),i?("descending"===i?i="desc":"ascending"===i&&(i="asc"),this.filter.sortEnum=this.sortMap(e),this.filter.orderEnum=i.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},filterConfirm(t){this.filter.pageNo=1,this.filter=Object.assign(this.filter,t),this.tableData.data=[],this.loadData()},callnomarl(t,e){window.location.href="tel:"+t},async loadData(){console.log("调用");let t=this.filter;const{lineNumbers:e,statusCodeIds:i}=this.filter;console.log("lineNumbers",e,"statusCodeIds",i),e&&e.length>0&&(t.lineNumbers=e.join(",")),i&&i.length>0&&(t.statusCodeIds=i.join(","));let n=this.$ctx.baseApi;const a=await this.$request.get(n+"/notes/report",{params:t});a.data.hasNextPage?this.finished=!1:this.finished=!0,this.total=a.data.total,this.tableData.data=this.tableData.data.concat(a.data.members),this.filter.pageNo=this.filter.pageNo+1,this.loading=!1},back(){Object(o.b)()},async getFilterConditions(){"1"!=this.filter.type?this.filterConfig=this.teamConfig:this.filterConfig=this.areaConfig;let t={type:this.filter.type},e=this.$ctx.baseApi;const{data:i}=await this.$request.get(e+"/notes/report/filter-conditions",{params:t});this.total=i.total,console.log("筛选",i);const{lineNumbers:n}=i,a=i.activityStatuses;this.filterConfig.forEach(t=>{"lineNumbers"===t.prop&&n&&(t.options=n.map(t=>({name:""+t,value:""+t}))),"statusCodeIds"===t.prop&&a&&(t.options=a.map(t=>({name:`${t.activityStatusCode}(${t.dirCount})`,value:t.activityStatusId})))}),console.log(this.filter,"offSpringLineNumber"),this.$nextTick(()=>{this.$refs.filterAction.initFilterConfig()})},setTableHeader(){console.log("调用"),console.log("this.currentTabName",this.currentTabName),"area"==this.currentTabName?this.filter.type=1:"unit"==this.currentTabName?this.filter.type=2:this.filter.type=3,this.filter.pageNo=1,this.tableData.data=[],this.filter.statusCodeIds=[],this.filter.lineNumbers=[],this.loadData(),this.$refs.filterAction.setFilterText("筛选"),this.getFilterConditions()}},components:{NavBar:n.NavBar,List:n.List,commonTable:r.a,Tabs:n.Tabs,Tab:n.Tab,dropdowmMenu:l.a,clickAvatarActionSheet:s.a,"van-popup":n.Popup,"van-sticky":n.Sticky,"van-button":n.Button}},d=i(10);var f=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coach-home",class:{isAndroid:!t.isIos}},[t._ssrNode('<div class="coach-home-content" data-v-72833de4>',"</div>",[n("van-sticky",[n("NavBar",{attrs:{"left-text":"返回",title:"教练笔记跟进",border:!1,"safe-area-inset-top":!0},on:{"click-left":t.back},scopedSlots:t._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:i(58),alt:""}})]},proxy:!0},{key:"right",fn:function(){return[n("img",{staticClass:"icon-search",attrs:{src:i(128),alt:""},on:{click:function(e){return t.goSearch()}}})]},proxy:!0}])})],1),t._ssrNode(" "),this.showNav?n("Tabs",{ref:"tabs",on:{click:function(e){return t.setTableHeader()}},model:{value:t.currentTabName,callback:function(e){t.currentTabName=e},expression:"currentTabName"}},[this.levelCode>=70?n("Tab",{attrs:{title:"管理区域",name:"area"}}):t._e(),t._v(" "),this.levelCode>=60?n("Tab",{attrs:{title:"沙龙",name:"unit"}}):t._e(),t._v(" "),n("Tab",{attrs:{title:"美容顾问",name:"team"}})],1):t._e(),t._ssrNode(" "),t._ssrNode('<div class="unit-content-filter" data-v-72833de4>',"</div>",[t._ssrNode("<img"+t._ssrAttr("src",i(130))+' alt class="icon" data-v-72833de4> '),n("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:t.filterConfig,filter:t.filter,total:t.total},on:{filterConfirm:t.filterConfirm}})],2),t._ssrNode(" "),n("List",{attrs:{finished:t.finished,"finished-text":t.tableData.data&&t.tableData.data.length?"没有更多了":""},on:{load:t.loadData},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("common-table",{ref:"teamTable",attrs:{id:"table-content",border:!1,tableData:t.tableData,setClassName:t.setClassName},on:{sortChange:t.sortChange,cellClick:t.cellClick}},[n("el-table-column",{key:"1",attrs:{label:"顾问\n姓名",fixed:"left",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("div",[n("div",{staticClass:"name team_name",on:{click:function(e){return t.handleClickAvatar(i)}}},[t._v("\n                "+t._s(i.name)+"\n              ")]),t._v(" "),n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[t._v(t._s(i.careerLevelCode))]),t._v(" "),n("span",{staticClass:"status"},[t._v(t._s(i.activityStatusCode))]),t._v(" "),i.contactId==t.targetContactId?n("span",{staticClass:"self"},[t._v("本人")]):t._e()])])]}}])}),t._v(" "),"1"==this.filter.type?n("el-table-column",{key:"2",attrs:{slot:"between",label:"管理区域",prop:"offSpringLineNumber",align:"center","header-align":"center",sortable:"custom","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v("\n            "+t._s(i.offSpringLineNumber)+"\n          ")]}}],null,!1,3776914284)}):t._e(),t._v(" "),"1"==this.filter.type||"2"==this.filter.type?n("el-table-column",{attrs:{label:"辅导\n姓名",align:"center",width:"70px","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.recruiterName?n("div",{on:{click:function(e){return t.handleClickAvatarrec(i)}}},[n("div",{staticClass:"name team_name"},[t._v("\n                "+t._s(i.recruiterName)+"\n              ")]),t._v(" "),n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[t._v(t._s(i.recruiterLevelCode))]),t._v(" "),n("span",{staticClass:"status"},[t._v(t._s(i.recruiterStatusCode))]),t._v(" "),i.contactId==i.recruiterContactId?n("span",{staticClass:"self"},[t._v("本人")]):t._e()])]):n("div",[t._v("-")])]}}],null,!1,529408998)}):t._e()],1)],1)],2),t._ssrNode(" "),n("click-avatar-action-sheet",{ref:"clickAvatarActionSheet",attrs:{info:t.currentData,selectInfo:t.selectInfo},on:{onSelect:t.onSelect}})],2)}),[],!1,(function(t){var e=i(401);e.__inject__&&e.__inject__(t)}),"72833de4","61825513");e.default=f.exports}};