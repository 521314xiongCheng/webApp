(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./app/web/page/app/components/clickAvatarActionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),o=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=a.n(o),i=a("./node_modules/@babel/runtime/regenerator/index.js"),r=a.n(i),c=a("./app/web/page/app/utils/index.js"),l=[{name:"设为关注",prop:"follow"},{name:"个人详情",prop:"profile"},{name:"新人行动",prop:"nbcAction"},{name:"添加笔记",prop:"addNote"},{name:"邀请设置收入目标",prop:"setTarget"},{name:"查看目标评估",prop:"assess"},{name:"拨打电话",prop:"call"}],d={data:function(){return{show:!1,actions:[],safeareainsetBottom:!0,lockScroll:!0}},props:{pageName:{type:String,default:"UnitDetailsPage"},profileClickEventName:{type:String,default:"UnitDetailsClick"},focusEventName:{type:String,default:"UnitDetailsSetFocusClick"},unfocusEventName:{type:String,default:"UnitDetailsUnfocusClick"},setTargetEventName:{type:String,default:"UnitDetailsSetIncomeTargetClick"},callEventName:{type:String,default:"UnitDetailsPhoneCallClick"},cancelEventName:{type:String,default:"UnitDetailsCancelClick"},evaluationEventName:{type:String,default:"OffspringDetailsHeadPortraitTargetEvaluationClick"},accountType:{type:String,default:""},isFullScreen:{type:Boolean,default:!1},selectInfo:{type:String,default:""},info:{type:Object,default:function(){return{}}},targetContactId:null},methods:{onSelect:function(e){console.log(e.prop);var t="UnitDetailsClick";switch(e.prop){case"follow":t=this.info.isFocus?this.unfocusEventName:this.focusEventName;break;case"profile":t=this.profileClickEventName;break;case"setTarget":t=this.setTargetEventName;break;case"call":t=this.callEventName;break;case"assess":t=this.evaluationEventName;break;case"nbcAction":t="nbcAction",this.toActionPlan();break;case"addNote":t="addNote",this.goAddNote()}console.log(this.pageName,t),this.$track({context:this.pageName,behavior:t,item_type:this.pageName,item_id:t}),this.$emit("onSelect",e)},toActionPlan:function(){var e="".concat(window.location.origin,"/nbcActionPlan"),t={opaque:!1,targetContactId:this.info.contactId};this.$go(e,t)},goAddNote:function(){var e=this;return s()(r.a.mark((function t(){var a,n,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("".concat(e.$ctx.baseApi,"/notes/check?followContactId=").concat(e.info.contactId,"&contactId=").concat(e.targetContactId));case 2:a=t.sent,n=a.data,o="".concat(window.location.origin,"/note"),s={opaque:!1,targetContactId:e.info.contactId,name:e.info.name,levelCode:e.info.careerLevelCode,followed:e.targetContactId},n.hasNote||(o="".concat(window.location.origin,"/addNote"),s={targetContactId:e.info.contactId,name:e.info.name,opaque:!1,levelCode:e.info.careerLevelCode,from:"addNote_none",followed:e.targetContactId}),console.log("params",s),e.$go(o,s);case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$track({context:this.pageName,behavior:this.cancelEventName,item_type:this.pageName,item_id:this.cancelEventName})},showActions:function(){var e=this;return s()(r.a.mark((function t(){var a,n,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.$route.path),!e.isFullScreen){t.next=4;break}return e.$toast("请返回竖屏下操作～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,t.next=7,e.$request.get("".concat(a,"/goldenweek/newconsultant?contactId=").concat(e.info.contactId));case 7:n=t.sent,o=n.data.isNew,s=Object(c.d)(l),e.info.isFocus?s[0].name="移除关注":s[0].name="设为关注",e.info.setTargetIncomeAmt?s[4].name="邀请修改收入目标":s[4].name="邀请设置收入目标","50"===e.info.careerLevelCode&&s.forEach((function(e,t,a){"follow"===e.prop&&a.splice(t,1)})),"note"==e.selectInfo&&(s.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"assess"!==e.prop||a.splice(t,1)})),s.splice(1,0,{name:"查看笔记",prop:"goNote"})),e.info.contactId.toString()===e.targetContactId&&s.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"call"!==e.prop||a.splice(t,1)})),"operation"!==e.accountType||e.$route.path.includes("operation")||(s.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"nbcAction"!==e.prop||a.splice(t,1)})),Number(e.info.careerLevelCode)<50&&s.forEach((function(e,t,a){"call"===e.prop&&a.splice(t,1)}))),"operation"!==e.accountType&&s.forEach((function(e,t,a){"assess"===e.prop&&a.splice(t,1)})),o||s.forEach((function(e,t,a){"nbcAction"===e.prop&&a.splice(t,1)})),e.actions=s,e.show=!0;case 20:case"end":return t.stop()}}),t)})))()}},components:{"van-action-sheet":n.a}},p=a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(p.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消","safe-area-inset-bottom":e.safeareainsetBottom,"lock-scroll":e.lockScroll},on:{select:e.onSelect,cancel:e.onCancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})}),[],!1,null,"533543d6",null);t.a=u.exports},"./app/web/page/app/components/commonTable.vue":function(e,t,a){"use strict";var n={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,a,n){this.$emit("cellClick",{row:e,column:t,event:a,cell:n})}}},o=(a("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),s=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-table"},[a("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(t.formatter?t.formatter(n.row,n.$index):n.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=s.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/dropdown-item/style/index.js");var n=a("./node_modules/vant/es/dropdown-item/index.js"),o=(a("./node_modules/vant/es/dropdown-menu/style/index.js"),a("./node_modules/vant/es/dropdown-menu/index.js")),s=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=a.n(s),r=a("./node_modules/element-ui/src/utils/clickoutside.js"),c=a("./app/web/page/app/utils/index.js"),l={name:"filterActionSheet",data:function(){return{filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}},props:{filterConfig:{type:Array,default:function(){return[]}},filter:{type:Object,default:function(){return{accountType:""}}},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted:function(){var e=this.$route.query.accountType;this.accountType=e},methods:{setFilterText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"筛选";this.filterText=e},opened:function(){var e=this;this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",(function(){e.clickOverlay()}))},close:function(){this.$emit("filterActionIsOpen",!1)},initFilterConfig:function(){var e=this;this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n,s=t.options;e.filterResult[a]=o?e.filter[a]?e.filter[a]:[]:e.filter[a]?e.filter[a]:null,s.forEach((function(t){o?e.filter[a]&&Object(c.p)(t.value,e.filter[a])?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1):t.value===e.filter[a]?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1)}))})),this.filterCopy=Object(c.d)(this.filterResult)},selectItem:function(e,t){var a,n=this,o=t.prop,s=t.multiple,r=void 0===s||s;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:(a={},i()(a,o,e.value),i()(a,"isEmployee","operation"===this.accountType),a)}),r?this.filterResult[o].includes(e.value)?(this.filterResult[o].splice(this.filterResult[o].findIndex((function(t){return t===e.value})),1),this.$set(e,"selected",!1)):(this.filterResult[o].push(e.value),this.$set(e,"selected",!0)):this.filterResult[o]===e.value?(this.filterResult[o]=null,this.$set(e,"selected",!1)):(this.filterResult[o]=e.value,this.filterConfig.forEach((function(e){e.prop===o&&e.options.forEach((function(e){n.$set(e,"selected",!1)}))})),this.$set(e,"selected",!0))},clickOverlay:function(){var e=this;this.isOpen&&(this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n;t.options.forEach((function(t){e.$set(t,"selected",!1),o?e.filterCopy[a].findIndex((function(e){return e===t.value}))>-1&&e.$set(t,"selected",!0):e.filterCopy[a]===t.value&&e.$set(t,"selected",!0)}))})),this.filterResult=Object(c.d)(this.filterCopy))},filterReset:function(){var e=this;this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n,s=t.options;e.filterResult[a]=o?[]:null,s.forEach((function(t){e.$set(t,"selected",!1)}))}))},filterConfirm:function(){var e=this;this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});var t=!1;Object.keys(this.filterResult).forEach((function(a){Array.isArray(e.filterResult[a])?e.filterResult[a].length&&(t=!0):null!==e.filterResult[a]&&(t=!0)})),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(c.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":o.a,"van-dropdown-item":n.a},directives:{Clickoutside:r.a}},d=(a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),p=Object(d.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-dropdown-menu",[a("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:e.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:e.opened,close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"title"},[a("span",[e._v("\n          "+e._s(e.filterText)+"\n        ")]),e._v(" "),a("span",{staticClass:"num"},[e._v("("+e._s(e.total)+")")])])]},proxy:!0}])},[e._v(" "),a("div",{staticClass:"filter-content"},[a("div",{staticClass:"filter-type"},e._l(e.filterConfig,(function(t){return a("div",{key:t.prop},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.options&&t.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[a("div",{staticClass:"filter-type-title"},[e._v(e._s(t.label))]),e._v(" "),a("div",[t.showSubTitle?a("div",{staticClass:"filter-type-subtitle"},[e._v("\n                "+e._s(t.subTitle)+"：\n              ")]):e._e(),e._v(" "),a("div",{staticClass:"filter-type-content"},e._l(t.options,(function(n){return a("span",{key:n.value,class:{is_active:n.selected},on:{click:function(a){return e.selectItem(n,t)}}},[e._v("\n                  "+e._s(n.name)+"\n                ")])})),0)])])])})),0),e._v(" "),a("div",{staticClass:"filter-button"},[a("span",{staticClass:"filter-button-reset",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"filter-button-confirm",on:{click:e.filterConfirm}},[e._v("确认")])])])])],1)}),[],!1,null,"6d8bb1f7",null);t.a=p.exports},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&")},"./app/web/page/app/components/largeText/index.vue?vue&type=style&index=0&id=53974157&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/largeText/index.vue?vue&type=style&index=0&id=53974157&lang=less&scoped=true&")},"./app/web/page/app/components/productionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),o=(a("./node_modules/vant/es/number-keyboard/style/index.js"),a("./node_modules/vant/es/number-keyboard/index.js")),s=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=a.n(s),r=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),c=a("./node_modules/@babel/runtime/regenerator/index.js"),l=a.n(c),d=a("./app/web/page/app/utils/index.js"),p=a("./node_modules/good-storage/dist/storage.esm.js"),u={props:{contactId:"",productionName:"",queryType:"",pageName:{type:String,default:"UnitDetailsPage"},inputEventName:{type:String,default:"UnitDetailsRetailProdClick"},lastMonthEventName:{type:String,default:"UnitDetailsLastMonthProdClick"},sixMonthEventName:{type:String,default:"UnitDetailsSixMonthProdClick"},saveEventName:{type:String,default:"UnitDetailsSaveRetailProdClick"},inviteEventName:{type:String,default:"UnitDetailsInviteToSetTargetClick"}},data:function(){return{isIos:Object(d.l)(),pro:"",show:!1,lastMonth:!1,halfYear:!1,productionAmtMdata:{reference:{}},fullscreen:!1,showProductionAction:!1,zIndex:100}},methods:{onInput:function(e){this.pro+=e,this.productionAmtMdata.targetProductionAmt=Number(this.pro.split(",").join("")),this.estimateData(this.productionAmtMdata.targetProductionAmt)},onDelete:function(){console.log(this.productionAmtMdata.targetProductionAmt),this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.toString(),""!=this.productionAmtMdata.targetProductionAmt&&(this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.slice(0,this.productionAmtMdata.targetProductionAmt.length-1)),this.estimateData(Number(this.productionAmtMdata.targetProductionAmt))},shareToWechat:function(){var e=this;this.$track({context:this.pageName,behavior:this.inviteEventName,item_type:this.pageName,item_id:this.inviteEventName}),r.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}))},share:function(){var e=this;return i()(l.a.mark((function t(){var a,n,o,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),s={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(s);case 8:case"end":return t.stop()}}),t)})))()},addproduction:function(){var e=this;return i()(l.a.mark((function t(){var a,n,o,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:e.saveEventName,item_type:e.pageName,item_id:e.saveEventName}),!(e.productionAmtMdata.targetProductionAmt<e.productionAmtMdata.productionAmt)){t.next=4;break}return e.$toast("评估绩效请大于已达成绩效～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,n=p.a.get("ImpersonatedInfo").targetContactId,o={setByContactId:n,memberContactId:e.contactId,targetAmt:e.productionAmtMdata.targetProductionAmt},t.next=9,e.$request.post("".concat(a,"/target/production"),o);case 9:s=t.sent,i=s.data,console.log(i),e.pro="",e.show=!1,e.fullscreen=!1,e.$emit("addProduction",e.productionAmtMdata.targetProductionAmt);case 16:case"end":return t.stop()}}),t)})))()},lastMonthpro:function(){this.$track({context:this.pageName,behavior:this.lastMonthEventName,item_type:this.pageName,item_id:this.lastMonthEventName}),this.lastMonth=!0,this.halfYear=!1,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.lastMonthProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},halfYearpro:function(){this.$track({context:this.pageName,behavior:this.sixMonthEventName,item_type:this.pageName,item_id:this.sixMonthEventName}),this.lastMonth=!1,this.halfYear=!0,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.halfYearAvgProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},openNumber:function(){this.$track({context:this.pageName,behavior:this.inputEventName,item_type:this.pageName,item_id:this.inputEventName}),this.show=!0,this.lastMonth=!1,this.halfYear=!1,this.pro="",this.fullscreen=!0},estimateData:function(e){var t=this;return i()(l.a.mark((function a(){var n,o,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e,"data"),n=t.$ctx.baseApi,(o={}).memberContactId=t.contactId,o.estimateProductionAmt=e,a.next=7,t.$request.get("".concat(n,"/estimate/production"),{params:o});case 7:s=a.sent,t.productionAmtMdata.incomeDescribe=s.data.incomeDescribe;case 9:case"end":return a.stop()}}),a)})))()},close:function(){this.lastMonth=!1,this.halfYear=!1,this.show=!1,this.fullscreen=!1,this.pro="",this.zIndex=100}},components:{"van-number-keyboard":o.a,"van-action-sheet":n.a},watch:{showProductionAction:function(e){var t=this;return i()(l.a.mark((function a(){var n,o,s,i,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return n=Object(d.i)(),console.log(n),t.zIndex=n+5e3,o={queryType:t.queryType,memberContactId:t.contactId},s=t.$ctx.baseApi,a.next=8,t.$request.get("".concat(s,"/estimate/production"),{params:o});case 8:i=a.sent,r=i.data,t.productionAmtMdata=r;case 11:case"end":return a.stop()}}),a)})))()}}},m=(a("./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),g=Object(m.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{isAndroid:!e.isIos}},[n("van-action-sheet",{class:{"production-action":e.fullscreen},attrs:{title:e.productionName+"绩效评估","close-on-click-overlay":!0},on:{close:e.close},model:{value:e.showProductionAction,callback:function(t){e.showProductionAction=t},expression:"showProductionAction"}},[n("div",{staticClass:"content"},[n("div",[n("p",{staticClass:"title"},[e._v("\n          零售绩效设定\n          "),n("span",[e._v(" ("+e._s(e._f("formatDate")(new Date,"YYYY-MM"))+") ")])]),e._v(" "),n("div",{staticClass:"change"},[n("div",{staticClass:"changebg",on:{click:e.openNumber}},[n("span",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.targetProductionAmt))+"\n            ")]),e._v(" "),n("img",{staticClass:"edit",attrs:{src:a("./app/web/page/app/images/edit.png"),alt:""}})]),e._v(" "),n("div",{staticClass:"sum"},[e._v("\n            （当月已达成绩效"+e._s(e._f("formatMoney")(e.productionAmtMdata.productionAmt))+"）\n          ")])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("目标参考")]),e._v(" "),n("div",{staticClass:"productmap"},[n("div",{class:{productionBg:e.lastMonth},on:{click:e.lastMonthpro}},[n("p",[e._v("上个月绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.lastMonthProductionAmt))+"\n            ")])]),e._v(" "),n("div",{class:{productionBg:e.halfYear},on:{click:e.halfYearpro}},[n("p",[e._v("近6个月平均绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.halfYearAvgProductionAmt))+"\n            ")])])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("收益分析")]),e._v(" "),n("div",{staticClass:"Income"},[n("p",{domProps:{innerHTML:e._s(e.productionAmtMdata.incomeDescribe)}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.query.targetContactId)!==Number(this.contactId),expression:"\n              Number(this.$route.query.targetContactId) !==\n                Number(this.contactId)\n            "}],staticClass:"active",on:{click:e.shareToWechat}},[e._v("\n            邀请她设置当月收入目标\n          ")])])]),e._v(" "),n("div",{staticClass:"btn",on:{click:e.addproduction}},[e._v("保存绩效")])])]),e._v(" "),n("van-number-keyboard",{attrs:{show:e.show,theme:"custom","close-button-text":"完成",maxlength:7,"hide-on-click-outside":!1,"z-index":e.zIndex},on:{blur:function(t){e.show=!1,e.fullscreen=!1},input:e.onInput,delete:e.onDelete},model:{value:e.pro,callback:function(t){e.pro=t},expression:"pro"}})],1)}),[],!1,null,"e4ab8824",null);t.a=g.exports},"./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&")},"./app/web/page/app/components/setTarget/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/field/style/index.js");var n=a("./node_modules/vant/es/field/index.js"),o=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),s=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),i=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=a.n(i),c=a("./node_modules/@babel/runtime/regenerator/index.js"),l=a.n(c),d=a("./app/web/page/app/utils/index.js"),p={data:function(){return{setTargetDialog:!1,targetIncomeAmt:null}},props:{isSettingTarget:{type:Boolean,default:!0},levelCode:{type:Number,default:97},incomeTargetIncomeAmt:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"}},computed:{setTargetTitle:function(){return console.log("this.levelCode",this.levelCode),this.isSettingTarget?"请修改收入目标":"请输入收入目标"},setTargetTip:function(){return this.levelCode<60?"当月的收入需要和美容顾问一起达成，一起来评估她们当月的零售绩效吧。":60===this.levelCode?"当月的收入需要和沙龙成员一起达成，一起来评估她们当月的零售绩效吧。":"当月的收入需要和督导一起达成，一起来评估她们当月的零售绩效吧。"}},methods:{targetBoxClick:function(){this.$track({context:this.pageName,behavior:"UnitDetailsFillInTargetClick",item_type:this.pageName,item_id:"UnitDetailsFillInTargetClick"})},formatter:function(e){return e?Object(d.f)(e):""},setTargetIncome:function(){this.setTargetDialog=!0,this.incomeTargetIncomeAmt&&(this.targetIncomeAmt=this.incomeTargetIncomeAmt)},setTargetIncomeConfirm:function(){var e=this;return r()(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:"UnitDetailsTargetSaveClick",item_type:e.pageName,item_id:"UnitDetailsTargetSaveClick"}),e.targetIncomeAmt){t.next=3;break}return t.abrupt("return");case 3:if((a=parseInt(e.targetIncomeAmt.split(",").join("")))!==e.incomeTargetIncomeAmt){t.next=7;break}return e.setTargetDialog=!1,t.abrupt("return");case 7:return t.next=9,e.$request.post("".concat(e.$ctx.baseApi,"/target/income"),{targetAmt:a,sourceType:"app"});case 9:n=t.sent,n.data,e.setTargetDialog=!1,e.$emit("setTargetIncomeConfirm");case 13:case"end":return t.stop()}}),t)})))()}},components:{"van-button":s.a,"van-dialog":o.a.Component,"van-field":n.a}},u=(a("./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),m=Object(u.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-dialog",{staticClass:"target_dialog",attrs:{title:"","close-on-click-overlay":!0,"show-confirm-button":!1},model:{value:e.setTargetDialog,callback:function(t){e.setTargetDialog=t},expression:"setTargetDialog"}},[n("div",{staticClass:"target_content"},[n("div",{staticClass:"target_content-title"},[e._v(e._s(e.setTargetTitle))]),e._v(" "),n("div",{staticClass:"target_content-input"},[n("van-field",{attrs:{maxlength:9,formatter:e.formatter,type:"number"},on:{click:e.targetBoxClick},model:{value:e.targetIncomeAmt,callback:function(t){e.targetIncomeAmt=t},expression:"targetIncomeAmt"}})],1),e._v(" "),n("div",{staticClass:"target_content-tip"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_tip.png"),alt:""}})]),e._v(" "),n("div",[n("span",[e._v(e._s(e.setTargetTip))])])]),e._v(" "),n("div",{staticClass:"target_content-btn"},[n("van-button",{staticClass:"btn",on:{click:e.setTargetIncomeConfirm}},[e._v("保存")])],1)]),e._v(" "),n("div",{staticClass:"cer_close",on:{click:function(t){e.setTargetDialog=!1}}},[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_close.png"),alt:""}})])])],1)}),[],!1,null,"302df74a",null);t.a=m.exports},"./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&")},"./app/web/page/app/images/avatar.png":function(e,t,a){e.exports=a.p+"img/avatar.fb737f4c.png"},"./app/web/page/app/images/copy.png":function(e,t,a){e.exports=a.p+"img/copy.57b8f399.png"},"./app/web/page/app/images/crown.png":function(e,t,a){e.exports=a.p+"img/crown.25c5a039.png"},"./app/web/page/app/images/dot.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAUCAYAAAAuoXvLAAAAAXNSR0IArs4c6QAAA6NJREFUWEftl0molmUYhq/bSrPBsnkgTwNBGFGL9pp1hMxFixYulAaiWoQQWEoIRQMUQRjRPEDRrn2EQdMqJ7RhG0Rk2lyWNnvHfXq/w+c5/v/53q/fiPCBH3743ue93+d+ZnFYhjKgYV9tzwJyZr8kH2ou/4t40wiyfRRwBnAycCowB/gO+AzYJem3URJl+0jgTOCU8ptd8HYBOw8BXuw7HTit2Bj7vi327Z6KdwBBtucBS4AbgMvKBUcA+4CtwEvARknfjIIk28cDVwI3A5cC84FE7V5gB/Ai8Iakr0eItwxYWexr8H4CNgGvAG9L+qLBmySokHMrcC8wt6RW+11JsT+A54D72pf0ebztE4DbgHuAo4fgPZ8zkr7qg9PoFLw7gLuBRO3U7Il9vwMvA+sb+yYOldwPOY8DiZihpQl4AVgt6ec+jy5ptQZ4sETMTNc8BqyT9MtMBw/2veCtBe4/CDFTVUJU8NYm3RqCFgDvAyd2fMCfwHJJr3c8f8Ax20mn90rkdLkieMskbexyeJrF9iXA5gq8RNK4pHcagpJWCfUaeVfSohqFVrg/DdzSwZvt698ElkoKWVViO7VzVQ+8cdkOSR8BC6tQId1srqT9NXq2k8LBu6hGD9gDLJD0Q6VeSkiKbrpWjQRvLASl7X1ZkV6TgQDMk5QO0FlsHwd8WjpWZz3+dsiYpN01SjlrO104jadGfgUuDEGp6JlxMhvUSIrZ/FqPltb+CXBSDRiQByeC4swqsf0jEMfUSBrCeU0NegtYXKMN5IJje6RYHLKlzCE1kEmTCyRlRqoS20npi6uUYOdEBJUQXA1sqChiiZ7XJC2vBJ04bvtO4OFKvFeBFX1WHtt3AQ9V4j0p6faGoIT7duCcjpfEi0skpXVWi+2sMNE9t6Py98AVkjJdV4vts4FtpVAP3T/L5cG7XNLH7Un6WiBTa8gadEkiJ6mVkeDRPi23sc72OJCoyHozDC+1JxEXj1Z1zBZW1pfrgGc74KWgrwOeSLS2Ccr/q0uqZXBMd2s/PPNHdqJHcqbvY9vut720TO9jA/BSkJP6/8gZJa1jyzUF76yC135O1qjPgQeyc0rKsDjdc7YT9teXpTWzQy7ONv9BWAU+7FMHBuWF7aT1TcBVZTnO0QbvmeCOwhktks4HbkzKllEj9mX5zibxlKQU9EkZmI+2j2ktkQnzvaMkZiphLbx8Ct6+fwEvs1HKxkC8LgWruij+nxQOEzSDN/8C9eBNZRd6q0EAAAAASUVORK5CYII="},"./app/web/page/app/images/edit.png":function(e,t,a){e.exports=a.p+"img/edit.299796b3.png"},"./app/web/page/app/images/icon_add.png":function(e,t,a){e.exports=a.p+"img/icon_add.868b0710.png"},"./app/web/page/app/images/icon_edit_y.png":function(e,t,a){e.exports=a.p+"img/icon_edit_y.1f0735bb.png"},"./app/web/page/app/images/icon_equal.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAA3hJREFUaEPdmstrE1EUxr9vHmkUpGoxFRFEi4/6J3QliC5cWLfqQtSloktf4ELwtVSrOysurFvbhQtFcOWfYCoSRRBJo60WwabJzHwyE1PTR/RmmqTpzDI595zz495z77nnXKJJn3JT3X6pdAjAAMDdAPoAdUNYF5kgfgKcBpAD9A7AGzuVes6+jeFvy/64HA16P7k1KHuHRRyBsE+Q24g+gmUQryk8s1xnjDt7PjcyvlY2FkgI4HvlawBPSLLiGp/nCBkAemw77tU4QA2B6OP39d5s6SKlcxLWNANgoQ4SMyLvOl2pW9y+4YepDWMQbzx/GAEeCdhoqnw5cgSmYOGks2fzmIkeIxA/W7gk6LokI3kTwyYyJEXwit2fufk/+X86po9K+8XCQ0nH/qeolf+THLHTmdPczmI9O3VBQgivWHgFaaCVThrrJt846cz+ejB1QbzsxIiko8aG2iAYzozT33t8KVNLgoQxESi40QbfGjZh0bq8VMwsAol2J/FZuwPblCjcAEAdWbibzQMJzwl/ZjbXri3W1PlFZw0wZa/p6qs9Z+aBlMcnbiHQhbgG2jrO4m13T+/Fqs05kD9px3sJ6bY6FNMYiaLtuDur6cwciJfND0s4GVPvigwj8cjp33wqNB6BVGbD+9SsBLBdVCQD23G2hbMSgfhvC2cCBEOmDnBtCuxZC6Zd0GlK8gt5AVQsQ5O/oF8lU1dgwTpr783cj0C87MQLSQdMRrM7DXtLt4lobBn/yzQ0XTcbmaeX5Eunv/cgo5vdbPmr6aXI7usBU05sJ00GquTBz02aiCK8nNld7iZ62fxRCSNGowB0GkgU6MSxEOSehLOmIJ22tP6ADLGR+Jg7fDoo2CsgfBmC5CTtMJ2RTpQj+SFcWt8k9HSig6Y+kZik9zY/KyBlOqgT5QiUEgSSmKWVnGA3T086fPtNzIGYkBQlMUljYtL41X+x4hl7b++DZF11K8srAcWHvwWI8moqB83YjrtrUTkohElEgS6alaSUTKNYSUIRu5pLJaKtUIXxshNPVrrltvAS13CjpxIvCWm9VWH8YmF4pVtwJJ/a6cypWM3Q2mld9e3pWhhvPD+IAMPt6ma15MFAFajmCcf5VjWEwgaOyDste8JROzur/lHNwu2w8szJHxQ1uLxnThy1XHs0zquguTpCswpuK/3w7Dc1HUSZ5DIXaQAAAABJRU5ErkJggg=="},"./app/web/page/app/images/icon_q.png":function(e,t,a){e.exports=a.p+"img/icon_q.62693319.png"},"./app/web/page/app/images/index/icon_search.png":function(e,t,a){e.exports=a.p+"img/icon_search.16d4819f.png"},"./app/web/page/app/images/nodata1.png":function(e,t,a){e.exports=a.p+"img/nodata1.75567d78.png"},"./app/web/page/app/images/portraitscreen.png":function(e,t,a){e.exports=a.p+"img/portraitscreen.562c5e20.png"},"./app/web/page/app/images/refresh-icon.gif":function(e,t,a){e.exports=a.p+"img/refresh-icon.4584a5b2.gif"},"./app/web/page/app/images/screen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAjCAYAAAAJ+yOQAAAAAXNSR0IArs4c6QAAAptJREFUWEftmEuIjmEUx39/19xKShTJWBgLIpeVIkNTFhi3hVi5lWRsFBsbOxaSZMNsZ6EYciulrC1QRNiMFQahjLv+Ol/PN73zNpd3yPd+as7m6/ue85z3953nPOec94j/QJRltL0cWAdMBUb8If8X4D7QLqm7asP2TGAJ8BV4BTyS9KvIM3ogbZ8CDhbZVFCnE2iW9Dz0bbcAHZm9H4CLwAlJzwayWYG0fRQ4VvDhQ1F7CiyU9M32UmA/MAFoBOan0wrPHpZ0uj/Dsj0e6EqbQ+8ecBP4MRSajG4DsAMYmX7bK+lc3pbtOcAhYDcwGjgj6UBfzwzIZcDdtBjxNEPS+z8ErGyzfRbYl2xEbG7vz57tpnTsk4E9ks7ndQNyJXAnLXRKCk/8ldiO2I4YD7ksaeNABm2vAG4Dn4DZkj5m9esCMnm/DdgJHJF0vK4gbS8ApgCLgZPA47jxCfK6pLele9J2c4QEMC4XEteALZEZSodMR70GuAJEpgm5BGyT9D2+1AVkAl0FXE03fZekn1XP1g1kAp0IdEtyaRfH9qjIw3GCGYheQJFmgTeSImdXpGaetD0WeADMK5CEo1S2A63RpNQSMmr1wwKAWZUOSZtqCRm1/AKwIVPXizA31gyyCE26PGOAJ0A0ICHr6w4ygUbTvChBtgxDJk8M2gXlQ8H2sCcrThlqPznsyf7SSimeTDX3FjA3B/YCWC0pyliPlAUZ3clLID6z8hmYJeld6ZDpMkwDpucguyQFfC8pxZNFS1pV719Alvre3ZcD+krmNZtgpEHE2lzTm+eMaUYrMCktNNVyFhQxHdkgmt+iEheyoZZTtZiMxIStOiMaDDTS2mZJN2o2n0wZYisw2HGH6mugrTo27AU52F8ra/03X6TueCK+7EgAAAAASUVORK5CYII="},"./app/web/page/app/images/select.png":function(e,t,a){e.exports=a.p+"img/select.65b9fd04.png"},"./app/web/page/app/view/team/index.vue":function(e,t,a){"use strict";a.r(t);a("./node_modules/vant/es/sticky/style/index.js");var n=a("./node_modules/vant/es/sticky/index.js"),o=(a("./node_modules/vant/es/popup/style/index.js"),a("./node_modules/vant/es/popup/index.js")),s=(a("./node_modules/vant/es/icon/style/index.js"),a("./node_modules/vant/es/icon/index.js")),i=(a("./node_modules/vant/es/field/style/index.js"),a("./node_modules/vant/es/field/index.js")),r=(a("./node_modules/vant/es/pull-refresh/style/index.js"),a("./node_modules/vant/es/pull-refresh/index.js")),c=(a("./node_modules/vant/es/tabbar-item/style/index.js"),a("./node_modules/vant/es/tabbar-item/index.js")),l=(a("./node_modules/vant/es/tabbar/style/index.js"),a("./node_modules/vant/es/tabbar/index.js")),d=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),p=(a("./node_modules/vant/es/nav-bar/style/index.js"),a("./node_modules/vant/es/nav-bar/index.js")),u=(a("./node_modules/vant/es/list/style/index.js"),a("./node_modules/vant/es/list/index.js")),m=a("./node_modules/@babel/runtime/helpers/extends.js"),g=a.n(m),v=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),f=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),h=a.n(f),b=a("./node_modules/@babel/runtime/regenerator/index.js"),_=a.n(b),x=a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue"),C=a("./app/web/page/app/components/productionSheet/index.vue"),y=a("./app/web/page/app/components/setTarget/index.vue"),A=(a("./node_modules/good-storage/dist/storage.esm.js"),a("./app/web/page/app/components/commonTable.vue")),w=a("./app/web/page/app/utils/index.js"),T={props:["largeTextInfo"],methods:{closeBox:function(){console.log("11"),this.$emit("closeLargeText")},copy:function(){console.log("111")}}},k=(a("./app/web/page/app/components/largeText/index.vue?vue&type=style&index=0&id=53974157&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),I=Object(k.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"con",on:{click:e.closeBox}},[n("div",{staticClass:"largebox"},[n("p",{staticClass:"largebox-name"},[e._v(e._s(e.largeTextInfo.name))]),e._v(" "),n("p",{staticClass:"largebox-data",attrs:{id:"largeData"}},[e._v("\n      "+e._s(e._f("formatMoney")(e.largeTextInfo.data))+"\n      "),n("img",{attrs:{src:a("./app/web/page/app/images/copy.png"),alt:""},on:{click:function(t){return t.stopPropagation(),e.copy.apply(null,arguments)}}})]),e._v(" "),n("p",{staticClass:"largebox-label"},[e._v(e._s(e.largeTextInfo.label))])])])}),[],!1,null,"53974157",null).exports,j=a("./app/web/page/app/mixin/horizontalScreen.js"),N=a("./app/web/page/app/components/clickAvatarActionSheet/index.vue"),S={mixins:[j.a],data:function(){return{largeTextbox:!1,largeTextInfo:{},showTable:!0,popup:!1,popupTime:!1,describe:"",isSelf:!1,currentData:{},levelCode:97,isIos:Object(w.l)(),isIphoneX:Object(w.m)(),contactId:"",loading:!0,finished:!1,navTitle:"",tableData:{data:[],header:[]},tableHeader:[{label:"当月绩效",sortable:"custom",minWidth:"90px",prop:"productionAmt",formatter:function(e){return Object(w.f)(e.productionAmt)}}],retail:{setTargetIncomeAmt:!1,targetIncomeAmt:0,estimateIncomeAmt:0,incomeAmt:0,currentEstimateIncomeAmt:{estimateIncomeAmt:""},otherEstimateIncomeAmt:{estimateIncomeAmt:""}},filterText:"筛选",filterSheet:!1,total:0,filter:{pageSize:50,pageNo:1,sortEnum:"ESTIMATE_PRODUCTION_AMT",orderEnum:"DESC"},filterConfig:[{prop:"activityStatuses",label:"状态",options:[]},{prop:"careeLevels",label:"职级",options:[]},{prop:"setTargetIncomeAmt",label:"收入目标",multiple:!1,options:[{name:"已设定",value:!0},{name:"未设定",value:!1}]},{prop:"setTargetProductionAmt",label:"评估绩效",multiple:!1,options:[{name:"已评估",value:!0},{name:"未评估",value:!1}]},{prop:"debuteCount",label:"生日周年",multiple:!0,options:[{name:"生日周年",value:1},{name:"美容顾问周年",value:2}]},{prop:"isNewBc",label:"新成员",multiple:!1,options:[{name:"是",value:!0},{name:"否",value:!1}]},{prop:"isOrder",label:"是否下单",multiple:!1,options:[{name:"已下单",value:!0},{name:"未下单",value:!1}]},{prop:"isFocus",label:"是否关注",multiple:!1,options:[{name:"是",value:!0},{name:"否",value:!1}]}],productionContactId:"",productionName:"",targetContactId:"",monthKey:"",tableName:"team",filterParams:{},refreshing:!1,refreshDisable:!1,navBarClientHeight:0,pageName:"TeamDetailsPage",landscapeEventName:"TeamDetailsLandscapeClick",export2ExcelEventName:"TeamDetailsExcelExportClick"}},mounted:function(){var e=this;this.$jsBridge.onFronted((function(){e.onFronted()})),this.fixedHeader()},created:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s,i,r,c,l,d,p,u;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.$route.query.navTitle?e.navTitle=e.$route.query.navTitle:e.navTitle="美容顾问详情",a=e.$route.query,n=a.monthKey,o=a.levelCode,s=a.targetContactId,i=a.isSelf,r=a.accountType,c=a.isOrder,l=a.isNewBc,void 0!==c&&(e.filter.isOrder=JSON.parse(c)),void 0!==l&&(e.filter.isNewBc=JSON.parse(l)),e.levelCode=Number(o),e.isSelf=JSON.parse(i),e.targetContactId=s,e.monthKey=n,e.accountType=r,(d=new Date(n.substr(0,4),n.substr(4,6))).setMonth(d.getMonth()-1,1),p=function(t){d.setMonth(d.getMonth()-1);var a="".concat(d.getFullYear(),"/").concat(e.addZero(d.getMonth()+1));e.tableHeader.push({label:"".concat(a),minWidth:"90px",sortable:"custom",prop:"productionAmtM".concat(t),formatter:function(e){return Object(w.f)(e["productionAmtM".concat(t)])}})},u=1;u<13;u++)p(u);e.tableData.header=e.tableHeader,e.loadData(),e.getFilterConditions();case 16:case"end":return t.stop()}}),t)})))()},methods:{fixedHeader:function(){var e=this,t=document.querySelector(".van-nav-bar"),a=document.querySelector(".unit-content-filter"),n=document.querySelector(".coach-home-content-income"),o=document.querySelector(".el-table__header-wrapper"),s=document.querySelector(".el-table__body-wrapper"),i=document.querySelector(".common-table");window.addEventListener("scroll",(function(r){if(e.navBarClientHeight=t.clientHeight,!(i.clientHeight+a.clientHeight+t.clientHeight<=screen.height)){var c=document.querySelector(".el-table__fixed-header-wrapper"),l=document.querySelector(".el-table__fixed-body-wrapper"),d=document.documentElement.scrollTop||document.body.scrollTop;e.isFullScreen||(d>=n.clientHeight?(c.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),l.style.cssText="top: ".concat(o.clientHeight+a.clientHeight-1,"px"),a.style.cssText="position: fixed;top: ".concat(t.clientHeight,"px;right: 0;z-index: 5;width: 100%;"),o.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;z-index: 3;"),s.style.cssText="padding-top: ".concat(o.clientHeight+a.clientHeight-1,"px")):(c.style.cssText="position: absolute;top: 0",l.style.cssText="padding-top:0;top: ".concat(c.clientHeight,"px;"),a.style.cssText="position: unset;",o.style.cssText="position: unset;",s.style.cssText="padding-top: 0;"))}}))},initTableFixed:function(){var e=document.querySelector(".el-table__header-wrapper"),t=document.querySelector(".el-table__body-wrapper"),a=document.querySelector(".el-table__fixed-header-wrapper"),n=document.querySelector(".el-table__fixed-body-wrapper");console.log("tableFixedHeaderWrap:".concat(a,",tableFixedBodyWrap:").concat(n)),e&&(e.style.cssText="position: unset;"),t&&(t.style.cssText="padding-top: 0;"),a.style.cssText="position: absolute;top: 0",n.style.cssText="padding-top:0;top: ".concat(a.clientHeight,"px;")},showPopTime:function(){this.popupTime=!this.popupTime,this.$track({context:this.pageName,behavior:"TeamDetailsRuleIconClick",item_type:this.pageName,item_id:"TeamDetailsRuleIconClick"})},closeLargeText:function(){this.largeTextbox=!1},cellClick:function(e){this.largeTextInfo.name=e.row.name,this.largeTextInfo.label=e.column.label;var t=e.column.property;this.largeTextInfo.data=e.row[t],this.largeTextbox=!0},filterActionIsOpen:function(e){this.refreshDisable=e},setClassName:function(e){e.row;var t=e.column;return"name"===t.property?"cell-class_name":"avatar"===t.property?"cell-class_avatar":"estimateProductionAmt"===t.property?"cell-class_estimateProductionAmt":void 0},onFronted:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(w.d)(e.filterParams)).pageNo=1,a.pageSize=e.tableData.data.length||20,n=e.$ctx.baseApi,t.next=6,e.$request.get("".concat(n,"/reports/team/details"),{params:a});case 6:o=t.sent,s=o.data,e.retail=s,console.log("retail",retail),e.tableData.data.forEach((function(e,t,a){s.members.forEach((function(n,o){e.contactId===n.contactId&&a.splice(t,1,n)}))}));case 11:case"end":return t.stop()}}),t)})))()},rowsetTargetIncomeAmt:function(e){},setTargetIncomeConfirm:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.get("".concat(a,"/reports/team/details"));case 3:n=t.sent,o=n.data,e.retail=o,e.onFronted();case 7:case"end":return t.stop()}}),t)})))()},toSearch:function(){var e="".concat(window.location.origin,"/team_search"),t={targetContactId:this.$route.query.targetContactId,monthKey:this.$route.query.monthKey,levelCode:this.levelCode};this.$go(e,t)},setTarget:function(e){this.isFullScreen?this.$toast("请返回竖屏下操作～"):"operation"!==this.accountType?(this.currentData=e,this.productionContactId=e.contactId,this.productionName=e.name,this.$refs.productionAction.showProductionAction=!0):this.$toast("抱歉，暂时不支持对她进行操作～")},addProduction:function(e){var t=this;return h()(_.a.mark((function a(){var n,o;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.currentData.setTargetProductionAmt=!0,t.currentData.estimateProductionAmt=e,t.currentData.setBySelf=!0,t.$refs.productionAction.showProductionAction=!1,n=t.$ctx.baseApi,a.next=7,t.$request.get("".concat(n,"/reports/team/details"));case 7:o=a.sent,t.retail=o.data;case 9:case"end":return a.stop()}}),a)})))()},goEstimate:function(){var e="".concat(window.location.origin,"/estimate"),t={opaque:!1,targetContactId:this.$route.query.targetContactId,levelCode:this.$route.query.levelCode};this.$go(e,t)},setByself:function(e){var t=this;return h()(_.a.mark((function a(){var n,o,s,i;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isFullScreen){a.next=3;break}return t.$toast("请返回竖屏下操作～"),a.abrupt("return");case 3:return t.currentData=e,n=t.$ctx.baseApi,o={contactId:t.currentData.contactId},a.next=8,t.$request.get("".concat(n,"/estimate/production/relationship"),{params:o});case 8:s=a.sent,i=s.data,t.describe=i.describe,t.popup=!0;case 12:case"end":return a.stop()}}),a)})))()},handleClickAvatar:function(e){var t=this;this.currentData=e,this.$nextTick((function(){t.$refs.clickAvatarActionSheet.showActions()}))},sortMap:function(e){return{estimateProductionAmt:"ESTIMATE_PRODUCTION_AMT",setTargetProductionAmt:"SET_TARGET_PRODUCTION_AMT",setTargetIncomeAmt:"INCOME_TARGET_AMT",productionAmtRate:"PRODUCTIONAMT_RATE",productionAmt:"PRODUCTION_AMT",productionAmtM1:"PRODUCTION_AMT_M1",productionAmtM2:"PRODUCTION_AMT_M2",productionAmtM3:"PRODUCTION_AMT_M3",productionAmtM4:"PRODUCTION_AMT_M4",productionAmtM5:"PRODUCTION_AMT_M5",productionAmtM6:"PRODUCTION_AMT_M6",productionAmtM7:"PRODUCTION_AMT_M7",productionAmtM8:"PRODUCTION_AMT_M8",productionAmtM9:"PRODUCTION_AMT_M9",productionAmtM10:"PRODUCTION_AMT_M10",productionAmtM11:"PRODUCTION_AMT_M11",productionAmtM12:"PRODUCTION_AMT_M12"}[e]},sortChange:function(e){e.column;var t=e.prop,a=e.order;a?("descending"===a?a="desc":"ascending"===a&&(a="asc"),console.log("prop",t),this.filter.sortEnum=this.sortMap(t),this.filter.orderEnum=a.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},loadData:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s,i,r,c,l,d,p,u,m,g,v,f,h,b,x,C;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.documentElement.scrollTop||document.body.scrollTop,e.loading=!0,n=e.filter,o=n.pageNo,s=n.pageSize,i=n.careeLevels,r=n.activityStatuses,c=n.setTargetProductionAmt,l=n.setTargetIncomeAmt,d=n.sortEnum,p=n.orderEnum,u=n.debuteCount,m=n.isOrder,g=n.isNewBc,v=n.isFocus,f={pageNo:o,pageSize:s,setTargetProductionAmt:c,setTargetIncomeAmt:l,sortEnum:d,orderEnum:p,debuteCount:u,isOrder:m,isNewBc:g,isFocus:v},h=e.$ctx.baseApi,i&&i.length&&(f.levelCodeIds=i.join(",")),u&&u.length&&(f.debuteCount=u.join(",")),r&&r.length&&(f.statusCodeIds=r.join(",")),e.filterParams=Object(w.d)(f),t.next=11,e.$request.get("".concat(h,"/reports/team/details"),{params:f});case 11:b=t.sent,e.total=b.data.total,e.loading=!1,e.refreshing=!1,b.data.hasNextPage?e.finished=!1:e.finished=!0,x=new Map,C=e.tableData.data.concat(b.data.members),e.tableData.data=C.filter((function(e){return!x.has(e.contactId)&&x.set(e.contactId,1)})),e.tableData.data&&e.tableData.data.length?e.showTable=!0:e.showTable=!1,window.scrollTo(0,a),e.filter.pageNo=e.filter.pageNo+1,e.retail=b.data;case 23:case"end":return t.stop()}}),t)})))()},getFilterConditions:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s,i,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.get("".concat(a,"/reports/team/filter-conditions"));case 3:n=t.sent,o=n.data,e.$route.query.levelCode>=60&&e.filterConfig.forEach((function(e,t,a){"setTargetProductionAmt"===e.prop&&a.splice(t,1)})),s=o.activityStatuses,i=o.careeLevels,r=o.debuteCount,e.filterConfig.forEach((function(e){"careeLevels"===e.prop&&i&&(e.options=i.map((function(e){return{name:"".concat(e.careerLevelCode,"(").concat(e.dirCount,")"),value:e.careerLevelId}}))),"debuteCount"===e.prop&&r&&(r.birthDebuteCount>0&&(e.options[0].name="生日周年(".concat(r.birthDebuteCount,")")),r.teamDebuteCount>0&&(e.options[1].name="美容顾问周年(".concat(r.teamDebuteCount,")")),r.dirDebuteCount>0&&e.options.push({name:"督导周年(".concat(r.dirDebuteCount,")"),value:3}),r.nsdDebuteCount>0&&e.options.push({name:"首席周年(".concat(r.nsdDebuteCount,")"),value:4})),"activityStatuses"===e.prop&&s&&(e.options=s.map((function(e){return{name:"".concat(e.activityStatusCode,"(").concat(e.dirCount,")"),value:e.activityStatusId}})))})),e.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));case 9:case"end":return t.stop()}}),t)})))()},addZero:function(e){return e<10?"0".concat(e):e},back:function(){Object(w.b)()},setTargetIncomerow:function(e){var t=this;return h()(_.a.mark((function a(){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("operation"!==t.accountType){a.next=3;break}return t.$toast("抱歉，暂时不支持对她进行操作～"),a.abrupt("return");case 3:e.contactId==t.targetContactId&&t.setTargetIncome(),e.setTargetIncomeAmt||e.contactId==t.targetContactId||(v.a.confirm({message:"是否邀请设置收入目标"}).then((function(){t.share()})).catch((function(){})),t.$track({context:t.pageName,behavior:"TeamDetailsUnsetClick",item_type:t.pageName,item_id:"TeamDetailsUnsetClick"}));case 5:case"end":return a.stop()}}),a)})))()},setTargetIncome:function(){var e=this;return h()(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("operation"!==e.accountType){t.next=3;break}return e.$toast("抱歉，暂时不支持对她进行操作～"),t.abrupt("return");case 3:e.isSelf?e.$refs.setTarget.setTargetIncome():e.retail.setTargetIncomeAmt||v.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}));case 4:case"end":return t.stop()}}),t)})))()},filterConfirm:function(e){this.filter.pageNo=1,this.filter=g()(this.filter,e),this.tableData.data=[],this.loadData()},isFollow:function(){var e=this;return h()(_.a.mark((function t(){var a,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/focus"),{focusContactId:e.currentData.contactId.toString()});case 3:n=t.sent,n.data,e.currentData.isFocus=!e.currentData.isFocus;case 6:case"end":return t.stop()}}),t)})))()},onRefresh:function(){var e=this;return h()(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.finished=!1,e.refreshing=!0,e.filter.pageNo=1,e.tableData.data=[],e.loadData();case 5:case"end":return t.stop()}}),t)})))()},goProflie:function(){var e="".concat(window.location.origin,"/profile"),t={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,followed:this.$route.query.targetContactId};this.$go(e,t)},share:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),s={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(s);case 7:case"end":return t.stop()}}),t)})))()},onSelect:function(e){var t=this;return h()(_.a.mark((function a(){var n,o,s,i;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e.prop,a.next="follow"===a.t0?3:"profile"===a.t0?5:"setTarget"===a.t0?7:"assess"===a.t0?11:"call"===a.t0?17:19;break;case 3:return t.isFollow(),a.abrupt("break",19);case 5:return t.goProflie(),a.abrupt("break",19);case 7:return n=t.currentData.setTargetIncomeAmt,o=n?"是否邀请修改收入目标":"是否邀请设置收入目标",v.a.confirm({message:o}).then((function(){t.share()})).catch((function(){})),a.abrupt("break",19);case 11:return s="",s=t.currentData.careerLevelCode>=60?"".concat(window.location.origin,"/unit"):"".concat(window.location.origin,"/team"),i={opaque:!1,isSelf:"",targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode,monthKey:t.$route.query.monthKey,navTitle:"收入目标评估"},t.currentData.contactId==t.targetContactId?i.isSelf=!0:i.isSelf=!1,t.$go(s,i),a.abrupt("break",19);case 17:return window.location.href="tel:".concat(t.currentData.mobile),a.abrupt("break",19);case 19:t.$refs.clickAvatarActionSheet.show=!1;case 20:case"end":return a.stop()}}),a)})))()},toTeamHistory:function(){var e="".concat(window.location.origin,"/team_history"),t={opaque:!1,targetContactId:this.targetContactId,levelCode:this.levelCode,accountType:this.accountType};this.$go(e,t)},toIncome:function(){var e=this;return h()(_.a.mark((function t(){var a,n,o,s,i,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(window.location.origin,"/income"),n={monthKey:e.monthKey,opaque:!1,amount:e.retail.incomeAmt,targetContactId:e.targetContactId},o=(new Date).getDate(),s=e.$ctx.baseApiList.income,i="".concat(s,"/prodIncome/myIncomes?monthKey=").concat(e.monthKey),r=!1,t.prev=6,t.next=9,e.$request.get(i,{headers:{impersonatedContactId:e.targetContactId}});case 9:t.sent.data.myIncome.incomeList.forEach((function(e){e.total&&0!==e.total&&(r=!0,e.dataList.forEach((function(e){e.value&&0!==e.value&&(r=!0)})))})),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(6);case 15:console.log(r),1!==o&&r||(n.day=o,a="".concat(window.location.origin,"/processing")),e.$go(a,n);case 18:case"end":return t.stop()}}),t,null,[[6,13]])})))()}},watch:{isFullScreen:function(e){var t=this;if(!e){var a=document.documentElement.scrollTop||document.body.scrollTop;this.$nextTick((function(){var e=document.querySelector(".unit-content-filter"),n=document.querySelector(".coach-home-content-income"),o=document.querySelector(".el-table__header-wrapper"),s=document.querySelector(".el-table__fixed-header-wrapper"),i=document.querySelector(".el-table__fixed-body-wrapper"),r=document.querySelector(".el-table__body-wrapper"),c=document.querySelector(".common-table");a>n.clientHeight&&c.clientHeight+e.clientHeight+t.navBarClientHeight>t.screenHeight?(s.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight+e.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),i.style.cssText="top: ".concat(o.clientHeight+e.clientHeight-1,"px"),e.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight,"px;right: 0;z-index: 5;width: 100%;"),o.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight+e.clientHeight-1,"px;z-index: 3;"),r.style.cssText="padding-top: ".concat(o.clientHeight+e.clientHeight-1,"px")):(s.style.cssText="position: absolute;top: 0",i.style.cssText="padding-top:0;top: ".concat(s.clientHeight,"px;"),e.style.cssText="position: unset;",o.style.cssText="position: unset;",r.style.cssText="padding-top: 0;")}))}},showTable:function(e){var t=this;e&&(window.scrollTo(0,0),this.$nextTick((function(){t.fixedHeader()})))}},components:{commonTable:A.a,largeText:I,List:u.a,NavBar:p.a,"van-button":d.a,"van-tabbar":l.a,"van-tabbar-item":c.a,"van-pull-refresh":r.a,"van-field":i.a,"van-icon":s.a,"van-popup":o.a,dropdowmMenu:x.a,clickAvatarActionSheet:N.a,productionSheet:C.a,SetTarget:y.a,"van-sticky":n.a}},D=(a("./app/web/page/app/view/team/index.vue?vue&type=style&index=0&id=367b6bea&lang=less&scoped=true&"),Object(k.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unit-detail",class:{isAndroid:!e.isIos,isFullScreen:e.isFullScreen}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}]},[n("van-sticky",[n("NavBar",{attrs:{"left-text":"返回",title:e.navTitle,border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:a("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e._v("\n          "+e._s(e.navTitle)+"\n          "),n("img",{staticClass:"icon_q",attrs:{src:a("./app/web/page/app/images/icon_q.png"),alt:""},on:{click:e.showPopTime}})]},proxy:!0},{key:"right",fn:function(){return[n("img",{staticClass:"icon-search",attrs:{src:a("./app/web/page/app/images/index/icon_search.png"),alt:""},on:{click:e.toSearch}}),e._v(" "),e.levelCode>=90&&"operation"!=e.accountType?n("van-popover",{attrs:{trigger:"click",placement:"bottom-end",actions:e.popoverActions},on:{select:e.popoverSelect},scopedSlots:e._u([{key:"reference",fn:function(){return[n("img",{staticClass:"icon-more",attrs:{src:a("./app/web/page/app/images/dot.png"),alt:""}})]},proxy:!0}],null,!1,1154599501),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}}):[n("span",{on:{click:function(t){return e.gofullscreen()}}},[n("img",{staticClass:"icon-screen",attrs:{src:a("./app/web/page/app/images/screen.png"),alt:""}})])]]},proxy:!0}])})],1)],1),e._v(" "),n("van-pull-refresh",{attrs:{"head-height":100,disabled:e.refreshDisable},on:{refresh:e.onRefresh},scopedSlots:e._u([{key:"pulling",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("下拉刷新")])]},proxy:!0},{key:"loosing",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("松开刷新")])]},proxy:!0},{key:"loading",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("刷新中")])]},proxy:!0}]),model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[e._v(" "),e._v(" "),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],staticClass:"coach-home-content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.levelCode<=50,expression:"this.levelCode <= 50"}],staticClass:"coach-home-content-income"},[n("div",{staticClass:"retail-wrap"},[n("div",{staticClass:"retail retail-flex"},[n("div",{staticClass:"retail-item"},[n("div",[e._v("¥"+e._s(e._f("formatMoney")(e.retail.incomeAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("已达成收入")])]),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.setTargetIncome}},[this.retail.setTargetIncomeAmt?n("div",{staticClass:"retail-num"},[n("span",[e._v(" ¥"+e._s(e._f("formatMoney")(e.retail.targetIncomeAmt)))]),e._v(" "),this.isSelf?n("img",{staticClass:"target-income-icon",attrs:{src:a("./app/web/page/app/images/icon_edit_y.png"),alt:""}}):e._e()]):n("div",{staticClass:"retail-item-target"},[e._v("\n                设目标\n              ")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("收入目标")])]),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.toIncome}},[n("van-button",{staticClass:"income-history"},[e._v("历史收入")])],1)]),e._v(" "),n("div",{staticClass:"retail retail-unit retail-flex",on:{click:e.goEstimate}},[n("div",{staticClass:"retail-item"},[n("div",[e._v("¥"+e._s(e._f("formatMoney")(e.retail.estimateIncomeAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("收入评估")])]),e._v(" "),n("img",{staticClass:"retail-icon",attrs:{src:a("./app/web/page/app/images/icon_equal.png"),alt:""}}),e._v(" "),n("div",{staticClass:"retail-item"},[n("div",[e._v("\n                ¥"+e._s(e._f("formatMoney")(e.retail.currentEstimateIncomeAmt.estimateIncomeAmt))+"\n              ")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("\n                "+e._s(e.retail.currentEstimateIncomeAmt.describe)+"\n              ")])]),e._v(" "),n("img",{staticClass:"retail-icon",attrs:{src:a("./app/web/page/app/images/icon_add.png"),alt:""}}),e._v(" "),n("div",{staticClass:"retail-item"},[n("div",{staticClass:"estimateBox"},[e._v("\n                ¥"+e._s(e._f("formatMoney")(e.retail.otherEstimateIncomeAmt.estimateIncomeAmt))+"\n                "),n("van-icon",{staticClass:"icon-info",attrs:{name:"info"}})],1),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("\n                "+e._s(e.retail.otherEstimateIncomeAmt.describe)+"\n              ")])])])]),e._v(" "),n("div",{staticClass:"retail retail-product retail-flex"},[n("div",{staticClass:"retail-item"},[n("div",[e._v(e._s(e._f("formatMoney")(e.retail.productionAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("已达成绩效")])]),e._v(" "),n("div",{staticClass:"retail-item"},[n("div",[e._v("\n              "+e._s(e._f("formatMoney")(e.retail.estimateProductionAmt))+"\n            ")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("评估绩效累计")])]),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.toTeamHistory}},[n("van-button",{staticClass:"income-history"},[e._v("历史绩效")])],1)])]),e._v(" "),n("div",{staticClass:"unit-content-filter"},[n("img",{staticClass:"icon",attrs:{src:a("./app/web/page/app/images/select.png"),alt:""}}),e._v(" "),n("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:e.filterConfig,filter:e.filter,pageName:e.pageName,filterClickEventName:"TeamDetailsFilterClick",tagEventName:"TeamDetailsFilterTagClick",resetEventName:"TeamDetailsFilterResetClick",confirmEventName:"TeamDetailsFilterConfirmClick",total:e.total},on:{filterConfirm:e.filterConfirm,filterActionIsOpen:e.filterActionIsOpen}})],1)]),e._v(" "),e.showTable?n("List",{attrs:{finished:e.finished,"finished-text":e.tableData.data&&e.tableData.data.length?"没有更多了":""},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("common-table",{ref:"teamTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen,setClassName:e.setClassName},on:{sortChange:e.sortChange,cellClick:e.cellClick}},[n("el-table-column",{attrs:{fixed:"left",width:"60px",align:"center",prop:"avatar",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"avatar-wrap"},[n("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+o.contactId+"/avatar?size=60",alt:""},on:{click:function(t){return e.handleClickAvatar(o)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:o.setTargetIncomeAmt,expression:"row.setTargetIncomeAmt"}],staticClass:"icon_crown",attrs:{src:a("./app/web/page/app/images/crown.png"),alt:""}})])]}}],null,!1,3138096671)}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",fixed:"left",align:"center",width:"70px","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(a.name))])])]),e._v(" "),e.targetContactId==a.contactId?n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))]),e._v(" "),n("span",{staticClass:"self"},[e._v("本人")])]):n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))])])])]}}],null,!1,1313254768)}),e._v(" "),this.levelCode<60?n("el-table-column",{attrs:{slot:"between",label:"评估绩效",prop:"estimateProductionAmt",width:"96px",align:"center","header-align":"center",sortable:"custom","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"assess-performance"},[o.setTargetProductionAmt?n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setTarget(o)}}},[e._v(e._s(e._f("formatMoney")(o.estimateProductionAmt)))]):n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setTarget(o)}}},[e._v("评估绩效")]),e._v(" "),!o.setBySelf&&o.setTargetProductionAmt?n("img",{staticClass:"assess-performance-tip",attrs:{src:a("./app/web/page/app/images/avatar.png"),alt:""},on:{click:function(t){return e.setByself(o)}}}):e._e()],1)]}}],null,!1,3285957986)}):e._e(),e._v(" "),this.levelCode>=60?n("el-table-column",{attrs:{slot:"between",label:"收入目标",prop:"setTargetIncomeAmt",align:"center","header-align":"center",minWidth:"90px",sortable:"custom","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"assess-performance"},[a.setTargetIncomeAmt?n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setTargetIncomerow(a)}}},[e._v(e._s(e._f("formatMoney")(a.incomeTargetAmt)))]):n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setTargetIncomerow(a)}}},[e._v("未设置")])],1)]}}],null,!1,3036321410)}):e._e(),e._v(" "),this.levelCode<60?n("el-table-column",{key:"0",attrs:{slot:"between",label:"绩效进度",prop:"productionAmtRate",minWidth:"90px",align:"center","header-align":"center",sortable:"custom","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n            "+e._s(a.productionAmtRate)+"%\n          ")]}}],null,!1,1953559139)}):e._e()],1)],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showTable,expression:"!showTable"}],staticClass:"nodata"},[n("img",{attrs:{src:a("./app/web/page/app/images/nodata1.png"),alt:""}}),e._v(" "),n("div",[e._v("暂时没有数据")])])],1),e._v(" "),n("van-popup",{staticClass:"timePopup",attrs:{position:"center",round:"",closeable:""},model:{value:e.popupTime,callback:function(t){e.popupTime=t},expression:"popupTime"}},[n("div",{staticClass:"popupTime"},[n("div",{staticClass:"msg"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("规则")]),e._v(" "),n("p",[e._v("数据更新时间："),n("span",[e._v("6")]),e._v("小时")])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:a("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),n("click-avatar-action-sheet",{ref:"clickAvatarActionSheet",attrs:{pageName:e.pageName,profileClickEventName:"TeamDetailsClick",focusEventName:"TeamDetailsSetFocusClick  ",unfocusEventName:"TeamDetailsUnfocusClick",setTargetEventName:"TeamDetailsSetIncomeTargetClick",callEventName:"TeamDetailsPhoneCallClick",cancelEventName:"TeamDetailsUnsetClick",info:e.currentData,isFullScreen:e.isFullScreen,accountType:e.accountType,targetContactId:e.targetContactId},on:{onSelect:e.onSelect}}),e._v(" "),n("productionSheet",{ref:"productionAction",attrs:{contactId:e.productionContactId,queryType:"team",productionName:e.productionName},on:{addProduction:e.addProduction}}),e._v(" "),n("set-target",{ref:"setTarget",attrs:{isSettingTarget:e.retail.setTargetIncomeAmt,levelCode:e.levelCode,incomeTargetIncomeAmt:e.retail.targetIncomeAmt},on:{setTargetIncomeConfirm:e.setTargetIncomeConfirm}}),e._v(" "),n("van-popup",{staticClass:"popupmodel",attrs:{position:"center",closeable:""},model:{value:e.popup,callback:function(t){e.popup=t},expression:"popup"}},[n("div",{staticClass:"popbox"},[n("div",{staticClass:"msg"},[n("p",{staticClass:"popbox-title"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("提示")])]),e._v(" "),n("p",{staticClass:"popbox-mes"},[e._v(e._s(e.describe))])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:a("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),e.isFullScreen?n("img",{staticClass:"resetToPortraitScreen",attrs:{src:a("./app/web/page/app/images/portraitscreen.png"),alt:""},on:{click:e.resetToPortraitScreen}}):e._e()],1)}),[],!1,null,"367b6bea",null));t.default=D.exports},"./app/web/page/app/view/team/index.vue?vue&type=style&index=0&id=367b6bea&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/team/index.vue?vue&type=style&index=0&id=367b6bea&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/largeText/index.vue?vue&type=style&index=0&id=53974157&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/team/index.vue?vue&type=style&index=0&id=367b6bea&lang=less&scoped=true&":function(e,t,a){}}]);