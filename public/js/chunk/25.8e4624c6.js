(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./app/web/page/app/components/commonTable.vue":function(e,t,s){"use strict";var o={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,s,o){this.$emit("cellClick",{row:e,column:t,event:s,cell:o})}}},a=(s("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),n=Object(a.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"common-table"},[s("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return s("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){return[s("span",[e._v(e._s(t.formatter?t.formatter(o.row,o.$index):o.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=n.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/images/dot.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAUCAYAAAAuoXvLAAAAAXNSR0IArs4c6QAAA6NJREFUWEftl0molmUYhq/bSrPBsnkgTwNBGFGL9pp1hMxFixYulAaiWoQQWEoIRQMUQRjRPEDRrn2EQdMqJ7RhG0Rk2lyWNnvHfXq/w+c5/v/53q/fiPCBH3743ue93+d+ZnFYhjKgYV9tzwJyZr8kH2ou/4t40wiyfRRwBnAycCowB/gO+AzYJem3URJl+0jgTOCU8ptd8HYBOw8BXuw7HTit2Bj7vi327Z6KdwBBtucBS4AbgMvKBUcA+4CtwEvARknfjIIk28cDVwI3A5cC84FE7V5gB/Ai8Iakr0eItwxYWexr8H4CNgGvAG9L+qLBmySokHMrcC8wt6RW+11JsT+A54D72pf0ebztE4DbgHuAo4fgPZ8zkr7qg9PoFLw7gLuBRO3U7Il9vwMvA+sb+yYOldwPOY8DiZihpQl4AVgt6ec+jy5ptQZ4sETMTNc8BqyT9MtMBw/2veCtBe4/CDFTVUJU8NYm3RqCFgDvAyd2fMCfwHJJr3c8f8Ax20mn90rkdLkieMskbexyeJrF9iXA5gq8RNK4pHcagpJWCfUaeVfSohqFVrg/DdzSwZvt698ElkoKWVViO7VzVQ+8cdkOSR8BC6tQId1srqT9NXq2k8LBu6hGD9gDLJD0Q6VeSkiKbrpWjQRvLASl7X1ZkV6TgQDMk5QO0FlsHwd8WjpWZz3+dsiYpN01SjlrO104jadGfgUuDEGp6JlxMhvUSIrZ/FqPltb+CXBSDRiQByeC4swqsf0jEMfUSBrCeU0NegtYXKMN5IJje6RYHLKlzCE1kEmTCyRlRqoS20npi6uUYOdEBJUQXA1sqChiiZ7XJC2vBJ04bvtO4OFKvFeBFX1WHtt3AQ9V4j0p6faGoIT7duCcjpfEi0skpXVWi+2sMNE9t6Py98AVkjJdV4vts4FtpVAP3T/L5cG7XNLH7Un6WiBTa8gadEkiJ6mVkeDRPi23sc72OJCoyHozDC+1JxEXj1Z1zBZW1pfrgGc74KWgrwOeSLS2Ccr/q0uqZXBMd2s/PPNHdqJHcqbvY9vut720TO9jA/BSkJP6/8gZJa1jyzUF76yC135O1qjPgQeyc0rKsDjdc7YT9teXpTWzQy7ONv9BWAU+7FMHBuWF7aT1TcBVZTnO0QbvmeCOwhktks4HbkzKllEj9mX5zibxlKQU9EkZmI+2j2ktkQnzvaMkZiphLbx8Ct6+fwEvs1HKxkC8LgWruij+nxQOEzSDN/8C9eBNZRd6q0EAAAAASUVORK5CYII="},"./app/web/page/app/images/portraitscreen.png":function(e,t,s){e.exports=s.p+"img/portraitscreen.562c5e20.png"},"./app/web/page/app/images/screen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAjCAYAAAAJ+yOQAAAAAXNSR0IArs4c6QAAAptJREFUWEftmEuIjmEUx39/19xKShTJWBgLIpeVIkNTFhi3hVi5lWRsFBsbOxaSZMNsZ6EYciulrC1QRNiMFQahjLv+Ol/PN73zNpd3yPd+as7m6/ue85z3953nPOec94j/QJRltL0cWAdMBUb8If8X4D7QLqm7asP2TGAJ8BV4BTyS9KvIM3ogbZ8CDhbZVFCnE2iW9Dz0bbcAHZm9H4CLwAlJzwayWYG0fRQ4VvDhQ1F7CiyU9M32UmA/MAFoBOan0wrPHpZ0uj/Dsj0e6EqbQ+8ecBP4MRSajG4DsAMYmX7bK+lc3pbtOcAhYDcwGjgj6UBfzwzIZcDdtBjxNEPS+z8ErGyzfRbYl2xEbG7vz57tpnTsk4E9ks7ndQNyJXAnLXRKCk/8ldiO2I4YD7ksaeNABm2vAG4Dn4DZkj5m9esCMnm/DdgJHJF0vK4gbS8ApgCLgZPA47jxCfK6pLele9J2c4QEMC4XEteALZEZSodMR70GuAJEpgm5BGyT9D2+1AVkAl0FXE03fZekn1XP1g1kAp0IdEtyaRfH9qjIw3GCGYheQJFmgTeSImdXpGaetD0WeADMK5CEo1S2A63RpNQSMmr1wwKAWZUOSZtqCRm1/AKwIVPXizA31gyyCE26PGOAJ0A0ICHr6w4ygUbTvChBtgxDJk8M2gXlQ8H2sCcrThlqPznsyf7SSimeTDX3FjA3B/YCWC0pyliPlAUZ3clLID6z8hmYJeld6ZDpMkwDpucguyQFfC8pxZNFS1pV719Alvre3ZcD+krmNZtgpEHE2lzTm+eMaUYrMCktNNVyFhQxHdkgmt+iEheyoZZTtZiMxIStOiMaDDTS2mZJN2o2n0wZYisw2HGH6mugrTo27AU52F8ra/03X6TueCK+7EgAAAAASUVORK5CYII="},"./app/web/page/app/view/unit/history.vue":function(e,t,s){"use strict";s.r(t);var o=s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=s.n(o),n=(s("./node_modules/vant/es/icon/style/index.js"),s("./node_modules/vant/es/icon/index.js")),l=(s("./node_modules/vant/es/button/style/index.js"),s("./node_modules/vant/es/button/index.js")),i=(s("./node_modules/vant/es/nav-bar/style/index.js"),s("./node_modules/vant/es/nav-bar/index.js")),r=s("./node_modules/@babel/runtime/regenerator/index.js"),c=s.n(r),d=s("./app/web/page/app/utils/index.js"),p=s("./app/web/page/app/components/commonTable.vue"),u=s("./app/web/page/app/mixin/horizontalScreen.js"),m={components:{commonTable:p.a,NavBar:i.a,"van-button":l.a,"van-icon":n.a},mixins:[u.a],data:function(){return{accountType:"",targetContactId:"",filterParams:{},tableName:"unitHistory",isIos:Object(d.l)(),tableData:{header:[{label:"月份",prop:"monthKey",formatter:function(e){return e.monthKey=e.monthKey.toString(),e.monthKey?"".concat(e.monthKey.substr(0,4),"-").concat(e.monthKey.substr(4,6)):"-"}},{label:"绩效目标",prop:"estimateProductionAmt",formatter:function(e){return Object(d.f)(e.estimateProductionAmt)}},{label:"销售绩效",prop:"productionAmt",formatter:function(e){return Object(d.f)(e.productionAmt)}},{label:"达成比例",prop:"productionAmtRate",formatter:function(e){return"".concat(e.productionAmtRate,"%")}}],data:[]},pageName:"HomePage",landscapeEventName:"UnitHistoryLandscapeClick",export2ExcelEventName:"UnitHistoryExcelExportClick"}},created:function(){this.loadData(),this.targetContactId=this.$route.query.targetContactId,this.levelCode=this.$route.query.levelCode,this.accountType=this.$route.query.accountType,console.log(" this.targetContactId",this.targetContactId),"UnitDetailsPage"===this.$route.query.from?(this.pageName="UnitDetailsPage",this.landscapeEventName="HistoryProdLandscapeClick",this.export2ExcelEventName="HistoryProdExcelExportClick"):(this.pageName="HomePage",this.landscapeEventName="UnitHistoryLandscapeClick",this.export2ExcelEventName="UnitHistoryExcelExportClick")},methods:{back:function(){Object(d.b)()},loadData:function(){var e=this;return a()(c.a.mark((function t(){var s,o,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$ctx.baseApi,t.next=3,e.$request.get("".concat(s,"/reports/unit/history"));case 3:o=t.sent,a=o.data,console.log(a),e.tableData.data=a.sort((function(e,t){return t.monthKey-e.monthKey}));case 7:case"end":return t.stop()}}),t)})))()}}},g=(s("./app/web/page/app/view/unit/history.vue?vue&type=style&index=0&id=5f76ccc6&lang=less&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),b=Object(g.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"unit-detail",class:{isAndroid:!e.isIos,isFullScreen:e.isFullScreen}},[e.isFullScreen?e._e():o("NavBar",{attrs:{"left-text":"返回",fixed:"",title:"沙龙历史详情",border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[o("img",{staticClass:"back_btn",attrs:{src:s("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"right",fn:function(){return[e.levelCode>=90?o("van-popover",{attrs:{trigger:"click",placement:"bottom-end",actions:e.popoverActions},on:{select:e.popoverSelect},scopedSlots:e._u([{key:"reference",fn:function(){return[o("img",{staticClass:"icon-more",attrs:{src:s("./app/web/page/app/images/dot.png"),alt:""}})]},proxy:!0}],null,!1,1154599501),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}}):[o("span",{on:{click:function(t){return e.gofullscreen()}}},[o("img",{staticClass:"icon-screen",attrs:{src:s("./app/web/page/app/images/screen.png"),alt:""}})])]]},proxy:!0}],null,!1,1712602367)}),e._v(" "),o("div",{staticClass:"unit-content"},[o("common-table",{ref:"gemPointTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen}})],1),e._v(" "),e.isFullScreen?o("img",{staticClass:"resetToPortraitScreen",attrs:{src:s("./app/web/page/app/images/portraitscreen.png"),alt:""},on:{click:e.resetToPortraitScreen}}):e._e()],1)}),[],!1,null,"5f76ccc6",null);t.default=b.exports},"./app/web/page/app/view/unit/history.vue?vue&type=style&index=0&id=5f76ccc6&lang=less&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/unit/history.vue?vue&type=style&index=0&id=5f76ccc6&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/unit/history.vue?vue&type=style&index=0&id=5f76ccc6&lang=less&scoped=true&":function(e,t,s){}}]);