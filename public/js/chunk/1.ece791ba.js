(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./app/web/page/app/components/clickAvatarActionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),o=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=a.n(o),s=a("./node_modules/@babel/runtime/regenerator/index.js"),r=a.n(s),c=a("./app/web/page/app/utils/index.js"),l=[{name:"设为关注",prop:"follow"},{name:"个人详情",prop:"profile"},{name:"新人行动",prop:"nbcAction"},{name:"添加笔记",prop:"addNote"},{name:"邀请设置收入目标",prop:"setTarget"},{name:"查看目标评估",prop:"assess"},{name:"拨打电话",prop:"call"}],d={data:function(){return{show:!1,actions:[],safeareainsetBottom:!0,lockScroll:!0}},props:{pageName:{type:String,default:"UnitDetailsPage"},profileClickEventName:{type:String,default:"UnitDetailsClick"},focusEventName:{type:String,default:"UnitDetailsSetFocusClick"},unfocusEventName:{type:String,default:"UnitDetailsUnfocusClick"},setTargetEventName:{type:String,default:"UnitDetailsSetIncomeTargetClick"},callEventName:{type:String,default:"UnitDetailsPhoneCallClick"},cancelEventName:{type:String,default:"UnitDetailsCancelClick"},evaluationEventName:{type:String,default:"OffspringDetailsHeadPortraitTargetEvaluationClick"},accountType:{type:String,default:""},isFullScreen:{type:Boolean,default:!1},selectInfo:{type:String,default:""},info:{type:Object,default:function(){return{}}},targetContactId:null},methods:{onSelect:function(e){console.log(e.prop);var t="UnitDetailsClick";switch(e.prop){case"follow":t=this.info.isFocus?this.unfocusEventName:this.focusEventName;break;case"profile":t=this.profileClickEventName;break;case"setTarget":t=this.setTargetEventName;break;case"call":t=this.callEventName;break;case"assess":t=this.evaluationEventName;break;case"nbcAction":t="nbcAction",this.toActionPlan();break;case"addNote":t="addNote",this.goAddNote()}console.log(this.pageName,t),this.$track({context:this.pageName,behavior:t,item_type:this.pageName,item_id:t}),this.$emit("onSelect",e)},toActionPlan:function(){var e="".concat(window.location.origin,"/nbcActionPlan"),t={opaque:!1,targetContactId:this.info.contactId};this.$go(e,t)},goAddNote:function(){var e=this;return i()(r.a.mark((function t(){var a,n,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("".concat(e.$ctx.baseApi,"/notes/check?followContactId=").concat(e.info.contactId,"&contactId=").concat(e.targetContactId));case 2:a=t.sent,n=a.data,o="".concat(window.location.origin,"/note"),i={opaque:!1,targetContactId:e.info.contactId,name:e.info.name,levelCode:e.info.careerLevelCode,followed:e.targetContactId},n.hasNote||(o="".concat(window.location.origin,"/addNote"),i={targetContactId:e.info.contactId,name:e.info.name,opaque:!1,levelCode:e.info.careerLevelCode,from:"addNote_none",followed:e.targetContactId}),console.log("params",i),e.$go(o,i);case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$track({context:this.pageName,behavior:this.cancelEventName,item_type:this.pageName,item_id:this.cancelEventName})},showActions:function(){var e=this;return i()(r.a.mark((function t(){var a,n,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.$route.path),!e.isFullScreen){t.next=4;break}return e.$toast("请返回竖屏下操作～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,t.next=7,e.$request.get("".concat(a,"/goldenweek/newconsultant?contactId=").concat(e.info.contactId));case 7:n=t.sent,o=n.data.isNew,i=Object(c.d)(l),e.info.isFocus?i[0].name="移除关注":i[0].name="设为关注",e.info.setTargetIncomeAmt?i[4].name="邀请修改收入目标":i[4].name="邀请设置收入目标","50"===e.info.careerLevelCode&&i.forEach((function(e,t,a){"follow"===e.prop&&a.splice(t,1)})),"note"==e.selectInfo&&(i.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"assess"!==e.prop||a.splice(t,1)})),i.splice(1,0,{name:"查看笔记",prop:"goNote"})),e.info.contactId.toString()===e.targetContactId&&i.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"call"!==e.prop||a.splice(t,1)})),"operation"!==e.accountType||e.$route.path.includes("operation")||(i.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"nbcAction"!==e.prop||a.splice(t,1)})),Number(e.info.careerLevelCode)<50&&i.forEach((function(e,t,a){"call"===e.prop&&a.splice(t,1)}))),"operation"!==e.accountType&&i.forEach((function(e,t,a){"assess"===e.prop&&a.splice(t,1)})),o||i.forEach((function(e,t,a){"nbcAction"===e.prop&&a.splice(t,1)})),e.actions=i,e.show=!0;case 20:case"end":return t.stop()}}),t)})))()}},components:{"van-action-sheet":n.a}},p=a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(p.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消","safe-area-inset-bottom":e.safeareainsetBottom,"lock-scroll":e.lockScroll},on:{select:e.onSelect,cancel:e.onCancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})}),[],!1,null,"533543d6",null);t.a=u.exports},"./app/web/page/app/components/commonTable.vue":function(e,t,a){"use strict";var n={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,a,n){this.$emit("cellClick",{row:e,column:t,event:a,cell:n})}}},o=(a("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-table"},[a("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(t.formatter?t.formatter(n.row,n.$index):n.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=i.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/dropdown-item/style/index.js");var n=a("./node_modules/vant/es/dropdown-item/index.js"),o=(a("./node_modules/vant/es/dropdown-menu/style/index.js"),a("./node_modules/vant/es/dropdown-menu/index.js")),i=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=a.n(i),r=a("./node_modules/element-ui/src/utils/clickoutside.js"),c=a("./app/web/page/app/utils/index.js"),l={name:"filterActionSheet",data:function(){return{filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}},props:{filterConfig:{type:Array,default:function(){return[]}},filter:{type:Object,default:function(){return{accountType:""}}},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted:function(){var e=this.$route.query.accountType;this.accountType=e},methods:{setFilterText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"筛选";this.filterText=e},opened:function(){var e=this;this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",(function(){e.clickOverlay()}))},close:function(){this.$emit("filterActionIsOpen",!1)},initFilterConfig:function(){var e=this;this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n,i=t.options;e.filterResult[a]=o?e.filter[a]?e.filter[a]:[]:e.filter[a]?e.filter[a]:null,i.forEach((function(t){o?e.filter[a]&&Object(c.p)(t.value,e.filter[a])?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1):t.value===e.filter[a]?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1)}))})),this.filterCopy=Object(c.d)(this.filterResult)},selectItem:function(e,t){var a,n=this,o=t.prop,i=t.multiple,r=void 0===i||i;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:(a={},s()(a,o,e.value),s()(a,"isEmployee","operation"===this.accountType),a)}),r?this.filterResult[o].includes(e.value)?(this.filterResult[o].splice(this.filterResult[o].findIndex((function(t){return t===e.value})),1),this.$set(e,"selected",!1)):(this.filterResult[o].push(e.value),this.$set(e,"selected",!0)):this.filterResult[o]===e.value?(this.filterResult[o]=null,this.$set(e,"selected",!1)):(this.filterResult[o]=e.value,this.filterConfig.forEach((function(e){e.prop===o&&e.options.forEach((function(e){n.$set(e,"selected",!1)}))})),this.$set(e,"selected",!0))},clickOverlay:function(){var e=this;this.isOpen&&(this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n;t.options.forEach((function(t){e.$set(t,"selected",!1),o?e.filterCopy[a].findIndex((function(e){return e===t.value}))>-1&&e.$set(t,"selected",!0):e.filterCopy[a]===t.value&&e.$set(t,"selected",!0)}))})),this.filterResult=Object(c.d)(this.filterCopy))},filterReset:function(){var e=this;this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,o=void 0===n||n,i=t.options;e.filterResult[a]=o?[]:null,i.forEach((function(t){e.$set(t,"selected",!1)}))}))},filterConfirm:function(){var e=this;this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});var t=!1;Object.keys(this.filterResult).forEach((function(a){Array.isArray(e.filterResult[a])?e.filterResult[a].length&&(t=!0):null!==e.filterResult[a]&&(t=!0)})),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(c.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":o.a,"van-dropdown-item":n.a},directives:{Clickoutside:r.a}},d=(a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),p=Object(d.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-dropdown-menu",[a("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:e.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:e.opened,close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"title"},[a("span",[e._v("\n          "+e._s(e.filterText)+"\n        ")]),e._v(" "),a("span",{staticClass:"num"},[e._v("("+e._s(e.total)+")")])])]},proxy:!0}])},[e._v(" "),a("div",{staticClass:"filter-content"},[a("div",{staticClass:"filter-type"},e._l(e.filterConfig,(function(t){return a("div",{key:t.prop},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.options&&t.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[a("div",{staticClass:"filter-type-title"},[e._v(e._s(t.label))]),e._v(" "),a("div",[t.showSubTitle?a("div",{staticClass:"filter-type-subtitle"},[e._v("\n                "+e._s(t.subTitle)+"：\n              ")]):e._e(),e._v(" "),a("div",{staticClass:"filter-type-content"},e._l(t.options,(function(n){return a("span",{key:n.value,class:{is_active:n.selected},on:{click:function(a){return e.selectItem(n,t)}}},[e._v("\n                  "+e._s(n.name)+"\n                ")])})),0)])])])})),0),e._v(" "),a("div",{staticClass:"filter-button"},[a("span",{staticClass:"filter-button-reset",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"filter-button-confirm",on:{click:e.filterConfirm}},[e._v("确认")])])])])],1)}),[],!1,null,"6d8bb1f7",null);t.a=p.exports},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&")},"./app/web/page/app/components/productionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),o=(a("./node_modules/vant/es/number-keyboard/style/index.js"),a("./node_modules/vant/es/number-keyboard/index.js")),i=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=a.n(i),r=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),c=a("./node_modules/@babel/runtime/regenerator/index.js"),l=a.n(c),d=a("./app/web/page/app/utils/index.js"),p=a("./node_modules/good-storage/dist/storage.esm.js"),u={props:{contactId:"",productionName:"",queryType:"",pageName:{type:String,default:"UnitDetailsPage"},inputEventName:{type:String,default:"UnitDetailsRetailProdClick"},lastMonthEventName:{type:String,default:"UnitDetailsLastMonthProdClick"},sixMonthEventName:{type:String,default:"UnitDetailsSixMonthProdClick"},saveEventName:{type:String,default:"UnitDetailsSaveRetailProdClick"},inviteEventName:{type:String,default:"UnitDetailsInviteToSetTargetClick"}},data:function(){return{isIos:Object(d.l)(),pro:"",show:!1,lastMonth:!1,halfYear:!1,productionAmtMdata:{reference:{}},fullscreen:!1,showProductionAction:!1,zIndex:100}},methods:{onInput:function(e){this.pro+=e,this.productionAmtMdata.targetProductionAmt=Number(this.pro.split(",").join("")),this.estimateData(this.productionAmtMdata.targetProductionAmt)},onDelete:function(){console.log(this.productionAmtMdata.targetProductionAmt),this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.toString(),""!=this.productionAmtMdata.targetProductionAmt&&(this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.slice(0,this.productionAmtMdata.targetProductionAmt.length-1)),this.estimateData(Number(this.productionAmtMdata.targetProductionAmt))},shareToWechat:function(){var e=this;this.$track({context:this.pageName,behavior:this.inviteEventName,item_type:this.pageName,item_id:this.inviteEventName}),r.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}))},share:function(){var e=this;return s()(l.a.mark((function t(){var a,n,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),i={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(i);case 8:case"end":return t.stop()}}),t)})))()},addproduction:function(){var e=this;return s()(l.a.mark((function t(){var a,n,o,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:e.saveEventName,item_type:e.pageName,item_id:e.saveEventName}),!(e.productionAmtMdata.targetProductionAmt<e.productionAmtMdata.productionAmt)){t.next=4;break}return e.$toast("评估绩效请大于已达成绩效～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,n=p.a.get("ImpersonatedInfo").targetContactId,o={setByContactId:n,memberContactId:e.contactId,targetAmt:e.productionAmtMdata.targetProductionAmt},t.next=9,e.$request.post("".concat(a,"/target/production"),o);case 9:i=t.sent,s=i.data,console.log(s),e.pro="",e.show=!1,e.fullscreen=!1,e.$emit("addProduction",e.productionAmtMdata.targetProductionAmt);case 16:case"end":return t.stop()}}),t)})))()},lastMonthpro:function(){this.$track({context:this.pageName,behavior:this.lastMonthEventName,item_type:this.pageName,item_id:this.lastMonthEventName}),this.lastMonth=!0,this.halfYear=!1,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.lastMonthProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},halfYearpro:function(){this.$track({context:this.pageName,behavior:this.sixMonthEventName,item_type:this.pageName,item_id:this.sixMonthEventName}),this.lastMonth=!1,this.halfYear=!0,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.halfYearAvgProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},openNumber:function(){this.$track({context:this.pageName,behavior:this.inputEventName,item_type:this.pageName,item_id:this.inputEventName}),this.show=!0,this.lastMonth=!1,this.halfYear=!1,this.pro="",this.fullscreen=!0},estimateData:function(e){var t=this;return s()(l.a.mark((function a(){var n,o,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e,"data"),n=t.$ctx.baseApi,(o={}).memberContactId=t.contactId,o.estimateProductionAmt=e,a.next=7,t.$request.get("".concat(n,"/estimate/production"),{params:o});case 7:i=a.sent,t.productionAmtMdata.incomeDescribe=i.data.incomeDescribe;case 9:case"end":return a.stop()}}),a)})))()},close:function(){this.lastMonth=!1,this.halfYear=!1,this.show=!1,this.fullscreen=!1,this.pro="",this.zIndex=100}},components:{"van-number-keyboard":o.a,"van-action-sheet":n.a},watch:{showProductionAction:function(e){var t=this;return s()(l.a.mark((function a(){var n,o,i,s,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return n=Object(d.i)(),console.log(n),t.zIndex=n+5e3,o={queryType:t.queryType,memberContactId:t.contactId},i=t.$ctx.baseApi,a.next=8,t.$request.get("".concat(i,"/estimate/production"),{params:o});case 8:s=a.sent,r=s.data,t.productionAmtMdata=r;case 11:case"end":return a.stop()}}),a)})))()}}},m=(a("./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),v=Object(m.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{isAndroid:!e.isIos}},[n("van-action-sheet",{class:{"production-action":e.fullscreen},attrs:{title:e.productionName+"绩效评估","close-on-click-overlay":!0},on:{close:e.close},model:{value:e.showProductionAction,callback:function(t){e.showProductionAction=t},expression:"showProductionAction"}},[n("div",{staticClass:"content"},[n("div",[n("p",{staticClass:"title"},[e._v("\n          零售绩效设定\n          "),n("span",[e._v(" ("+e._s(e._f("formatDate")(new Date,"YYYY-MM"))+") ")])]),e._v(" "),n("div",{staticClass:"change"},[n("div",{staticClass:"changebg",on:{click:e.openNumber}},[n("span",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.targetProductionAmt))+"\n            ")]),e._v(" "),n("img",{staticClass:"edit",attrs:{src:a("./app/web/page/app/images/edit.png"),alt:""}})]),e._v(" "),n("div",{staticClass:"sum"},[e._v("\n            （当月已达成绩效"+e._s(e._f("formatMoney")(e.productionAmtMdata.productionAmt))+"）\n          ")])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("目标参考")]),e._v(" "),n("div",{staticClass:"productmap"},[n("div",{class:{productionBg:e.lastMonth},on:{click:e.lastMonthpro}},[n("p",[e._v("上个月绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.lastMonthProductionAmt))+"\n            ")])]),e._v(" "),n("div",{class:{productionBg:e.halfYear},on:{click:e.halfYearpro}},[n("p",[e._v("近6个月平均绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.halfYearAvgProductionAmt))+"\n            ")])])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("收益分析")]),e._v(" "),n("div",{staticClass:"Income"},[n("p",{domProps:{innerHTML:e._s(e.productionAmtMdata.incomeDescribe)}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.query.targetContactId)!==Number(this.contactId),expression:"\n              Number(this.$route.query.targetContactId) !==\n                Number(this.contactId)\n            "}],staticClass:"active",on:{click:e.shareToWechat}},[e._v("\n            邀请她设置当月收入目标\n          ")])])]),e._v(" "),n("div",{staticClass:"btn",on:{click:e.addproduction}},[e._v("保存绩效")])])]),e._v(" "),n("van-number-keyboard",{attrs:{show:e.show,theme:"custom","close-button-text":"完成",maxlength:7,"hide-on-click-outside":!1,"z-index":e.zIndex},on:{blur:function(t){e.show=!1,e.fullscreen=!1},input:e.onInput,delete:e.onDelete},model:{value:e.pro,callback:function(t){e.pro=t},expression:"pro"}})],1)}),[],!1,null,"e4ab8824",null);t.a=v.exports},"./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&")},"./app/web/page/app/components/setTarget/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/field/style/index.js");var n=a("./node_modules/vant/es/field/index.js"),o=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),i=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),s=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=a.n(s),c=a("./node_modules/@babel/runtime/regenerator/index.js"),l=a.n(c),d=a("./app/web/page/app/utils/index.js"),p={data:function(){return{setTargetDialog:!1,targetIncomeAmt:null}},props:{isSettingTarget:{type:Boolean,default:!0},levelCode:{type:Number,default:97},incomeTargetIncomeAmt:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"}},computed:{setTargetTitle:function(){return console.log("this.levelCode",this.levelCode),this.isSettingTarget?"请修改收入目标":"请输入收入目标"},setTargetTip:function(){return this.levelCode<60?"当月的收入需要和美容顾问一起达成，一起来评估她们当月的零售绩效吧。":60===this.levelCode?"当月的收入需要和沙龙成员一起达成，一起来评估她们当月的零售绩效吧。":"当月的收入需要和督导一起达成，一起来评估她们当月的零售绩效吧。"}},methods:{targetBoxClick:function(){this.$track({context:this.pageName,behavior:"UnitDetailsFillInTargetClick",item_type:this.pageName,item_id:"UnitDetailsFillInTargetClick"})},formatter:function(e){return e?Object(d.f)(e):""},setTargetIncome:function(){this.setTargetDialog=!0,this.incomeTargetIncomeAmt&&(this.targetIncomeAmt=this.incomeTargetIncomeAmt)},setTargetIncomeConfirm:function(){var e=this;return r()(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:"UnitDetailsTargetSaveClick",item_type:e.pageName,item_id:"UnitDetailsTargetSaveClick"}),e.targetIncomeAmt){t.next=3;break}return t.abrupt("return");case 3:if((a=parseInt(e.targetIncomeAmt.split(",").join("")))!==e.incomeTargetIncomeAmt){t.next=7;break}return e.setTargetDialog=!1,t.abrupt("return");case 7:return t.next=9,e.$request.post("".concat(e.$ctx.baseApi,"/target/income"),{targetAmt:a,sourceType:"app"});case 9:n=t.sent,n.data,e.setTargetDialog=!1,e.$emit("setTargetIncomeConfirm");case 13:case"end":return t.stop()}}),t)})))()}},components:{"van-button":i.a,"van-dialog":o.a.Component,"van-field":n.a}},u=(a("./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),m=Object(u.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-dialog",{staticClass:"target_dialog",attrs:{title:"","close-on-click-overlay":!0,"show-confirm-button":!1},model:{value:e.setTargetDialog,callback:function(t){e.setTargetDialog=t},expression:"setTargetDialog"}},[n("div",{staticClass:"target_content"},[n("div",{staticClass:"target_content-title"},[e._v(e._s(e.setTargetTitle))]),e._v(" "),n("div",{staticClass:"target_content-input"},[n("van-field",{attrs:{maxlength:9,formatter:e.formatter,type:"number"},on:{click:e.targetBoxClick},model:{value:e.targetIncomeAmt,callback:function(t){e.targetIncomeAmt=t},expression:"targetIncomeAmt"}})],1),e._v(" "),n("div",{staticClass:"target_content-tip"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_tip.png"),alt:""}})]),e._v(" "),n("div",[n("span",[e._v(e._s(e.setTargetTip))])])]),e._v(" "),n("div",{staticClass:"target_content-btn"},[n("van-button",{staticClass:"btn",on:{click:e.setTargetIncomeConfirm}},[e._v("保存")])],1)]),e._v(" "),n("div",{staticClass:"cer_close",on:{click:function(t){e.setTargetDialog=!1}}},[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_close.png"),alt:""}})])])],1)}),[],!1,null,"302df74a",null);t.a=m.exports},"./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&")},"./app/web/page/app/images/avatar.png":function(e,t,a){e.exports=a.p+"img/avatar.fb737f4c.png"},"./app/web/page/app/images/crown.png":function(e,t,a){e.exports=a.p+"img/crown.25c5a039.png"},"./app/web/page/app/images/dot.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAUCAYAAAAuoXvLAAAAAXNSR0IArs4c6QAAA6NJREFUWEftl0molmUYhq/bSrPBsnkgTwNBGFGL9pp1hMxFixYulAaiWoQQWEoIRQMUQRjRPEDRrn2EQdMqJ7RhG0Rk2lyWNnvHfXq/w+c5/v/53q/fiPCBH3743ue93+d+ZnFYhjKgYV9tzwJyZr8kH2ou/4t40wiyfRRwBnAycCowB/gO+AzYJem3URJl+0jgTOCU8ptd8HYBOw8BXuw7HTit2Bj7vi327Z6KdwBBtucBS4AbgMvKBUcA+4CtwEvARknfjIIk28cDVwI3A5cC84FE7V5gB/Ai8Iakr0eItwxYWexr8H4CNgGvAG9L+qLBmySokHMrcC8wt6RW+11JsT+A54D72pf0ebztE4DbgHuAo4fgPZ8zkr7qg9PoFLw7gLuBRO3U7Il9vwMvA+sb+yYOldwPOY8DiZihpQl4AVgt6ec+jy5ptQZ4sETMTNc8BqyT9MtMBw/2veCtBe4/CDFTVUJU8NYm3RqCFgDvAyd2fMCfwHJJr3c8f8Ax20mn90rkdLkieMskbexyeJrF9iXA5gq8RNK4pHcagpJWCfUaeVfSohqFVrg/DdzSwZvt698ElkoKWVViO7VzVQ+8cdkOSR8BC6tQId1srqT9NXq2k8LBu6hGD9gDLJD0Q6VeSkiKbrpWjQRvLASl7X1ZkV6TgQDMk5QO0FlsHwd8WjpWZz3+dsiYpN01SjlrO104jadGfgUuDEGp6JlxMhvUSIrZ/FqPltb+CXBSDRiQByeC4swqsf0jEMfUSBrCeU0NegtYXKMN5IJje6RYHLKlzCE1kEmTCyRlRqoS20npi6uUYOdEBJUQXA1sqChiiZ7XJC2vBJ04bvtO4OFKvFeBFX1WHtt3AQ9V4j0p6faGoIT7duCcjpfEi0skpXVWi+2sMNE9t6Py98AVkjJdV4vts4FtpVAP3T/L5cG7XNLH7Un6WiBTa8gadEkiJ6mVkeDRPi23sc72OJCoyHozDC+1JxEXj1Z1zBZW1pfrgGc74KWgrwOeSLS2Ccr/q0uqZXBMd2s/PPNHdqJHcqbvY9vut720TO9jA/BSkJP6/8gZJa1jyzUF76yC135O1qjPgQeyc0rKsDjdc7YT9teXpTWzQy7ONv9BWAU+7FMHBuWF7aT1TcBVZTnO0QbvmeCOwhktks4HbkzKllEj9mX5zibxlKQU9EkZmI+2j2ktkQnzvaMkZiphLbx8Ct6+fwEvs1HKxkC8LgWruij+nxQOEzSDN/8C9eBNZRd6q0EAAAAASUVORK5CYII="},"./app/web/page/app/images/edit.png":function(e,t,a){e.exports=a.p+"img/edit.299796b3.png"},"./app/web/page/app/images/icon_add.png":function(e,t,a){e.exports=a.p+"img/icon_add.868b0710.png"},"./app/web/page/app/images/icon_edit_y.png":function(e,t,a){e.exports=a.p+"img/icon_edit_y.1f0735bb.png"},"./app/web/page/app/images/icon_equal.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAA3hJREFUaEPdmstrE1EUxr9vHmkUpGoxFRFEi4/6J3QliC5cWLfqQtSloktf4ELwtVSrOysurFvbhQtFcOWfYCoSRRBJo60WwabJzHwyE1PTR/RmmqTpzDI595zz495z77nnXKJJn3JT3X6pdAjAAMDdAPoAdUNYF5kgfgKcBpAD9A7AGzuVes6+jeFvy/64HA16P7k1KHuHRRyBsE+Q24g+gmUQryk8s1xnjDt7PjcyvlY2FkgI4HvlawBPSLLiGp/nCBkAemw77tU4QA2B6OP39d5s6SKlcxLWNANgoQ4SMyLvOl2pW9y+4YepDWMQbzx/GAEeCdhoqnw5cgSmYOGks2fzmIkeIxA/W7gk6LokI3kTwyYyJEXwit2fufk/+X86po9K+8XCQ0nH/qeolf+THLHTmdPczmI9O3VBQgivWHgFaaCVThrrJt846cz+ejB1QbzsxIiko8aG2iAYzozT33t8KVNLgoQxESi40QbfGjZh0bq8VMwsAol2J/FZuwPblCjcAEAdWbibzQMJzwl/ZjbXri3W1PlFZw0wZa/p6qs9Z+aBlMcnbiHQhbgG2jrO4m13T+/Fqs05kD9px3sJ6bY6FNMYiaLtuDur6cwciJfND0s4GVPvigwj8cjp33wqNB6BVGbD+9SsBLBdVCQD23G2hbMSgfhvC2cCBEOmDnBtCuxZC6Zd0GlK8gt5AVQsQ5O/oF8lU1dgwTpr783cj0C87MQLSQdMRrM7DXtLt4lobBn/yzQ0XTcbmaeX5Eunv/cgo5vdbPmr6aXI7usBU05sJ00GquTBz02aiCK8nNld7iZ62fxRCSNGowB0GkgU6MSxEOSehLOmIJ22tP6ADLGR+Jg7fDoo2CsgfBmC5CTtMJ2RTpQj+SFcWt8k9HSig6Y+kZik9zY/KyBlOqgT5QiUEgSSmKWVnGA3T086fPtNzIGYkBQlMUljYtL41X+x4hl7b++DZF11K8srAcWHvwWI8moqB83YjrtrUTkohElEgS6alaSUTKNYSUIRu5pLJaKtUIXxshNPVrrltvAS13CjpxIvCWm9VWH8YmF4pVtwJJ/a6cypWM3Q2mld9e3pWhhvPD+IAMPt6ma15MFAFajmCcf5VjWEwgaOyDste8JROzur/lHNwu2w8szJHxQ1uLxnThy1XHs0zquguTpCswpuK/3w7Dc1HUSZ5DIXaQAAAABJRU5ErkJggg=="},"./app/web/page/app/images/icon_q.png":function(e,t,a){e.exports=a.p+"img/icon_q.62693319.png"},"./app/web/page/app/images/index/icon_search.png":function(e,t,a){e.exports=a.p+"img/icon_search.16d4819f.png"},"./app/web/page/app/images/nodata1.png":function(e,t,a){e.exports=a.p+"img/nodata1.75567d78.png"},"./app/web/page/app/images/portraitscreen.png":function(e,t,a){e.exports=a.p+"img/portraitscreen.562c5e20.png"},"./app/web/page/app/images/refresh-icon.gif":function(e,t,a){e.exports=a.p+"img/refresh-icon.4584a5b2.gif"},"./app/web/page/app/images/screen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAjCAYAAAAJ+yOQAAAAAXNSR0IArs4c6QAAAptJREFUWEftmEuIjmEUx39/19xKShTJWBgLIpeVIkNTFhi3hVi5lWRsFBsbOxaSZMNsZ6EYciulrC1QRNiMFQahjLv+Ol/PN73zNpd3yPd+as7m6/ue85z3953nPOec94j/QJRltL0cWAdMBUb8If8X4D7QLqm7asP2TGAJ8BV4BTyS9KvIM3ogbZ8CDhbZVFCnE2iW9Dz0bbcAHZm9H4CLwAlJzwayWYG0fRQ4VvDhQ1F7CiyU9M32UmA/MAFoBOan0wrPHpZ0uj/Dsj0e6EqbQ+8ecBP4MRSajG4DsAMYmX7bK+lc3pbtOcAhYDcwGjgj6UBfzwzIZcDdtBjxNEPS+z8ErGyzfRbYl2xEbG7vz57tpnTsk4E9ks7ndQNyJXAnLXRKCk/8ldiO2I4YD7ksaeNABm2vAG4Dn4DZkj5m9esCMnm/DdgJHJF0vK4gbS8ApgCLgZPA47jxCfK6pLele9J2c4QEMC4XEteALZEZSodMR70GuAJEpgm5BGyT9D2+1AVkAl0FXE03fZekn1XP1g1kAp0IdEtyaRfH9qjIw3GCGYheQJFmgTeSImdXpGaetD0WeADMK5CEo1S2A63RpNQSMmr1wwKAWZUOSZtqCRm1/AKwIVPXizA31gyyCE26PGOAJ0A0ICHr6w4ygUbTvChBtgxDJk8M2gXlQ8H2sCcrThlqPznsyf7SSimeTDX3FjA3B/YCWC0pyliPlAUZ3clLID6z8hmYJeld6ZDpMkwDpucguyQFfC8pxZNFS1pV719Alvre3ZcD+krmNZtgpEHE2lzTm+eMaUYrMCktNNVyFhQxHdkgmt+iEheyoZZTtZiMxIStOiMaDDTS2mZJN2o2n0wZYisw2HGH6mugrTo27AU52F8ra/03X6TueCK+7EgAAAAASUVORK5CYII="},"./app/web/page/app/images/select.png":function(e,t,a){e.exports=a.p+"img/select.65b9fd04.png"},"./app/web/page/app/view/unit/detail.vue":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/@babel/runtime/helpers/extends.js"),o=a.n(n),i=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),s=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=a.n(s),c=(a("./node_modules/vant/es/pull-refresh/style/index.js"),a("./node_modules/vant/es/pull-refresh/index.js")),l=(a("./node_modules/vant/es/sticky/style/index.js"),a("./node_modules/vant/es/sticky/index.js")),d=(a("./node_modules/vant/es/popup/style/index.js"),a("./node_modules/vant/es/popup/index.js")),p=(a("./node_modules/vant/es/icon/style/index.js"),a("./node_modules/vant/es/icon/index.js")),u=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),m=(a("./node_modules/vant/es/nav-bar/style/index.js"),a("./node_modules/vant/es/nav-bar/index.js")),v=(a("./node_modules/vant/es/list/style/index.js"),a("./node_modules/vant/es/list/index.js")),g=a("./node_modules/@babel/runtime/regenerator/index.js"),f=a.n(g),h=a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue"),b=a("./app/web/page/app/utils/index.js"),_=a("./app/web/page/app/components/commonTable.vue"),C=a("./app/web/page/app/components/setTarget/index.vue"),x=a("./app/web/page/app/components/productionSheet/index.vue"),A=a("./app/web/page/app/mixin/horizontalScreen.js"),y=a("./app/web/page/app/components/clickAvatarActionSheet/index.vue"),w={components:{commonTable:_.a,List:v.a,NavBar:m.a,"van-button":u.a,"van-icon":p.a,dropdowmMenu:h.a,clickAvatarActionSheet:y.a,SetTarget:C.a,productionSheet:x.a,"van-popup":d.a,"van-sticky":l.a,"van-pull-refresh":c.a},mixins:[A.a],data:function(){return{showTable:!0,navTitle:"",isIos:Object(b.l)(),isIphoneX:Object(b.m)(),loading:!0,finished:!1,tableData:{header:[],data:[]},tableHeader:[{label:"绩效进度",sortable:"custom",minWidth:"90px",prop:"productionAmtRate",formatter:function(e){return"".concat(e.productionAmtRate,"%")}},{label:"当月绩效",sortable:"custom",minWidth:"90px",prop:"productionAmt",formatter:function(e){return Object(b.f)(e.productionAmt,2)}}],filterConfig:[{prop:"tagIds",label:"分类",options:[]},{prop:"activityStatusCodes",label:"状态",options:[]},{prop:"careerLevelCodes",label:"职级",options:[]},{prop:"setTargetProductionAmt",label:"评估绩效",multiple:!1,options:[{name:"已评估",value:!0},{name:"未评估",value:!1}]},{prop:"setTargetIncomeAmt",label:"收入目标",multiple:!1,options:[{name:"已设置",value:!0},{name:"未设置",value:!1}]},{prop:"debuteCount",label:"生日周年",multiple:!0,options:[{name:"生日周年",value:1},{name:"美容顾问周年",value:2}]},{prop:"isNewBc",label:"新成员",multiple:!1,options:[{name:"是",value:!0},{name:"否",value:!1}]},{prop:"isOrder",label:"是否下单",multiple:!1,options:[{name:"已下单",value:!0},{name:"未下单",value:!1}]},{prop:"isFocus",label:"是否关注",multiple:!1,options:[{name:"是",value:!0},{name:"否",value:!1}]}],filter:{pageSize:50,pageNo:1,tagIds:[],careerLevelCodes:[],activityStatusCodes:[],setTargetProductionAmt:null,setTargetIncomeAmt:null,sortEnum:"ESTIMATE_PRODUCTION_AMT",orderEnum:"DESC",debuteCount:""},currentData:{},baseData:{currentEstimateIncomeAmt:{},otherEstimateIncomeAmt:{}},total:1,targetContactId:null,levelCode:97,isSelf:!0,monthKey:"",describe:"",popup:!1,popupTime:!1,productionContactId:"",productionName:"",filterParams:{},tableName:"unit",accountType:"",from:"",tableHeaderFixed:!0,refreshing:!1,refreshDisable:!1,navBarClientHeight:0,pageName:"UnitDetailsPage",landscapeEventName:"UnitDetailsLandscapeClick",export2ExcelEventName:"UnitDetailsExcelExportClick"}},created:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i,s,r,c,l,d,p,u,m,v,g,h,_,C;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.$route.query,n=a.monthKey,o=a.levelCode,i=a.targetContactId,s=a.isSelf,r=a.accountType,c=a.navTitle,l=a.from,d=a.tagId,p=a.isOrder,u=a.isNewBc,m=a.isFocus,v=a.careerLevelCodes,g=a.activityStatusCodes,e.navTitle=c||"沙龙详情",void 0!==p&&(e.filter.isOrder=JSON.parse(p)),void 0!==u&&(e.filter.isNewBc=JSON.parse(u)),void 0!==m&&(e.filter.isFocus=JSON.parse(m)),d&&(e.filter.tagIds=[d]),v&&(e.filter.careerLevelCodes=v.split(",")),g&&(e.filter.activityStatusCodes=g.split(",")),e.monthKey=n,e.levelCode=Number(o),e.targetContactId=i,e.isSelf=JSON.parse(s),e.accountType=r,e.from=l,console.log(s),(h=new Date(n.substr(0,4),n.substr(4,6))).setMonth(h.getMonth()-1,1),_=function(t){h.setMonth(h.getMonth()-1);var a="".concat(h.getFullYear(),"/").concat(e.addZero(h.getMonth()+1));e.tableHeader.push({label:"".concat(a),sortable:"custom",minWidth:"90px",prop:"productionAmtM".concat(t),formatter:function(e){return Object(b.f)(e["productionAmtM".concat(t)],2)}})},C=1;C<=12;C++)_(C);e.tableData.header=e.tableHeader,e.loadData(),e.getFilterConditions();case 22:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$jsBridge.onFronted((function(){e.onFronted()})),this.fixedHeader()},methods:{fixedHeader:function(){var e=this,t=document.querySelector(".van-nav-bar"),a=document.querySelector(".unit-content-filter"),n=document.querySelector(".unit-content-income"),o=document.querySelector(".el-table__header-wrapper"),i=document.querySelector(".el-table__body-wrapper"),s=document.querySelector(".common-table");window.addEventListener("scroll",(function(r){if(e.navBarClientHeight=t.clientHeight,!(s.clientHeight+a.clientHeight+t.clientHeight<=screen.height)){var c=document.querySelector(".el-table__fixed-header-wrapper"),l=document.querySelector(".el-table__fixed-body-wrapper"),d=document.documentElement.scrollTop||document.body.scrollTop;e.isFullScreen||(d>=n.clientHeight?(c.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),l.style.cssText="top: ".concat(o.clientHeight+a.clientHeight-1,"px"),a.style.cssText="position: fixed;top: ".concat(t.clientHeight,"px;right: 0;z-index: 5;width: 100%;"),o.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;z-index: 3;"),i.style.cssText="padding-top: ".concat(o.clientHeight+a.clientHeight-1,"px")):(c.style.cssText="position: absolute;top: 0",l.style.cssText="padding-top:0;top: ".concat(c.clientHeight,"px;"),a.style.cssText="position: unset;",o.style.cssText="position: unset;",i.style.cssText="padding-top: 0;"))}}))},filterActionIsOpen:function(e){this.refreshDisable=e},onFronted:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(b.d)(e.filterParams)).pageNo=1,a.pageSize=e.tableData.data.length||20,n=e.$ctx.baseApi.replace("v1","v2"),t.next=6,e.$request.get("".concat(n,"/reports/unit/details"),{params:a});case 6:o=t.sent,i=o.data,e.baseData=i,e.tableData.data.forEach((function(e,t,a){i.members.forEach((function(n,o){e.contactId===n.contactId&&a.splice(t,1,n)}))}));case 10:case"end":return t.stop()}}),t)})))()},setClassName:function(e){e.row;var t=e.column;return"name"===t.property?"cell-class_name":"avatar"===t.property?"cell-class_avatar":"estimateProductionAmt"===t.property?"cell-class_estimateProductionAmt":void 0},getRelationship:function(e){var t=this;return r()(f.a.mark((function a(){var n,o,i,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isFullScreen){a.next=3;break}return t.$toast("请返回竖屏下操作～"),a.abrupt("return");case 3:return n=t.$ctx.baseApi,o={contactId:e.contactId},a.next=7,t.$request.get("".concat(n,"/estimate/production/relationship"),{params:o});case 7:i=a.sent,s=i.data,console.log("data",s),t.describe=s.describe,t.popup=!0;case 12:case"end":return a.stop()}}),a)})))()},getFilterConditions:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i,s,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.get("".concat(a,"/reports/unit/filter-conditions"));case 3:n=t.sent,o=n.data,i=o.activityStatusCodes,s=o.careerLevelCodes,r=o.tagIds,c=o.debuteCount,e.filterConfig.forEach((function(e){"careerLevelCodes"===e.prop&&s&&(e.options=s.map((function(e){return{name:"".concat(e.careerLevelCode,"(").concat(e.count,")"),value:e.careerLevelCode}}))),"debuteCount"===e.prop&&c&&(c.birthDebuteCount>0&&(e.options[0].name="生日周年(".concat(c.birthDebuteCount,")")),c.teamDebuteCount>0&&(e.options[1].name="美容顾问周年(".concat(c.teamDebuteCount,")")),c.dirDebuteCount>0&&e.options.push({name:"督导周年(".concat(c.dirDebuteCount,")"),value:3}),c.nsdDebuteCount>0&&e.options.push({name:"首席周年(".concat(c.nsdDebuteCount,")"),value:4})),"activityStatusCodes"===e.prop&&i&&(e.options=i.map((function(e){return{name:"".concat(e.activityStatusCode,"(").concat(e.count,")"),value:e.activityStatusCode}}))),"tagIds"===e.prop&&r&&(e.options=r.map((function(e){return{name:"".concat(e.tagName,"(").concat(e.count,")"),value:e.tagId}})))})),console.log(e.filterConfig,"filterConfig"),e.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));case 9:case"end":return t.stop()}}),t)})))()},addZero:function(e){return e<10?"0".concat(e):e},back:function(){Object(b.b)()},loadData:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i,s,r,c,l,d,p,u,m,v,g,h,_,C,x,A,y,w;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.documentElement.scrollTop||document.body.scrollTop,e.loading=!0,n=e.filter,o=n.pageNo,i=n.pageSize,s=n.tagIds,r=n.careerLevelCodes,c=n.activityStatusCodes,l=n.setTargetProductionAmt,d=n.setTargetIncomeAmt,p=n.sortEnum,u=n.orderEnum,m=n.debuteCount,v=n.isOrder,g=n.isNewBc,h=n.isFocus,_={pageNo:o,pageSize:i,setTargetProductionAmt:l,setTargetIncomeAmt:d,sortEnum:p,orderEnum:u,debuteCount:m,isOrder:v,isNewBc:g,isFocus:h},s&&s.length&&(_.tagIds=s.join(",")),m&&m.length&&(_.debuteCount=m.join(",")),r&&r.length&&(_.careerLevelCodes=r.join(",")),c&&c.length&&(_.activityStatusCodes=c.join(",")),C=e.$ctx.baseApi.replace("v1","v2"),e.filterParams=Object(b.d)(_),t.next=12,e.$request.get("".concat(C,"/reports/unit/details"),{params:_});case 12:x=t.sent,A=x.data,e.total=A.total,e.baseData=A,e.loading=!1,e.refreshing=!1,A.hasNextPage?e.finished=!1:e.finished=!0,y=new Map,w=e.tableData.data.concat(A.members),e.tableData.data=w.filter((function(e){return!y.has(e.contactId)&&y.set(e.contactId,1)})),e.tableData.data&&e.tableData.data.length?e.showTable=!0:e.showTable=!1,window.scrollTo(0,a),e.filter.pageNo=e.filter.pageNo+1;case 25:case"end":return t.stop()}}),t)})))()},onRefresh:function(){var e=this;return r()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.finished=!1,e.refreshing=!0,e.filter.pageNo=1,e.tableData.data=[],e.loadData();case 5:case"end":return t.stop()}}),t)})))()},setTargetIncome:function(){var e=this;return r()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:"UnitDetailsPage",behavior:"UnitDetailsSetTargetClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsSetTargetClick"}),"operation"!==e.accountType||"employeeArea"===e.from){t.next=4;break}return e.$toast("抱歉，暂时不支持对她进行操作～"),t.abrupt("return");case 4:e.isSelf?e.$refs.setTarget.setTargetIncome():e.baseData.setTargetIncomeAmt||i.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}));case 5:case"end":return t.stop()}}),t)})))()},share:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),i={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(i);case 8:case"end":return t.stop()}}),t)})))()},setTargetIncomeConfirm:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.get("".concat(a,"/reports/unit/details"));case 3:n=t.sent,o=n.data,e.baseData=o;case 6:case"end":return t.stop()}}),t)})))()},filterConfirm:function(e){console.log("11",e),this.filter.pageNo=1,this.filter=o()(this.filter,e),this.tableData.data=[],this.loadData()},handleClickAvatar:function(e){var t=this;this.currentData=e,this.$nextTick((function(){t.$refs.clickAvatarActionSheet.showActions()}))},onSelect:function(e){var t=this;return r()(f.a.mark((function a(){var n,o,s,r,c,l,d,p,u;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.$ctx.baseApi,a.t0=e.prop,a.next="follow"===a.t0?4:"profile"===a.t0?11:"setTarget"===a.t0?15:"assess"===a.t0?19:"call"===a.t0?25:27;break;case 4:return a.next=6,t.$request.post("".concat(n,"/focus"),{focusContactId:t.currentData.contactId.toString()});case 6:return o=a.sent,o.data,t.currentData.isFocus=!t.currentData.isFocus,console.log(t.currentData.isFocus),a.abrupt("break",27);case 11:return s="".concat(window.location.origin,"/profile"),r={opaque:!1,targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode,from:"unit",followed:t.$route.query.targetContactId},t.$go(s,r),a.abrupt("break",27);case 15:return c=t.currentData.setTargetIncomeAmt,l=c?"是否邀请修改收入目标":"是否邀请设置收入目标",i.a.confirm({message:l}).then((function(){t.share()})).catch((function(){})),a.abrupt("break",27);case 19:return d="team",Number(t.currentData.careerLevelCode)>=60&&(d="unit"),p="".concat(window.location.origin,"/").concat(d),u={opaque:!1,isSelf:!1,targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode,monthKey:t.monthKey,navTitle:"收入目标评估"},t.$go(p,u),a.abrupt("break",27);case 25:return window.location.href="tel:".concat(t.currentData.mobile),a.abrupt("break",27);case 27:t.$refs.clickAvatarActionSheet.show=!1;case 28:case"end":return a.stop()}}),a)})))()},toEstimate:function(e){this.$track({context:"UnitDetailsPage",behavior:e,item_type:"UnitDetailsPage",item_id:e});var t="".concat(window.location.origin,"/estimate"),a={opaque:!1,targetContactId:this.targetContactId,levelCode:this.levelCode};this.$go(t,a)},sortMap:function(e){return{estimateProductionAmt:"ESTIMATE_PRODUCTION_AMT",productionAmtRate:"PRODUCTIONAMT_RATE",productionAmt:"PRODUCTION_AMT",productionAmtM1:"PRODUCTION_AMT_M1",productionAmtM2:"PRODUCTION_AMT_M2",productionAmtM3:"PRODUCTION_AMT_M3",productionAmtM4:"PRODUCTION_AMT_M4",productionAmtM5:"PRODUCTION_AMT_M5",productionAmtM6:"PRODUCTION_AMT_M6",productionAmtM7:"PRODUCTION_AMT_M7",productionAmtM8:"PRODUCTION_AMT_M8",productionAmtM9:"PRODUCTION_AMT_M9",productionAmtM10:"PRODUCTION_AMT_M10",productionAmtM11:"PRODUCTION_AMT_M11",productionAmtM12:"PRODUCTION_AMT_M12"}[e]},sortChange:function(e){e.column;var t=e.prop,a=e.order;a?("descending"===a?a="desc":"ascending"===a&&(a="asc"),this.filter.sortEnum=this.sortMap(t),this.filter.orderEnum=a.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},setEstimateProduction:function(e){this.$track({context:"UnitDetailsPage",behavior:"UnitDetailsRetailProdEstimateClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsRetailProdEstimateClick"}),this.isFullScreen?this.$toast("请返回竖屏下操作～"):"operation"!==this.accountType?(this.currentData=e,this.productionContactId=e.contactId,this.productionName=e.name,this.$refs.productionAction.showProductionAction=!0):this.$toast("抱歉，暂时不支持对她进行操作～")},addProduction:function(e){var t=this;return r()(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.productionAction.showProductionAction=!1,t.onFronted(),t.reloadData();case 3:case"end":return e.stop()}}),e)})))()},reloadData:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi.replace("v1","v2"),t.next=3,e.$request.get("".concat(a,"/reports/unit/details"));case 3:n=t.sent,o=n.data,e.baseData=o;case 6:case"end":return t.stop()}}),t)})))()},toSearch:function(){var e="".concat(window.location.origin,"/unit_search"),t={targetContactId:this.targetContactId,monthKey:this.monthKey,levelCode:this.levelCode};this.$go(e,t)},toUnitHistory:function(){this.$track({context:"UnitDetailsPage",behavior:"UnitDetailsHistoryProdClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsHistoryProdClick"});var e="".concat(window.location.origin,"/unit_history"),t={opaque:!1,targetContactId:this.targetContactId,levelCode:this.levelCode,accountType:this.accountType,from:"UnitDetailsPage"};this.$go(e,t)},toIncome:function(){var e=this;return r()(f.a.mark((function t(){var a,n,o,i,s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$track({context:"UnitDetailsPage",behavior:"UnitDetailsHistoryIcomeClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsHistoryIcomeClick"}),a="".concat(window.location.origin,"/income"),n={monthKey:e.monthKey,opaque:!1,amount:e.baseData.incomeAmt,targetContactId:e.targetContactId,levelCode:e.levelCode,from:"UnitDetailsPage"},o=(new Date).getDate(),i=e.$ctx.baseApiList.income,s="".concat(i,"/prodIncome/myIncomes?monthKey=").concat(e.monthKey),r=!1,t.prev=7,t.next=10,e.$request.get(s,{headers:{impersonatedContactId:e.targetContactId}});case 10:t.sent.data.myIncome.incomeList.forEach((function(e){e.total&&0!==e.total&&(r=!0,e.dataList.forEach((function(e){e.value&&0!==e.value&&(r=!0)})))})),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(7);case 16:console.log(r),1!==o&&r||(n.day=o,a="".concat(window.location.origin,"/processing")),e.$go(a,n);case 19:case"end":return t.stop()}}),t,null,[[7,14]])})))()}},watch:{isFullScreen:function(e){var t=this;if(!e){var a=document.documentElement.scrollTop||document.body.scrollTop;this.$nextTick((function(){var e=document.querySelector(".unit-content-filter"),n=document.querySelector(".unit-content-income"),o=document.querySelector(".el-table__header-wrapper"),i=document.querySelector(".el-table__fixed-header-wrapper"),s=document.querySelector(".el-table__fixed-body-wrapper"),r=document.querySelector(".el-table__body-wrapper"),c=document.querySelector(".common-table");a>n.clientHeight&&c.clientHeight+e.clientHeight+t.navBarClientHeight>t.screenHeight?(i.style.cssText="position: fixed;top: ".concat(navBar.clientHeight+e.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),s.style.cssText="top: ".concat(o.clientHeight+e.clientHeight-1,"px"),e.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight,"px;right: 0;z-index: 5;width: 100%;"),o.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight+e.clientHeight-1,"px;z-index: 3;"),r.style.cssText="padding-top: ".concat(o.clientHeight+e.clientHeight-1,"px")):(i.style.cssText="position: absolute;top: 0",s.style.cssText="padding-top:0;top: ".concat(i.clientHeight,"px;"),e.style.cssText="position: unset;",o.style.cssText="position: unset;",r.style.cssText="padding-top: 0;")}))}},showTable:function(e){var t=this;e?(window.scrollTo(0,0),this.$nextTick((function(){t.fixedHeader()}))):document.querySelector(".unit-content-filter").style.cssText="position: unset;"},popupTime:function(e){e&&this.$track({context:"UnitDetailsPage",behavior:"UnitDetailsRuleIconClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsRuleIconClick"})}}},k=(a("./app/web/page/app/view/unit/detail.vue?vue&type=style&index=0&id=f55548b0&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),T=Object(k.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unit-detail",class:{isAndroid:!e.isIos,isFullScreen:e.isFullScreen,isIphoneX:e.isIphoneX}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],staticClass:"content-header"},[n("van-sticky",[n("NavBar",{attrs:{"left-text":"返回",title:e.navTitle,border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:a("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e._v("\n          "+e._s(e.navTitle)+"\n          "),n("img",{staticClass:"icon_q",attrs:{src:a("./app/web/page/app/images/icon_q.png"),alt:""},on:{click:function(t){e.popupTime=!e.popupTime}}})]},proxy:!0},{key:"right",fn:function(){return[n("img",{staticClass:"icon-search",attrs:{src:a("./app/web/page/app/images/index/icon_search.png"),alt:""},on:{click:e.toSearch}}),e._v(" "),e.levelCode>=90&&"operation"!=e.accountType?n("van-popover",{attrs:{trigger:"click",placement:"bottom-end",actions:e.popoverActions},on:{select:e.popoverSelect},scopedSlots:e._u([{key:"reference",fn:function(){return[n("img",{staticClass:"icon-more",attrs:{src:a("./app/web/page/app/images/dot.png"),alt:""}})]},proxy:!0}],null,!1,1154599501),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}}):[n("span",{on:{click:function(t){return e.gofullscreen()}}},[n("img",{staticClass:"icon-screen",attrs:{src:a("./app/web/page/app/images/screen.png"),alt:""}})])]]},proxy:!0}])})],1)],1),e._v(" "),n("van-pull-refresh",{attrs:{"head-height":100,disabled:e.refreshDisable},on:{refresh:e.onRefresh},scopedSlots:e._u([{key:"pulling",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("下拉刷新")])]},proxy:!0},{key:"loosing",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("松开刷新")])]},proxy:!0},{key:"loading",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("刷新中")])]},proxy:!0}]),model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[e._v(" "),e._v(" "),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],staticClass:"unit-content-income"},[n("div",{staticClass:"retail-wrap"},[n("div",{staticClass:"retail retail-flex"},[n("div",{staticClass:"retail-item"},[n("div",[e._v("¥"+e._s(e._f("formatMoney")(e.baseData.incomeAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("已达成收入")])]),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.setTargetIncome}},[e.baseData.setTargetIncomeAmt?n("div",{staticClass:"target-income"},[n("span",[e._v("¥"+e._s(e._f("formatMoney")(e.baseData.targetIncomeAmt)))]),e._v(" "),e.isSelf?n("img",{staticClass:"target-income-icon",attrs:{src:a("./app/web/page/app/images/icon_edit_y.png"),alt:""}}):e._e()]):n("van-button",{staticClass:"set-target"},[e._v("设目标")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("收入目标")])],1),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.toIncome}},[n("van-button",{staticClass:"income-history"},[e._v("历史收入")])],1)]),e._v(" "),n("div",{staticClass:"retail retail-unit retail-flex"},[n("div",{staticClass:"retail-item",on:{click:function(t){return e.toEstimate("UnitDetailsIncomeEvaluationClick")}}},[n("div",[e._v("¥"+e._s(e._f("formatMoney")(e.baseData.estimateIncomeAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("收入评估")])]),e._v(" "),n("img",{staticClass:"retail-icon",attrs:{src:a("./app/web/page/app/images/icon_equal.png"),alt:""}}),e._v(" "),n("div",{staticClass:"retail-item",on:{click:function(t){return e.toEstimate("UnitDetailsManagementServiceFeeClick")}}},[n("div",[e._v("\n              ¥"+e._s(e._f("formatMoney")(e.baseData.currentEstimateIncomeAmt.estimateIncomeAmt))+"\n            ")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("\n              "+e._s(e.baseData.currentEstimateIncomeAmt.describe)+"\n            ")])]),e._v(" "),n("img",{staticClass:"retail-icon",attrs:{src:a("./app/web/page/app/images/icon_add.png"),alt:""}}),e._v(" "),n("div",{staticClass:"retail-item",on:{click:function(t){return e.toEstimate("UnitDetailsOthersServiceFeeClick")}}},[n("div",{staticClass:"estimateBox"},[e._v("\n              ¥"+e._s(e._f("formatMoney")(e.baseData.otherEstimateIncomeAmt.estimateIncomeAmt))+"\n              "),n("van-icon",{staticClass:"icon-info",attrs:{name:"info"}})],1),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("\n              "+e._s(e.baseData.otherEstimateIncomeAmt.describe)+"\n            ")])])])]),e._v(" "),n("div",{staticClass:"retail retail-product retail-flex"},[n("div",{staticClass:"retail-item"},[n("div",[e._v(e._s(e._f("formatMoney")(e.baseData.productionAmt)))]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("已达成绩效")])]),e._v(" "),n("div",{staticClass:"retail-item"},[n("div",[e._v("\n            "+e._s(e._f("formatMoney")(e.baseData.estimateProductionAmt))+"\n          ")]),e._v(" "),n("div",{staticClass:"retail-item-desc"},[e._v("评估绩效累计")])]),e._v(" "),n("div",{staticClass:"retail-item",on:{click:e.toUnitHistory}},[n("van-button",{staticClass:"income-history"},[e._v("历史绩效")])],1)])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],staticClass:"unit-content-filter"},[n("img",{staticClass:"icon",attrs:{src:a("./app/web/page/app/images/select.png"),alt:""}}),e._v(" "),n("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:e.filterConfig,filter:e.filter,pageName:"UnitDetailsPage",filterClickEventName:"UnitDetailsFilterClick",tagEventName:"UnitDetailsFilterTagClick",resetEventName:"UnitDetailsFilterResetClick",confirmEventName:"UnitDetailsFilterConfirmClick",total:e.total},on:{filterConfirm:e.filterConfirm,filterActionIsOpen:e.filterActionIsOpen}})],1),e._v(" "),e.showTable?n("List",{attrs:{finished:e.finished,"finished-text":e.tableData.data&&e.tableData.data.length?"没有更多了":""},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("common-table",{ref:"unitTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen,setClassName:e.setClassName},on:{sortChange:e.sortChange}},[n("el-table-column",{attrs:{slot:"between",label:"头像",width:"60px",fixed:"left",align:"center",prop:"avatar"},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"avatar-wrap"},[n("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+o.contactId+"/avatar?size=60",alt:""},on:{click:function(t){return e.handleClickAvatar(o)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:o.setTargetIncomeAmt,expression:"row.setTargetIncomeAmt"}],staticClass:"icon_crown",attrs:{src:a("./app/web/page/app/images/crown.png"),alt:""}})])]}}],null,!1,3138096671)}),e._v(" "),n("el-table-column",{attrs:{slot:"between",label:"姓名",align:"center",fixed:"left","header-align":"center",width:"70px",prop:"name"},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(a.name))])])]),e._v(" "),e.targetContactId===a.contactId.toString()?n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))]),e._v(" "),n("span",{staticClass:"self"},[e._v("本人")])]):n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))])])])]}}],null,!1,942127788)}),e._v(" "),n("el-table-column",{attrs:{slot:"between",label:"评估绩效",align:"center",prop:"estimateProductionAmt",sortable:"custom",width:"96px","header-align":"center","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"assess-performance"},[o.setTargetProductionAmt?n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setEstimateProduction(o)}}},[e._v(e._s(e._f("formatMoney")(o.estimateProductionAmt)))]):n("van-button",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setEstimateProduction(o)}}},[e._v("评估绩效")]),e._v(" "),!o.setBySelf&&o.setTargetProductionAmt?n("img",{staticClass:"assess-performance-tip",attrs:{src:a("./app/web/page/app/images/avatar.png"),alt:""},on:{click:function(t){return e.getRelationship(o)}}}):e._e()],1)]}}],null,!1,996609621)})],1)],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showTable,expression:"!showTable"}],staticClass:"nodata"},[n("img",{attrs:{src:a("./app/web/page/app/images/nodata1.png"),alt:""}}),e._v(" "),n("div",[e._v("暂时没有数据")])])],1),e._v(" "),n("click-avatar-action-sheet",{ref:"clickAvatarActionSheet",attrs:{pageName:"UnitDetailsPage",profileClickEventName:"UnitDetailsClick",focusEventName:"UnitDetailsSetFocusClick",unfocusEventName:"UnitDetailsUnfocusClick",setTargetEventName:"UnitDetailsSetIncomeTargetClick",callEventName:"UnitDetailsPhoneCallClick",cancelEventName:"UnitDetailsCancelClick",info:e.currentData,isFullScreen:e.isFullScreen,accountType:e.accountType,targetContactId:e.targetContactId},on:{onSelect:e.onSelect}}),e._v(" "),n("set-target",{ref:"setTarget",attrs:{isSettingTarget:e.baseData.setTargetIncomeAmt,levelCode:e.levelCode,incomeTargetIncomeAmt:e.baseData.targetIncomeAmt,pageName:"UnitDetailsPage"},on:{setTargetIncomeConfirm:e.setTargetIncomeConfirm}}),e._v(" "),n("van-popup",{staticClass:"timePopup",attrs:{position:"center",round:"",closeable:""},model:{value:e.popupTime,callback:function(t){e.popupTime=t},expression:"popupTime"}},[n("div",{staticClass:"popupTime"},[n("div",{staticClass:"msg"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("规则")]),e._v(" "),n("p",[e._v("数据更新时间："),n("span",[e._v("6")]),e._v("小时")])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:a("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),n("productionSheet",{ref:"productionAction",attrs:{contactId:e.productionContactId,queryType:"unit",pageName:"UnitDetailsPage",inputEventName:"UnitDetailsRetailProdClick",lastMonthEventName:"UnitDetailsLastMonthProdClick",sixMonthEventName:"UnitDetailsSixMonthProdClick",saveEventName:"UnitDetailsSaveRetailProdClick",inviteEventName:"UnitDetailsInviteToSetTargetClick",productionName:e.productionName},on:{addProduction:e.addProduction}}),e._v(" "),n("van-popup",{staticClass:"popupmodel",attrs:{position:"center",closeable:""},model:{value:e.popup,callback:function(t){e.popup=t},expression:"popup"}},[n("div",{staticClass:"popbox"},[n("div",{staticClass:"msg"},[n("p",{staticClass:"popbox-title"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("提示")])]),e._v(" "),n("p",{staticClass:"popbox-mes"},[e._v(e._s(e.describe))])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:a("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),e.isFullScreen?n("img",{staticClass:"resetToPortraitScreen",attrs:{src:a("./app/web/page/app/images/portraitscreen.png"),alt:""},on:{click:e.resetToPortraitScreen}}):e._e()],1)}),[],!1,null,"f55548b0",null);t.default=T.exports},"./app/web/page/app/view/unit/detail.vue?vue&type=style&index=0&id=f55548b0&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/unit/detail.vue?vue&type=style&index=0&id=f55548b0&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/unit/detail.vue?vue&type=style&index=0&id=f55548b0&lang=less&scoped=true&":function(e,t,a){}}]);