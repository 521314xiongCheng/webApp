(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"./app/web/page/app/images/icon_input_search.png":function(e,t,a){e.exports=a.p+"img/icon_input_search.8351fb55.png"},"./app/web/page/app/images/nodata.png":function(e,t,a){e.exports=a.p+"img/nodata.ab62307b.png"},"./app/web/page/app/images/search_back.png":function(e,t,a){e.exports=a.p+"img/search_back.40a06b97.png"},"./app/web/page/app/view/contact/search.vue":function(e,t,a){"use strict";a.r(t);var s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{staticClass:"table-empty__bg",attrs:{src:a("./app/web/page/app/images/nodata.png"),alt:""}})])}],n=(a("./node_modules/vant/es/nav-bar/style/index.js"),a("./node_modules/vant/es/nav-bar/index.js")),o=(a("./node_modules/vant/es/collapse-item/style/index.js"),a("./node_modules/vant/es/collapse-item/index.js")),c=(a("./node_modules/vant/es/collapse/style/index.js"),a("./node_modules/vant/es/collapse/index.js")),i=(a("./node_modules/vant/es/search/style/index.js"),a("./node_modules/vant/es/search/index.js")),r=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),l=a.n(r),d=a("./node_modules/@babel/runtime/regenerator/index.js"),p=a.n(d),u=a("./app/web/page/app/utils/index.js"),m={data:function(){return{members:[],searchMembers:[],isIphoneX:Object(u.m)(),isIos:Object(u.l)(),filter:{search:""},isNoData:!1,impersonatedContactId:"",keyword:""}},mounted:function(){this.loadAll()},methods:{onSearch:function(){var e=this;this.$track({context:"ButtonTab",behavior:"ContactsSearchIconClick",item_type:"ButtonTab",item_id:"ContactsSearchIconClick",attributes:{search_content:this.filter.search}}),this.searchMembers=this.members.filter((function(t){return t.directSellerId.toString().indexOf(e.filter.search)>-1||t.mobile.toString().indexOf(e.filter.search)>-1||t.name.toString().indexOf(e.filter.search)>-1})),this.searchMembers.length?this.isNoData=!1:(this.keyword=this.filter.search,this.isNoData=!0)},goBir:function(){this.$jsBridge.openSchema("mk:///Intouch?appId=MyContacts&pageId=myContactsBirth")},back:function(){Object(u.b)()},goProfile:function(e,t){var a="".concat(window.location.origin,"/profile"),s={opaque:!1,targetContactId:e,levelCode:t,followed:this.$route.query.targetContactId};this.$go(a,s)},loadAll:function(){var e=this;return l()(p.a.mark((function t(){var a,s,n,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApiList.contact,e.impersonatedContactId=e.$ctx.targetContactId,s={search:e.filter.search},t.next=5,e.$request.get("".concat(a,"/members"),{headers:{impersonatedContactId:e.impersonatedContactId},params:s});case 5:n=t.sent,console.log("res",n.data),Object.keys(n.data).forEach((function(t){e.members=e.members.concat(n.data[t])})),o=new Map,e.members=e.members.filter((function(e){return!o.has(e.contactId)&&o.set(e.contactId,1)}));case 10:case"end":return t.stop()}}),t)})))()}},components:{"van-search":i.a,"van-collapse":c.a,"van-collapse-item":o.a,NavBar:n.a}},v=(a("./app/web/page/app/view/contact/search.vue?vue&type=style&index=0&id=07a64226&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=Object(v.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-wrap",class:{isAndroid:!e.isIos}},[s("div",{staticClass:"search-bar"},[s("img",{staticClass:"back_btn",attrs:{src:a("./app/web/page/app/images/search_back.png"),alt:""},on:{click:e.back}}),e._v(" "),s("van-search",{staticClass:"table-search",attrs:{"show-action":"",placeholder:"请输入姓名/手机号/12位编号搜索",autofocus:""},on:{search:e.onSearch},scopedSlots:e._u([{key:"left-icon",fn:function(){return[s("img",{staticClass:"icon-input-search",attrs:{src:a("./app/web/page/app/images/icon_input_search.png"),alt:""}})]},proxy:!0}]),model:{value:e.filter.search,callback:function(t){e.$set(e.filter,"search","string"==typeof t?t.trim():t)},expression:"filter.search"}})],1),e._v(" "),s("div",{staticStyle:{width:"100%",height:"10px","background-color":"#f5f5f5"}}),e._v(" "),s("div",{staticClass:"contact-box"},e._l(e.searchMembers,(function(t,a){return s("div",{key:a,staticClass:"contact",on:{click:function(a){return e.goProfile(t.contactId,t.careerLevelCode)}}},[s("div",{staticClass:"contact-icon"},[s("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+t.contactId+"/avatar?size=60",alt:"",width:"100%"}})]),e._v(" "),s("div",{staticClass:"contact-peo"},[s("div",{staticClass:"contact-peo-name"},[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"contact-peo-list"},[s("span",[e._v(e._s(t.careerLevelCode))]),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",[e._v(e._s(t.activityStatusCode))]),e._v(" "),s("span",{staticClass:"line"}),e._v(" "),s("span",[e._v("绩效 ¥"+e._s(t.currentMonthProduction))])])])])})),0),e._v(" "),e.isNoData?s("div",{staticClass:"no_data"},[e._m(0),e._v("\n    未查询到“ "),s("span",{staticClass:"is_active"},[e._v(e._s(e.keyword))]),e._v(" ”的数据\n  ")]):e._e()])}),s,!1,null,"07a64226",null);t.default=h.exports},"./app/web/page/app/view/contact/search.vue?vue&type=style&index=0&id=07a64226&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/contact/search.vue?vue&type=style&index=0&id=07a64226&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/contact/search.vue?vue&type=style&index=0&id=07a64226&lang=less&scoped=true&":function(e,t,a){}}]);