(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"./app/web/page/app/images/icon_input_search.png":function(e,s,t){e.exports=t.p+"img/icon_input_search.8351fb55.png"},"./app/web/page/app/images/nodata.png":function(e,s,t){e.exports=t.p+"img/nodata.ab62307b.png"},"./app/web/page/app/images/search_back.png":function(e,s,t){e.exports=t.p+"img/search_back.40a06b97.png"},"./app/web/page/app/view/note/search.vue":function(e,s,t){"use strict";t.r(s);var a=[function(){var e=this.$createElement,s=this._self._c||e;return s("div",[s("img",{staticClass:"table-empty__bg",attrs:{src:t("./app/web/page/app/images/nodata.png"),alt:""}})])}],n=(t("./node_modules/vant/es/popup/style/index.js"),t("./node_modules/vant/es/popup/index.js")),o=(t("./node_modules/vant/es/icon/style/index.js"),t("./node_modules/vant/es/icon/index.js")),i=(t("./node_modules/vant/es/button/style/index.js"),t("./node_modules/vant/es/button/index.js")),l=(t("./node_modules/vant/es/search/style/index.js"),t("./node_modules/vant/es/search/index.js")),d=(t("./node_modules/vant/es/list/style/index.js"),t("./node_modules/vant/es/list/index.js")),c=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=t.n(c),p=t("./node_modules/@babel/runtime/regenerator/index.js"),u=t.n(p),v=t("./app/web/page/app/utils/index.js"),_={data:function(){return{noteList:[],isNoData:!1,finished:!1,loading:!0,keyword:"",filter:{pageSize:500,pageNo:1,followContactId:"",keywords:""}}},methods:{back:function(){Object(v.b)()},onCancel:function(){this.noteList=[]},onSearch:function(){this.loadData()},goNoteInfo:function(e){var s="".concat(window.location.origin,"/addNote"),t={noteId:e.noteId,targetContactId:this.$route.query.targetContactId,followed:this.$route.query.followed,opaque:!1};this.$go(s,t),console.log(e,"11")},loadData:function(){var e=this;return r()(u.a.mark((function s(){var t,a,n,o,i,l;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.noteList=[],t=e.$ctx.baseApi,(a=e.filter).contactId=e.$route.query.followed,a.followContactId=e.$route.query.targetContactId,a.contactId=e.$route.query.followed,console.log("parmam",a),s.next=9,e.$request.get("".concat(t,"/notes"),{params:a});case 9:for(l in n=s.sent,(o=n.data).hasNextPage?e.finished=!1:e.finished=!0,i=o.notes,console.log("list",i),e.noteList=e.noteList.concat(i),console.log("noteList",e.noteList),e.noteList)e.noteList[l].noteDate=e.noteList[l].noteDate.replace(/-/g,"/").substring(e.noteList[l].noteDate.length-5);e.noteList&&e.noteList.length>0?e.isNoData=!1:(e.keyword=e.filter.keywords,e.isNoData=!0),e.loading=!1;case 19:case"end":return s.stop()}}),s)})))()}},components:{List:d.a,"van-search":l.a,"van-button":i.a,"van-icon":o.a,"van-popup":n.a}},f=(t("./app/web/page/app/view/note/search.vue?vue&type=style&index=0&id=776fc0ff&lang=less&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),g=Object(f.a)(_,(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"search-bar"},[a("img",{staticClass:"back_btn",attrs:{src:t("./app/web/page/app/images/search_back.png"),alt:""},on:{click:e.back}}),e._v(" "),a("van-search",{staticClass:"table-search",attrs:{"show-action":"",placeholder:"请输入"},on:{cancel:e.onCancel,search:e.onSearch},scopedSlots:e._u([{key:"left-icon",fn:function(){return[a("img",{staticClass:"icon-input-search",attrs:{src:t("./app/web/page/app/images/icon_input_search.png"),alt:""}})]},proxy:!0}]),model:{value:e.filter.keywords,callback:function(s){e.$set(e.filter,"keywords","string"==typeof s?s.trim():s)},expression:"filter.keywords"}})],1),e._v(" "),a("div",[a("div",{},e._l(this.noteList,(function(s){return a("div",{staticClass:"search",on:{click:function(t){return e.goNoteInfo(s)}}},[a("div",{staticClass:"search-date"},[1==s.labelType?a("span",{staticClass:"today"},[e._v("今天")]):e._e(),e._v(" "),3==s.labelType?a("span",{staticClass:"last"},[e._v("过去")]):e._e(),e._v(" "),2==s.labelType?a("span",{staticClass:"future"},[e._v("将来")]):e._e()]),e._v(" "),a("div",{staticClass:"search-info"},[a("div",{staticClass:"search-info-mes"},[e._v("\n            "+e._s(s.noteContent)+"\n          ")]),e._v(" "),a("div",{staticClass:"search-info-date"},[e._v(e._s(s.noteDate))])])])})),0)]),e._v(" "),e.isNoData?a("div",{staticClass:"no_data"},[e._m(0),e._v("\n    未查询到"),a("span",{staticClass:"is_active"},[e._v("“"+e._s(this.keyword)+"”")]),e._v("的数据\n  ")]):e._e()])}),a,!1,null,"776fc0ff",null);s.default=g.exports},"./app/web/page/app/view/note/search.vue?vue&type=style&index=0&id=776fc0ff&lang=less&scoped=true&":function(e,s,t){"use strict";t("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/note/search.vue?vue&type=style&index=0&id=776fc0ff&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/note/search.vue?vue&type=style&index=0&id=776fc0ff&lang=less&scoped=true&":function(e,s,t){}}]);