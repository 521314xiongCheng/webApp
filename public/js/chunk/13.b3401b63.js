(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"./app/web/page/app/components/commonTable.vue":function(e,t,a){"use strict";var n={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,a,n){this.$emit("cellClick",{row:e,column:t,event:a,cell:n})}}},o=(a("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),s=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-table"},[a("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(t.formatter?t.formatter(n.row,n.$index):n.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=s.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/components/productionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),o=(a("./node_modules/vant/es/number-keyboard/style/index.js"),a("./node_modules/vant/es/number-keyboard/index.js")),s=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=a.n(s),i=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),c=a("./node_modules/@babel/runtime/regenerator/index.js"),d=a.n(c),l=a("./app/web/page/app/utils/index.js"),u=a("./node_modules/good-storage/dist/storage.esm.js"),p={props:{contactId:"",productionName:"",queryType:"",pageName:{type:String,default:"UnitDetailsPage"},inputEventName:{type:String,default:"UnitDetailsRetailProdClick"},lastMonthEventName:{type:String,default:"UnitDetailsLastMonthProdClick"},sixMonthEventName:{type:String,default:"UnitDetailsSixMonthProdClick"},saveEventName:{type:String,default:"UnitDetailsSaveRetailProdClick"},inviteEventName:{type:String,default:"UnitDetailsInviteToSetTargetClick"}},data:function(){return{isIos:Object(l.l)(),pro:"",show:!1,lastMonth:!1,halfYear:!1,productionAmtMdata:{reference:{}},fullscreen:!1,showProductionAction:!1,zIndex:100}},methods:{onInput:function(e){this.pro+=e,this.productionAmtMdata.targetProductionAmt=Number(this.pro.split(",").join("")),this.estimateData(this.productionAmtMdata.targetProductionAmt)},onDelete:function(){console.log(this.productionAmtMdata.targetProductionAmt),this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.toString(),""!=this.productionAmtMdata.targetProductionAmt&&(this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.targetProductionAmt.slice(0,this.productionAmtMdata.targetProductionAmt.length-1)),this.estimateData(Number(this.productionAmtMdata.targetProductionAmt))},shareToWechat:function(){var e=this;this.$track({context:this.pageName,behavior:this.inviteEventName,item_type:this.pageName,item_id:this.inviteEventName}),i.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}))},share:function(){var e=this;return r()(d.a.mark((function t(){var a,n,o,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),s={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(s);case 8:case"end":return t.stop()}}),t)})))()},addproduction:function(){var e=this;return r()(d.a.mark((function t(){var a,n,o,s,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:e.saveEventName,item_type:e.pageName,item_id:e.saveEventName}),!(e.productionAmtMdata.targetProductionAmt<e.productionAmtMdata.productionAmt)){t.next=4;break}return e.$toast("评估绩效请大于已达成绩效～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,n=u.a.get("ImpersonatedInfo").targetContactId,o={setByContactId:n,memberContactId:e.contactId,targetAmt:e.productionAmtMdata.targetProductionAmt},t.next=9,e.$request.post("".concat(a,"/target/production"),o);case 9:s=t.sent,r=s.data,console.log(r),e.pro="",e.show=!1,e.fullscreen=!1,e.$emit("addProduction",e.productionAmtMdata.targetProductionAmt);case 16:case"end":return t.stop()}}),t)})))()},lastMonthpro:function(){this.$track({context:this.pageName,behavior:this.lastMonthEventName,item_type:this.pageName,item_id:this.lastMonthEventName}),this.lastMonth=!0,this.halfYear=!1,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.lastMonthProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},halfYearpro:function(){this.$track({context:this.pageName,behavior:this.sixMonthEventName,item_type:this.pageName,item_id:this.sixMonthEventName}),this.lastMonth=!1,this.halfYear=!0,this.productionAmtMdata.targetProductionAmt=this.productionAmtMdata.reference.halfYearAvgProductionAmt,this.estimateData(this.productionAmtMdata.targetProductionAmt)},openNumber:function(){this.$track({context:this.pageName,behavior:this.inputEventName,item_type:this.pageName,item_id:this.inputEventName}),this.show=!0,this.lastMonth=!1,this.halfYear=!1,this.pro="",this.fullscreen=!0},estimateData:function(e){var t=this;return r()(d.a.mark((function a(){var n,o,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e,"data"),n=t.$ctx.baseApi,(o={}).memberContactId=t.contactId,o.estimateProductionAmt=e,a.next=7,t.$request.get("".concat(n,"/estimate/production"),{params:o});case 7:s=a.sent,t.productionAmtMdata.incomeDescribe=s.data.incomeDescribe;case 9:case"end":return a.stop()}}),a)})))()},close:function(){this.lastMonth=!1,this.halfYear=!1,this.show=!1,this.fullscreen=!1,this.pro="",this.zIndex=100}},components:{"van-number-keyboard":o.a,"van-action-sheet":n.a},watch:{showProductionAction:function(e){var t=this;return r()(d.a.mark((function a(){var n,o,s,r,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return n=Object(l.i)(),console.log(n),t.zIndex=n+5e3,o={queryType:t.queryType,memberContactId:t.contactId},s=t.$ctx.baseApi,a.next=8,t.$request.get("".concat(s,"/estimate/production"),{params:o});case 8:r=a.sent,i=r.data,t.productionAmtMdata=i;case 11:case"end":return a.stop()}}),a)})))()}}},m=(a("./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=Object(m.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{isAndroid:!e.isIos}},[n("van-action-sheet",{class:{"production-action":e.fullscreen},attrs:{title:e.productionName+"绩效评估","close-on-click-overlay":!0},on:{close:e.close},model:{value:e.showProductionAction,callback:function(t){e.showProductionAction=t},expression:"showProductionAction"}},[n("div",{staticClass:"content"},[n("div",[n("p",{staticClass:"title"},[e._v("\n          零售绩效设定\n          "),n("span",[e._v(" ("+e._s(e._f("formatDate")(new Date,"YYYY-MM"))+") ")])]),e._v(" "),n("div",{staticClass:"change"},[n("div",{staticClass:"changebg",on:{click:e.openNumber}},[n("span",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.targetProductionAmt))+"\n            ")]),e._v(" "),n("img",{staticClass:"edit",attrs:{src:a("./app/web/page/app/images/edit.png"),alt:""}})]),e._v(" "),n("div",{staticClass:"sum"},[e._v("\n            （当月已达成绩效"+e._s(e._f("formatMoney")(e.productionAmtMdata.productionAmt))+"）\n          ")])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("目标参考")]),e._v(" "),n("div",{staticClass:"productmap"},[n("div",{class:{productionBg:e.lastMonth},on:{click:e.lastMonthpro}},[n("p",[e._v("上个月绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.lastMonthProductionAmt))+"\n            ")])]),e._v(" "),n("div",{class:{productionBg:e.halfYear},on:{click:e.halfYearpro}},[n("p",[e._v("近6个月平均绩效")]),e._v(" "),n("p",[e._v("\n              "+e._s(e._f("formatMoney")(e.productionAmtMdata.reference&&e.productionAmtMdata.reference.halfYearAvgProductionAmt))+"\n            ")])])])]),e._v(" "),n("div",[n("p",{staticClass:"title"},[e._v("收益分析")]),e._v(" "),n("div",{staticClass:"Income"},[n("p",{domProps:{innerHTML:e._s(e.productionAmtMdata.incomeDescribe)}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.query.targetContactId)!==Number(this.contactId),expression:"\n              Number(this.$route.query.targetContactId) !==\n                Number(this.contactId)\n            "}],staticClass:"active",on:{click:e.shareToWechat}},[e._v("\n            邀请她设置当月收入目标\n          ")])])]),e._v(" "),n("div",{staticClass:"btn",on:{click:e.addproduction}},[e._v("保存绩效")])])]),e._v(" "),n("van-number-keyboard",{attrs:{show:e.show,theme:"custom","close-button-text":"完成",maxlength:7,"hide-on-click-outside":!1,"z-index":e.zIndex},on:{blur:function(t){e.show=!1,e.fullscreen=!1},input:e.onInput,delete:e.onDelete},model:{value:e.pro,callback:function(t){e.pro=t},expression:"pro"}})],1)}),[],!1,null,"e4ab8824",null);t.a=h.exports},"./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&")},"./app/web/page/app/images/crown.png":function(e,t,a){e.exports=a.p+"img/crown.25c5a039.png"},"./app/web/page/app/images/edit.png":function(e,t,a){e.exports=a.p+"img/edit.299796b3.png"},"./app/web/page/app/images/icon_input_search.png":function(e,t,a){e.exports=a.p+"img/icon_input_search.8351fb55.png"},"./app/web/page/app/images/nodata.png":function(e,t,a){e.exports=a.p+"img/nodata.ab62307b.png"},"./app/web/page/app/images/search_back.png":function(e,t,a){e.exports=a.p+"img/search_back.40a06b97.png"},"./app/web/page/app/mixin/tableHeaderFixed.js":function(e,t,a){"use strict";t.a={mounted:function(){var e=document.querySelector(".search-bar"),t=document.querySelector(".el-table__header-wrapper"),a=document.querySelector(".el-table__body-wrapper");window.addEventListener("scroll",(function(n){var o=document.querySelector(".el-table__fixed-header-wrapper");(document.documentElement.scrollTop||document.body.scrollTop)>=e.clientHeight?(o.style.cssText="position: fixed;top: 0;width: 130px;z-index: 4;overflow: hidden;",t.style.cssText="position: fixed;top: 0;z-index: 4;",a.style.cssText="padding-top: ".concat(t.clientHeight,"px")):(o.style.cssText="position: absolute;top: 0",t.style.cssText="position: unset;",a.style.cssText="padding-top: 0;")}))}}},"./app/web/page/app/view/operation/areadiq/search.vue":function(e,t,a){"use strict";a.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{staticClass:"table-empty__bg",attrs:{src:a("./app/web/page/app/images/nodata.png"),alt:""}})])}],o=a("./node_modules/@babel/runtime/helpers/extends.js"),s=a.n(o),r=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),i=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),c=a.n(i),d=(a("./node_modules/vant/es/action-sheet/style/index.js"),a("./node_modules/vant/es/action-sheet/index.js")),l=(a("./node_modules/vant/es/icon/style/index.js"),a("./node_modules/vant/es/icon/index.js")),u=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),p=(a("./node_modules/vant/es/search/style/index.js"),a("./node_modules/vant/es/search/index.js")),m=(a("./node_modules/vant/es/list/style/index.js"),a("./node_modules/vant/es/list/index.js")),h=a("./node_modules/@babel/runtime/regenerator/index.js"),f=a.n(h),v=a("./app/web/page/app/utils/index.js"),g=a("./app/web/page/app/components/commonTable.vue"),b=a("./app/web/page/app/components/productionSheet/index.vue"),_={data:function(){var e=this;return{isFullScreen:!1,isIos:Object(v.l)(),loading:!0,finished:!1,tableData:{header:[],data:[]},applyHeader:[{label:"累计零售\n绩效",width:80,prop:"totalProductionAmt",formatter:function(e){return Object(v.f)(e.totalProductionAmt)}},{label:"零售绩效\n达成4800",width:80,prop:"productionAmtReachedStatus",formatter:function(e){return e.productionAmtReachedStatus?"已达成":"未达成"}},{label:"培养A状态\n顾问数",width:80,prop:"trainAContactNum",formatter:function(e){return"".concat(e.trainAContactNum,"/10")}},{label:"DIQ网上申请\n和自测",width:90,prop:"onlineSelfExamStatus",formatter:function(e){switch(e.onlineSelfExamStatus){case 0:return"未自测";case 1:return"已通过";case 2:return"未通过"}}},{label:"是否有行为\n规范处理",width:90,prop:"citationStatus"},{label:"督导姓名",prop:"directorName"}],assessHeader:[{label:"DIQ考核\n月份",prop:"assessMonthNo",formatter:function(t){return e.assessMonthNoMap(t.assessMonthNo)}},{label:"累计零售\n绩效",prop:"productionAmt",formatter:function(e){return Object(v.f)(e.productionAmt)}},{label:"零售绩效\n达成4800",prop:"isProductionReach",formatter:function(e){return e.isProductionReach?"已达成":"未达成"}},{label:"累计DIQ\n沙龙绩效",prop:"diqProductionAmt",formatter:function(e){return Object(v.f)(e.diqProductionAmt)}},{label:"DIQ沙龙绩效\n达成45000",prop:"isDiqProductionReach",minWidth:"90px",formatter:function(e){return e.isDiqProductionReach?"已达成":"未达成"}},{label:"DIQ沙龙成员\nA成员",prop:"activeConsultantCount",minWidth:"90px"},{label:"DIQ沙龙成员\n达成20A",prop:"isActiveConsultantCountReach",minWidth:"90px",formatter:function(e){return e.isActiveConsultantCountReach?"已达成":"未达成"}},{label:"每月A状态",prop:"isActiveEveryMonth",formatter:function(t){var a=Number(e.$route.query.monthKey.substr(4,6));return t.isActiveEveryMonth?"已达成":"".concat(a,"月未达成")}},{label:"是否有行为\n规范处理",prop:"citationDate",formatter:function(e){return e.citationDate?e.citationDate:"-"}},{label:"督导姓名",prop:"directorName"}],filter:{pageSize:20,pageNo:1,businessType:"AREA_ONE",sortEnum:null,orderEnum:null},showActions:!1,currentData:{},total:1,monthKey:"",isNoData:!1,setproductionAmtM:!1,productionAmtMdata:{name:"",productionAmtmc:{text:"零售绩效设定",date:"2021.06"},productionAmt:"",targetProductionAmt:"",reference:{lastMonthProductionAmt:"",halfYearAvgProductionAmt:""},incomeDescribe:"222"},keyword:"",currentTabName:"apply"}},mixins:[a("./app/web/page/app/mixin/tableHeaderFixed.js").a],components:{commonTable:g.a,List:m.a,"van-search":p.a,"van-button":u.a,"van-icon":l.a,"van-action-sheet":d.a,productionSheet:b.a},created:function(){var e=this.$route.query,t=e.monthKey,a=e.businessType,n=e.targetContactId,o=e.currentTabName;this.monthKey=t,this.filter.businessType=a,this.targetContactId=n,this.currentTabName=o,this.tableData.header=this["".concat(o,"Header")]},methods:{addZero:function(e){return e<10?"0".concat(e):e},back:function(){Object(v.b)()},onCancel:function(){this.$track({context:"StaffDIQDetailsPage",behavior:"DIQDetailsSearchCancelClick",item_type:"StaffDIQDetailsPage",item_id:"DIQDetailsSearchCancelClick"}),Object(v.b)()},onSearch:function(e){this.$track({context:"StaffDIQDetailsPage",behavior:"DIQDetailsSearchClick",item_type:"StaffDIQDetailsPage",item_id:"DIQDetailsSearchClick",attributes:{search_content:e}}),console.log(e),this.filter.search=e,this.filter.pageNo=1,this.tableData.data=[],this.loadData()},loadData:function(){var e=this;return c()(f.a.mark((function t(){var a,n,o,s,r,i,c,d,l,u,p,m,h,v,g;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.documentElement.scrollTop||document.body.scrollTop,e.loading=!0,n=e.filter,o=n.pageNo,s=n.pageSize,r=n.search,i=n.sortEnum,c=n.orderEnum,d={pageNo:o,pageSize:s,search:r,sortEnum:i,orderEnum:c},l=e.$ctx.baseApi,u="".concat(l,"/reports/employee/area-diq"),"apply"===e.currentTabName&&(u="".concat(l,"/reports/employee/diq/applyperiod")),t.next=9,e.$request.get(u,{params:d});case 9:p=t.sent,m=p.data,h=m.members||m.pageList,e.loading=!1,m.hasNextPage?e.finished=!1:e.finished=!0,v=new Map,g=e.tableData.data.concat(h),e.tableData.data=g.filter((function(e){return!v.has(e.contactId)&&v.set(e.contactId,1)})),e.tableData.data&&e.tableData.data.length?e.isNoData=!1:(e.isNoData=!0,e.keyword=e.filter.search),window.scrollTo(0,a),e.filter.pageNo=e.filter.pageNo+1;case 20:case"end":return t.stop()}}),t)})))()},onRefresh:function(){var e=this;return c()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.finished=!1,e.filter.pageNo=1,e.tableData.data=[],e.loadData();case 4:case"end":return t.stop()}}),t)})))()},setTargetIncome:function(){var e=this;return c()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.a.confirm({message:"是否邀请设置收入目标"}).then((function(){e.share()})).catch((function(){}));case 1:case"end":return t.stop()}}),t)})))()},handleClickAvatar:function(e){this.currentData=e,this.goProflie()},goProflie:function(){var e="".concat(window.location.origin,"/profile"),t={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,accountType:"operation",isEmployee:!0,followed:this.$route.query.targetContactId,from:"operation"};this.$go(e,t)},share:function(){var e=this;return c()(f.a.mark((function t(){var a,n,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),o="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),s={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:o},e.$jsBridge.shareToWechat(s);case 8:case"end":return t.stop()}}),t)})))()},onSelect:function(e){var t=this;return c()(f.a.mark((function a(){var n,o,s,i,c,d,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.$ctx.baseApi,a.t0=e.prop,a.next="follow"===a.t0?4:"profile"===a.t0?11:"setTarget"===a.t0?15:"assess"===a.t0?17:"call"===a.t0?23:25;break;case 4:return a.next=6,t.$request.post("".concat(n,"/focus"),{focusContactId:t.currentData.contactId.toString()});case 6:return o=a.sent,o.data,t.currentData.isFocus=!t.currentData.isFocus,console.log(t.currentData.isFocus),a.abrupt("break",25);case 11:return s="".concat(window.location.origin,"/profile"),i={opaque:!1,targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode},t.$go(s,i),a.abrupt("break",25);case 15:return r.a.confirm({message:"是否邀请设置收入目标"}).then((function(){t.share()})).catch((function(){})),a.abrupt("break",25);case 17:return c="team",Number(t.currentData.careerLevelCode)>=60&&(c="unit"),d="".concat(window.location.origin,"/").concat(c),l={opaque:!1,isSelf:!1,targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode,monthKey:t.monthKey,navTitle:"收入目标评估"},t.$go(d,l),a.abrupt("break",25);case 23:return window.location.href="tel:".concat(t.currentData.mobile),a.abrupt("break",25);case 25:t.showActions=!1;case 26:case"end":return a.stop()}}),a)})))()},sortMap:function(e){return{totalProductionAmt:"TOTAL_PRODUCTION_AMT",productionAmtReachedStatus:"PRODUCTION_AMT_REACHED_STATUS",trainAContactNum:"TRAIN_A_CONTACT_NUM",onlineSelfExamStatus:"ONLINE_SELF_EXAM_STATUS",citationStatus:"CITATION_STATUS",offSpringLineNumber:"OFF_SPRING_LINE_NUMBER"}[e]},sortChange:function(e){e.column;var t=e.prop,a=e.order;a?("descending"===a?a="desc":"ascending"===a&&(a="asc"),this.filter.sortEnum=this.sortMap(t),this.filter.orderEnum=a.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},setEstimateProduction:function(e){this.currentData=e,this.productionAmtMdata.name=e.name,this.Estimateproduction()},Estimateproduction:function(){var e=this;return c()(f.a.mark((function t(){var a,n,o,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={queryType:"unit",contactId:e.currentData.contactId},n=e.$ctx.baseApi,t.next=4,e.$request.get("".concat(n,"/estimate/production"),{params:a});case 4:o=t.sent,r=o.data,console.log("cell",r),e.productionAmtMdata=s()(e.productionAmtMdata,r),e.setproductionAmtM=!0,console.log("this.productionAmtMdata",e.productionAmtMdata);case 10:case"end":return t.stop()}}),t)})))()},addProduction:function(e){var t=this;return c()(f.a.mark((function a(){var n,o,s,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.$ctx.baseApi,o={setByContactId:t.targetContactId,memberContactId:t.currentData.contactId,targetAmt:e},a.next=4,t.$request.post("".concat(n,"/target/production"),o);case 4:s=a.sent,r=s.data,console.log("addproduction",r),t.setproductionAmtM=!1,t.currentData.setTargetProductionAmt=!0,t.currentData.estimateProductionAmt=e,t.targetContactId===t.currentData.contactId?t.currentData.setBySelf=!0:t.currentData.setBySelf=!1;case 11:case"end":return a.stop()}}),a)})))()},assessMonthNoMap:function(e){switch(e){case 0:return"第一月";case 1:return"第二月";case 2:return"第三月";case 3:return"第四月";case 4:return"第五月";case 5:return"第六月";case 6:return"第七月";case 7:return"第八月";case 8:return"第九月";case 9:return"第十月"}},setClassName:function(e){e.row;var t=e.column;return"name"===t.property?"cell-class_name":"avatar"===t.property?"cell-class_avatar":"estimateProductionAmt"===t.property?"cell-class_estimateProductionAmt":void 0}}},x=(a("./app/web/page/app/view/operation/areadiq/search.vue?vue&type=style&index=0&id=3ff8a1aa&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),w=Object(x.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrap"},[n("div",{staticClass:"search-bar"},[n("img",{staticClass:"back_btn",attrs:{src:a("./app/web/page/app/images/search_back.png"),alt:""},on:{click:e.back}}),e._v(" "),n("van-search",{staticClass:"table-search",attrs:{"show-action":"",placeholder:"请输入姓名/手机号搜索"},on:{search:e.onSearch,cancel:e.onCancel},scopedSlots:e._u([{key:"left-icon",fn:function(){return[n("img",{staticClass:"icon-input-search",attrs:{src:a("./app/web/page/app/images/icon_input_search.png"),alt:""}})]},proxy:!0}]),model:{value:e.filter.search,callback:function(t){e.$set(e.filter,"search","string"==typeof t?t.trim():t)},expression:"filter.search"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tableData.data.length,expression:"tableData.data.length"}],staticClass:"search-result"},[n("List",{attrs:{finished:e.finished,"finished-text":e.tableData.data&&e.tableData.data.length?"没有更多了":""},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("common-table",{ref:"unitTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen,setClassName:e.setClassName},on:{sortChange:e.sortChange}},[n("el-table-column",{attrs:{fixed:"left",label:"头像",width:"60px",prop:"avatar",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"avatar-wrap"},[n("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+o.contactId+"/avatar?size=60",alt:""},on:{click:function(t){return e.handleClickAvatar(o)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:o.setTargetIncomeAmt,expression:"row.setTargetIncomeAmt"}],staticClass:"icon_crown",attrs:{src:a("./app/web/page/app/images/crown.png"),alt:""}})])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",fixed:"left",width:"70px",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(a.name))])])]),e._v(" "),e.targetContactId===a.contactId.toString()?n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))]),e._v(" "),n("span",{staticClass:"self"},[e._v("本人")])]):n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))])])])]}}])})],1)],1)],1),e._v(" "),e.isNoData?n("div",{staticClass:"no_data"},[e._m(0),e._v("\n    未查询到"),n("span",{staticClass:"is_active"},[e._v("“"+e._s(e.keyword)+"”")]),e._v("的数据\n  ")]):e._e()])}),n,!1,null,"3ff8a1aa",null);t.default=w.exports},"./app/web/page/app/view/operation/areadiq/search.vue?vue&type=style&index=0&id=3ff8a1aa&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/operation/areadiq/search.vue?vue&type=style&index=0&id=3ff8a1aa&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/productionSheet/index.vue?vue&type=style&index=0&id=e4ab8824&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/operation/areadiq/search.vue?vue&type=style&index=0&id=3ff8a1aa&lang=less&scoped=true&":function(e,t,a){}}]);