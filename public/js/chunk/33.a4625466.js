(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"./app/web/page/app/components/commonTable.vue":function(e,t,s){"use strict";var a={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,s,a){this.$emit("cellClick",{row:e,column:t,event:s,cell:a})}}},o=(s("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),n=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"common-table"},[s("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return s("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[s("span",[e._v(e._s(t.formatter?t.formatter(a.row,a.$index):a.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=n.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/view/profile/setting.vue":function(e,t,s){"use strict";s.r(t);var a=s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=s.n(a),n=(s("./node_modules/vant/es/switch/style/index.js"),s("./node_modules/vant/es/switch/index.js")),l=(s("./node_modules/vant/es/cell-group/style/index.js"),s("./node_modules/vant/es/cell-group/index.js")),r=(s("./node_modules/vant/es/cell/style/index.js"),s("./node_modules/vant/es/cell/index.js")),i=(s("./node_modules/vant/es/icon/style/index.js"),s("./node_modules/vant/es/icon/index.js")),c=(s("./node_modules/vant/es/button/style/index.js"),s("./node_modules/vant/es/button/index.js")),d=(s("./node_modules/vant/es/nav-bar/style/index.js"),s("./node_modules/vant/es/nav-bar/index.js")),u=s("./node_modules/@babel/runtime/regenerator/index.js"),p=s.n(u),m=s("./app/web/page/app/utils/index.js"),v={components:{commonTable:s("./app/web/page/app/components/commonTable.vue").a,NavBar:d.a,"van-button":c.a,"van-icon":i.a,"van-cell":r.a,"van-cell-group":l.a,"van-switch":n.a},data:function(){return{isFullScreen:!1,isIos:Object(m.l)(),userInfo:{contactId:"20018733722",careerLevelCode:50},targetContactId:"",isSelf:!1,accountType:"operation"}},computed:{showFollow:function(){return!(this.isSelf||"50"===this.userInfo.careerLevelCode||"operation"===this.accountType&&this.userInfo.careerLevelCode<60)},showMobile:function(){return!("operation"===this.accountType&&this.userInfo.careerLevelCode<50)}},created:function(){var e=this.$route.query,t=e.targetContactId,s=e.isSelf,a=e.accountType;this.targetContactId=t,this.isSelf=JSON.parse(s),this.accountType=a,this.getUserInfo()},methods:{back:function(){Object(m.b)()},getUserInfo:function(){var e=this;return o()(p.a.mark((function t(){var s,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={contactId:e.targetContactId},t.next=3,e.$request.get("".concat(e.$ctx.baseApi,"/profile"),{params:s});case 3:a=t.sent,o=a.data,console.log(o),o&&(o.birthDate&&(o.birthDate=e.utc2gmt(o.birthDate)),o.joinDate&&(o.joinDate=e.utc2gmt(o.joinDate)),o.lastOrderDate&&(o.lastOrderDate=e.utc2gmt(o.lastOrderDate)),e.userInfo=o);case 7:case"end":return t.stop()}}),t)})))()},utc2gmt:function(e){var t="".concat(e.split("T")[0]," ").concat(e.split("T")[1].split(".")[0]);return(e=new Date(t.replace(/-/g,"/"))).setHours(e.getHours()+8),e},changeFocus:function(){var e=this;return o()(p.a.mark((function t(){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="PersonalSetFocusClick",e.userInfo.isFocus&&(s="PersonalUnfocusClick"),e.$track({context:"PersonalProfilePage",behavior:s,item_type:"PersonalProfilePage",item_id:s,attributes:{isEmployee:"operation"===e.accountType}}),t.next=5,e.$request.post("".concat(e.$ctx.baseApi,"/focus"),{focusContactId:e.targetContactId});case 5:a=t.sent,a.data,e.getUserInfo();case 8:case"end":return t.stop()}}),t)})))()}}},f=(s("./app/web/page/app/view/profile/setting.vue?vue&type=style&index=0&id=4b6275f6&lang=less&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),b=Object(f.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",class:{isAndroid:!e.isIos}},[a("NavBar",{attrs:{"left-text":"返回",fixed:"",title:"详情",border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[a("img",{staticClass:"back_btn",attrs:{src:s("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0}])}),e._v(" "),a("div",{staticClass:"content"},[a("van-cell-group",[a("van-cell",{attrs:{title:"头像"}},[a("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+e.userInfo.contactId+"/avatar?size=60",alt:""}})]),e._v(" "),a("van-cell",{attrs:{title:"姓名",value:e.userInfo.name}}),e._v(" "),a("van-cell",{attrs:{title:"账号",value:e.userInfo.directSellerId}}),e._v(" "),e.showMobile?a("van-cell",{attrs:{title:"手机号码",value:e.userInfo.mobile}}):e._e(),e._v(" "),e.showFollow?a("van-cell",{staticClass:"follow",attrs:{title:"设为关注"}},[a("van-switch",{attrs:{"active-color":"#F16EAE"},on:{change:e.changeFocus},model:{value:e.userInfo.isFocus,callback:function(t){e.$set(e.userInfo,"isFocus",t)},expression:"userInfo.isFocus"}})],1):e._e(),e._v(" "),a("van-cell",{attrs:{title:"生日",value:e._f("formatDate")(e.userInfo.birthDate,"YYYY.MM.DD")}}),e._v(" "),e.userInfo.recruiterName?a("van-cell",{attrs:{title:"辅导老师",value:e.userInfo.recruiterName}}):e._e(),e._v(" "),a("van-cell",{attrs:{title:"加入日期",value:e._f("formatDate")(e.userInfo.joinDate,"YYYY.MM.DD")}}),e._v(" "),a("van-cell",{attrs:{title:"最近订单日期",value:e._f("formatDate")(e.userInfo.lastOrderDate,"YYYY.MM.DD")}})],1)],1)],1)}),[],!1,null,"4b6275f6",null);t.default=b.exports},"./app/web/page/app/view/profile/setting.vue?vue&type=style&index=0&id=4b6275f6&lang=less&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/profile/setting.vue?vue&type=style&index=0&id=4b6275f6&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/profile/setting.vue?vue&type=style&index=0&id=4b6275f6&lang=less&scoped=true&":function(e,t,s){}}]);