(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"./app/web/page/app/images/income/icon_delete.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAAAXNSR0IArs4c6QAAApFJREFUeF7tmk9LG2EQxufdDY2xHnryi1iPikVK6SfwUMFTQUjAu/ohPKhXC4JnKeKhl5615NhToRYkIO2t4npyXzEQ2Lwm79+ZbWieXLMzO/PL88w7yUYRXkMEFHgMEwAQQxEAAiD2IQGFQCFQSNBBCsvAMrAMLBNEAJaBZYIEg1MGloFlYJkgAlKWKQ5edzTpNU3qV0Zqe7b97TqlMFesPn/fLK5+7xCpVdLUnX2V76r1i7+uONf7LEP1/nBx/aEsjwc3U4p6ed54M7N58cNVQMz7+mhlpri7PdVE7yrxJ3Od7oeYfNUYFiB3+wufNNHGUGIhKGNgPN36z1ynOz8RQIqDxa1Sl3tmMdxKscAgpejLy3a3qpgoNiwK0V9XGsX32zNDwv2CuKA4YPSyF/lS6+PlVRSFShALkKd8roJTZopk7meqTiVajZcoXCKnrWc2hQxuwtkAZy7fD54dCJd9/gWM/szzJRd6XUpDKbGhdYrOEDN5TGMxMakQ2BczW0EhDYZcywmhViC+M6XZbF2PWMdZdxkfiGIzJNQ+iuhnqWlJett1QakNiEspowrl2nJdEGq3jO/yNlSY0JdDF5xaFWIsb5810dtRBWZK3WR5viz180Gtm6rrE6hYZywQpegmzxvTAcR2tE6dZXxhDMD810PVBiNT1KNpOnZ9NtCpWcx8YAxOk5BrfYZ3zDWix25MgzExMY2PixEDktJYSmwqHBEgHA1x5IiBww6EsxHOXL5wWIFINCCRs5bVXbJwydzPfm7wlZLtOjyoMujgUaYBBA+7DSD4O8SIgYI/zHBM4wnMwbqHTGB/wSUBiIEMQADE7iIoBAqBQoJOGlgGloFlYJkgArAMLBMkGJwysIxdMI/moEhj1zBLZAAAAABJRU5ErkJggg=="},"./app/web/page/app/view/income/income.vue":function(e,t,s){"use strict";s.r(t);var a=s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),n=s.n(a),i=(s("./node_modules/vant/es/collapse-item/style/index.js"),s("./node_modules/vant/es/collapse-item/index.js")),o=(s("./node_modules/vant/es/collapse/style/index.js"),s("./node_modules/vant/es/collapse/index.js")),l=(s("./node_modules/vant/es/nav-bar/style/index.js"),s("./node_modules/vant/es/nav-bar/index.js")),c=s("./node_modules/@babel/runtime/regenerator/index.js"),d=s.n(c),r=s("./app/web/page/app/utils/index.js"),m={components:{NavBar:l.a,"van-collapse":o.a,"van-collapse-item":i.a},data:function(){return{isIos:Object(r.l)(),monthKey:"",options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"¥ ",suffix:"",decimalPlaces:2},total:0,myIncomes:[],activeNames:[0],messageShow:!1,impersonatedContactId:"20002868550",hiddenHistoryBtn:!1}},watch:{},mounted:function(){var e=this;return n()(d.a.mark((function t(){var s,a,n,i,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$route.query.hiddenHistoryBtn,e.hiddenHistoryBtn=!!s&&JSON.parse(s),console.log("hiddenHistoryBtn",s),a=e.$route.query.monthKey,e.monthKey="".concat(a.substr(0,4),"年").concat(a.substr(4,6),"月"),n={monthKey:a},i=e.$ctx.baseApiList.income,o="".concat(i,"/prodIncome/myIncomes?monthKey=").concat(n.monthKey),t.prev=8,e.impersonatedContactId=e.$ctx.targetContactId,t.next=12,e.$request.get(o,{headers:{impersonatedContactId:e.impersonatedContactId}});case 12:l=t.sent,e.myIncomes=l.data.myIncome.incomeList.filter((function(e){return 0!==e.total||e.keepShow})),e.myIncomes.forEach((function(e){e.dataList&&(e.dataList=e.dataList.filter((function(e){return 0!==e.value})))})),e.total=e.$route.query.amount?1*e.$route.query.amount:l.data.myIncome.total,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[8,18]])})))()},methods:{back:function(){Object(r.b)()},next:function(){if(!this.hiddenHistoryBtn){"UnitDetailsPage"===this.$route.query.from?this.$track({context:"UnitDetailsPage",behavior:"UnitDetailsMoreHistoryIcomeClick",item_type:"UnitDetailsPage",item_id:"UnitDetailsMoreHistoryIcomeClick"}):this.$track({context:"HomePage",behavior:"HistoryIncomeClick",item_type:"HomePage",item_id:"HistoryIncomeClick"});var e="".concat(window.location.origin,"/incomeList");Object(r.k)(e,{opaque:!1,targetContactId:this.impersonatedContactId})}},format_number:function(e){if(null===e)return"-";e=e.toFixed(2);for(var t=(e+="").split("."),s=t[0],a=t.length>1?"."+t[1]:"",n=/(\d+)(\d{3})/;n.test(s);)s=s.replace(n,"$1,$2");return s+a},messageBtn:function(){this.messageShow=!1}}},u=(s("./app/web/page/app/view/income/income.vue?vue&type=style&index=0&id=ca069760&lang=less&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),p=Object(u.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-income",class:{isAndroid:!e.isIos}},[a("NavBar",{attrs:{"left-text":"返回","right-text":e.hiddenHistoryBtn?"":"历史收入",fixed:"",title:"",border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back,"click-right":e.next},scopedSlots:e._u([{key:"left",fn:function(){return[a("img",{staticClass:"back_btn",attrs:{src:s("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0}])}),e._v(" "),a("div",{staticClass:"my-income-sum"},[a("div",{staticClass:"my-income-sum-box"},[a("div",{staticClass:"title"},[e._v(e._s(e.monthKey)+"收入参考汇总")]),e._v(" "),a("div",{staticClass:"amount"},[e._v("¥ "+e._s(e.format_number(e.total)))])])]),e._v(" "),a("div",{staticClass:"my-income-content"},[a("div",[e.messageShow?a("div",{staticClass:"message"},[a("p",[e._v("\n          首席竞赛服务费包括：顾问销售收益，基本服务费，特别服务费，管理服务费，首席形象代言费，全球领袖发展奖金，精英执行首席经销商发展奖金。\n        ")]),e._v(" "),a("img",{attrs:{src:s("./app/web/page/app/images/income/icon_delete.png"),alt:""},on:{click:e.messageBtn}})]):e._e(),e._v(" "),a("div",{staticClass:"list-item"},[a("van-collapse",{attrs:{border:!1},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.myIncomes,(function(t,s){return a("van-collapse-item",{key:"income_"+s,attrs:{title:t.title,label:t.showLabel?t.subTitle:"",border:!1,"title-class":"list-item-title","value-class":"list-item-value","label-class":"list-item-label","is-link":t.dataList&&t.dataList.length>0,disabled:!t.dataList||!t.dataList.length,name:s},scopedSlots:e._u([{key:"value",fn:function(){return[t.total>=0?a("div",[e._v("\n                ¥ "+e._s(e.format_number(t.total))+"\n              ")]):a("div",[e._v("- ¥"+e._s(e.format_number(Math.abs(t.total))))])]},proxy:!0}],null,!0)},[e._v(" "),a("div",e._l(t.dataList,(function(t,s){return a("div",{key:"data_"+s,staticClass:"list-item-content"},[a("span",{staticClass:"whispace"},[e._v(e._s(t.description))]),e._v(" "),t.value>=0?a("div",{staticClass:"list-item-content-amount"},[e._v("\n                  + ¥\n                  "+e._s(e.format_number(t.value))+"\n                ")]):a("div",{staticClass:"list-item-content-amount"},[e._v("\n                  - ¥\n                  "+e._s(e.format_number(Math.abs(t.value)))+"\n                ")])])})),0)])})),1)],1)])])],1)}),[],!1,null,"ca069760",null);t.default=p.exports},"./app/web/page/app/view/income/income.vue?vue&type=style&index=0&id=ca069760&lang=less&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/income/income.vue?vue&type=style&index=0&id=ca069760&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/income/income.vue?vue&type=style&index=0&id=ca069760&lang=less&scoped=true&":function(e,t,s){}}]);