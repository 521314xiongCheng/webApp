(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./app/web/page/app/components/clickAvatarActionSheet/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/action-sheet/style/index.js");var n=a("./node_modules/vant/es/action-sheet/index.js"),s=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=a.n(s),i=a("./node_modules/@babel/runtime/regenerator/index.js"),r=a.n(i),l=a("./app/web/page/app/utils/index.js"),c=[{name:"设为关注",prop:"follow"},{name:"个人详情",prop:"profile"},{name:"新人行动",prop:"nbcAction"},{name:"添加笔记",prop:"addNote"},{name:"邀请设置收入目标",prop:"setTarget"},{name:"查看目标评估",prop:"assess"},{name:"拨打电话",prop:"call"}],p={data:function(){return{show:!1,actions:[],safeareainsetBottom:!0,lockScroll:!0}},props:{pageName:{type:String,default:"UnitDetailsPage"},profileClickEventName:{type:String,default:"UnitDetailsClick"},focusEventName:{type:String,default:"UnitDetailsSetFocusClick"},unfocusEventName:{type:String,default:"UnitDetailsUnfocusClick"},setTargetEventName:{type:String,default:"UnitDetailsSetIncomeTargetClick"},callEventName:{type:String,default:"UnitDetailsPhoneCallClick"},cancelEventName:{type:String,default:"UnitDetailsCancelClick"},evaluationEventName:{type:String,default:"OffspringDetailsHeadPortraitTargetEvaluationClick"},accountType:{type:String,default:""},isFullScreen:{type:Boolean,default:!1},selectInfo:{type:String,default:""},info:{type:Object,default:function(){return{}}},targetContactId:null},methods:{onSelect:function(e){console.log(e.prop);var t="UnitDetailsClick";switch(e.prop){case"follow":t=this.info.isFocus?this.unfocusEventName:this.focusEventName;break;case"profile":t=this.profileClickEventName;break;case"setTarget":t=this.setTargetEventName;break;case"call":t=this.callEventName;break;case"assess":t=this.evaluationEventName;break;case"nbcAction":t="nbcAction",this.toActionPlan();break;case"addNote":t="addNote",this.goAddNote()}console.log(this.pageName,t),this.$track({context:this.pageName,behavior:t,item_type:this.pageName,item_id:t}),this.$emit("onSelect",e)},toActionPlan:function(){var e="".concat(window.location.origin,"/nbcActionPlan"),t={opaque:!1,targetContactId:this.info.contactId};this.$go(e,t)},goAddNote:function(){var e=this;return o()(r.a.mark((function t(){var a,n,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("".concat(e.$ctx.baseApi,"/notes/check?followContactId=").concat(e.info.contactId,"&contactId=").concat(e.targetContactId));case 2:a=t.sent,n=a.data,s="".concat(window.location.origin,"/note"),o={opaque:!1,targetContactId:e.info.contactId,name:e.info.name,levelCode:e.info.careerLevelCode,followed:e.targetContactId},n.hasNote||(s="".concat(window.location.origin,"/addNote"),o={targetContactId:e.info.contactId,name:e.info.name,opaque:!1,levelCode:e.info.careerLevelCode,from:"addNote_none",followed:e.targetContactId}),console.log("params",o),e.$go(s,o);case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$track({context:this.pageName,behavior:this.cancelEventName,item_type:this.pageName,item_id:this.cancelEventName})},showActions:function(){var e=this;return o()(r.a.mark((function t(){var a,n,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.$route.path),!e.isFullScreen){t.next=4;break}return e.$toast("请返回竖屏下操作～"),t.abrupt("return");case 4:return a=e.$ctx.baseApi,t.next=7,e.$request.get("".concat(a,"/goldenweek/newconsultant?contactId=").concat(e.info.contactId));case 7:n=t.sent,s=n.data.isNew,o=Object(l.d)(c),e.info.isFocus?o[0].name="移除关注":o[0].name="设为关注",e.info.setTargetIncomeAmt?o[4].name="邀请修改收入目标":o[4].name="邀请设置收入目标","50"===e.info.careerLevelCode&&o.forEach((function(e,t,a){"follow"===e.prop&&a.splice(t,1)})),"note"==e.selectInfo&&(o.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"assess"!==e.prop||a.splice(t,1)})),o.splice(1,0,{name:"查看笔记",prop:"goNote"})),e.info.contactId.toString()===e.targetContactId&&o.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"call"!==e.prop||a.splice(t,1)})),"operation"!==e.accountType||e.$route.path.includes("operation")||(o.forEach((function(e,t,a){"follow"!==e.prop&&"setTarget"!==e.prop&&"nbcAction"!==e.prop||a.splice(t,1)})),Number(e.info.careerLevelCode)<50&&o.forEach((function(e,t,a){"call"===e.prop&&a.splice(t,1)}))),"operation"!==e.accountType&&o.forEach((function(e,t,a){"assess"===e.prop&&a.splice(t,1)})),s||o.forEach((function(e,t,a){"nbcAction"===e.prop&&a.splice(t,1)})),e.actions=o,e.show=!0;case 20:case"end":return t.stop()}}),t)})))()}},components:{"van-action-sheet":n.a}},d=a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(d.a)(p,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消","safe-area-inset-bottom":e.safeareainsetBottom,"lock-scroll":e.lockScroll},on:{select:e.onSelect,cancel:e.onCancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})}),[],!1,null,"533543d6",null);t.a=u.exports},"./app/web/page/app/components/commonTable.vue":function(e,t,a){"use strict";var n={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,a,n){this.$emit("cellClick",{row:e,column:t,event:a,cell:n})}}},s=(a("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),o=Object(s.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-table"},[a("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(t.formatter?t.formatter(n.row,n.$index):n.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=o.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/dropdown-item/style/index.js");var n=a("./node_modules/vant/es/dropdown-item/index.js"),s=(a("./node_modules/vant/es/dropdown-menu/style/index.js"),a("./node_modules/vant/es/dropdown-menu/index.js")),o=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=a.n(o),r=a("./node_modules/element-ui/src/utils/clickoutside.js"),l=a("./app/web/page/app/utils/index.js"),c={name:"filterActionSheet",data:function(){return{filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}},props:{filterConfig:{type:Array,default:function(){return[]}},filter:{type:Object,default:function(){return{accountType:""}}},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted:function(){var e=this.$route.query.accountType;this.accountType=e},methods:{setFilterText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"筛选";this.filterText=e},opened:function(){var e=this;this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",(function(){e.clickOverlay()}))},close:function(){this.$emit("filterActionIsOpen",!1)},initFilterConfig:function(){var e=this;this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,s=void 0===n||n,o=t.options;e.filterResult[a]=s?e.filter[a]?e.filter[a]:[]:e.filter[a]?e.filter[a]:null,o.forEach((function(t){s?e.filter[a]&&Object(l.p)(t.value,e.filter[a])?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1):t.value===e.filter[a]?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1)}))})),this.filterCopy=Object(l.d)(this.filterResult)},selectItem:function(e,t){var a,n=this,s=t.prop,o=t.multiple,r=void 0===o||o;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:(a={},i()(a,s,e.value),i()(a,"isEmployee","operation"===this.accountType),a)}),r?this.filterResult[s].includes(e.value)?(this.filterResult[s].splice(this.filterResult[s].findIndex((function(t){return t===e.value})),1),this.$set(e,"selected",!1)):(this.filterResult[s].push(e.value),this.$set(e,"selected",!0)):this.filterResult[s]===e.value?(this.filterResult[s]=null,this.$set(e,"selected",!1)):(this.filterResult[s]=e.value,this.filterConfig.forEach((function(e){e.prop===s&&e.options.forEach((function(e){n.$set(e,"selected",!1)}))})),this.$set(e,"selected",!0))},clickOverlay:function(){var e=this;this.isOpen&&(this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,s=void 0===n||n;t.options.forEach((function(t){e.$set(t,"selected",!1),s?e.filterCopy[a].findIndex((function(e){return e===t.value}))>-1&&e.$set(t,"selected",!0):e.filterCopy[a]===t.value&&e.$set(t,"selected",!0)}))})),this.filterResult=Object(l.d)(this.filterCopy))},filterReset:function(){var e=this;this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach((function(t){var a=t.prop,n=t.multiple,s=void 0===n||n,o=t.options;e.filterResult[a]=s?[]:null,o.forEach((function(t){e.$set(t,"selected",!1)}))}))},filterConfirm:function(){var e=this;this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});var t=!1;Object.keys(this.filterResult).forEach((function(a){Array.isArray(e.filterResult[a])?e.filterResult[a].length&&(t=!0):null!==e.filterResult[a]&&(t=!0)})),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(l.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":s.a,"van-dropdown-item":n.a},directives:{Clickoutside:r.a}},p=(a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),d=Object(p.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-dropdown-menu",[a("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:e.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:e.opened,close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"title"},[a("span",[e._v("\n          "+e._s(e.filterText)+"\n        ")]),e._v(" "),a("span",{staticClass:"num"},[e._v("("+e._s(e.total)+")")])])]},proxy:!0}])},[e._v(" "),a("div",{staticClass:"filter-content"},[a("div",{staticClass:"filter-type"},e._l(e.filterConfig,(function(t){return a("div",{key:t.prop},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.options&&t.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[a("div",{staticClass:"filter-type-title"},[e._v(e._s(t.label))]),e._v(" "),a("div",[t.showSubTitle?a("div",{staticClass:"filter-type-subtitle"},[e._v("\n                "+e._s(t.subTitle)+"：\n              ")]):e._e(),e._v(" "),a("div",{staticClass:"filter-type-content"},e._l(t.options,(function(n){return a("span",{key:n.value,class:{is_active:n.selected},on:{click:function(a){return e.selectItem(n,t)}}},[e._v("\n                  "+e._s(n.name)+"\n                ")])})),0)])])])})),0),e._v(" "),a("div",{staticClass:"filter-button"},[a("span",{staticClass:"filter-button-reset",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"filter-button-confirm",on:{click:e.filterConfirm}},[e._v("确认")])])])])],1)}),[],!1,null,"6d8bb1f7",null);t.a=d.exports},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&")},"./app/web/page/app/components/setTarget/index.vue":function(e,t,a){"use strict";a("./node_modules/vant/es/field/style/index.js");var n=a("./node_modules/vant/es/field/index.js"),s=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),o=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),i=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),r=a.n(i),l=a("./node_modules/@babel/runtime/regenerator/index.js"),c=a.n(l),p=a("./app/web/page/app/utils/index.js"),d={data:function(){return{setTargetDialog:!1,targetIncomeAmt:null}},props:{isSettingTarget:{type:Boolean,default:!0},levelCode:{type:Number,default:97},incomeTargetIncomeAmt:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"}},computed:{setTargetTitle:function(){return console.log("this.levelCode",this.levelCode),this.isSettingTarget?"请修改收入目标":"请输入收入目标"},setTargetTip:function(){return this.levelCode<60?"当月的收入需要和美容顾问一起达成，一起来评估她们当月的零售绩效吧。":60===this.levelCode?"当月的收入需要和沙龙成员一起达成，一起来评估她们当月的零售绩效吧。":"当月的收入需要和督导一起达成，一起来评估她们当月的零售绩效吧。"}},methods:{targetBoxClick:function(){this.$track({context:this.pageName,behavior:"UnitDetailsFillInTargetClick",item_type:this.pageName,item_id:"UnitDetailsFillInTargetClick"})},formatter:function(e){return e?Object(p.f)(e):""},setTargetIncome:function(){this.setTargetDialog=!0,this.incomeTargetIncomeAmt&&(this.targetIncomeAmt=this.incomeTargetIncomeAmt)},setTargetIncomeConfirm:function(){var e=this;return r()(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$track({context:e.pageName,behavior:"UnitDetailsTargetSaveClick",item_type:e.pageName,item_id:"UnitDetailsTargetSaveClick"}),e.targetIncomeAmt){t.next=3;break}return t.abrupt("return");case 3:if((a=parseInt(e.targetIncomeAmt.split(",").join("")))!==e.incomeTargetIncomeAmt){t.next=7;break}return e.setTargetDialog=!1,t.abrupt("return");case 7:return t.next=9,e.$request.post("".concat(e.$ctx.baseApi,"/target/income"),{targetAmt:a,sourceType:"app"});case 9:n=t.sent,n.data,e.setTargetDialog=!1,e.$emit("setTargetIncomeConfirm");case 13:case"end":return t.stop()}}),t)})))()}},components:{"van-button":o.a,"van-dialog":s.a.Component,"van-field":n.a}},u=(a("./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),m=Object(u.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-dialog",{staticClass:"target_dialog",attrs:{title:"","close-on-click-overlay":!0,"show-confirm-button":!1},model:{value:e.setTargetDialog,callback:function(t){e.setTargetDialog=t},expression:"setTargetDialog"}},[n("div",{staticClass:"target_content"},[n("div",{staticClass:"target_content-title"},[e._v(e._s(e.setTargetTitle))]),e._v(" "),n("div",{staticClass:"target_content-input"},[n("van-field",{attrs:{maxlength:9,formatter:e.formatter,type:"number"},on:{click:e.targetBoxClick},model:{value:e.targetIncomeAmt,callback:function(t){e.targetIncomeAmt=t},expression:"targetIncomeAmt"}})],1),e._v(" "),n("div",{staticClass:"target_content-tip"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_tip.png"),alt:""}})]),e._v(" "),n("div",[n("span",[e._v(e._s(e.setTargetTip))])])]),e._v(" "),n("div",{staticClass:"target_content-btn"},[n("van-button",{staticClass:"btn",on:{click:e.setTargetIncomeConfirm}},[e._v("保存")])],1)]),e._v(" "),n("div",{staticClass:"cer_close",on:{click:function(t){e.setTargetDialog=!1}}},[n("img",{attrs:{src:a("./app/web/page/app/images/index/icon_close.png"),alt:""}})])])],1)}),[],!1,null,"302df74a",null);t.a=m.exports},"./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&")},"./app/web/page/app/images/crown.png":function(e,t,a){e.exports=a.p+"img/crown.25c5a039.png"},"./app/web/page/app/images/dot.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAUCAYAAAAuoXvLAAAAAXNSR0IArs4c6QAAA6NJREFUWEftl0molmUYhq/bSrPBsnkgTwNBGFGL9pp1hMxFixYulAaiWoQQWEoIRQMUQRjRPEDRrn2EQdMqJ7RhG0Rk2lyWNnvHfXq/w+c5/v/53q/fiPCBH3743ue93+d+ZnFYhjKgYV9tzwJyZr8kH2ou/4t40wiyfRRwBnAycCowB/gO+AzYJem3URJl+0jgTOCU8ptd8HYBOw8BXuw7HTit2Bj7vi327Z6KdwBBtucBS4AbgMvKBUcA+4CtwEvARknfjIIk28cDVwI3A5cC84FE7V5gB/Ai8Iakr0eItwxYWexr8H4CNgGvAG9L+qLBmySokHMrcC8wt6RW+11JsT+A54D72pf0ebztE4DbgHuAo4fgPZ8zkr7qg9PoFLw7gLuBRO3U7Il9vwMvA+sb+yYOldwPOY8DiZihpQl4AVgt6ec+jy5ptQZ4sETMTNc8BqyT9MtMBw/2veCtBe4/CDFTVUJU8NYm3RqCFgDvAyd2fMCfwHJJr3c8f8Ax20mn90rkdLkieMskbexyeJrF9iXA5gq8RNK4pHcagpJWCfUaeVfSohqFVrg/DdzSwZvt698ElkoKWVViO7VzVQ+8cdkOSR8BC6tQId1srqT9NXq2k8LBu6hGD9gDLJD0Q6VeSkiKbrpWjQRvLASl7X1ZkV6TgQDMk5QO0FlsHwd8WjpWZz3+dsiYpN01SjlrO104jadGfgUuDEGp6JlxMhvUSIrZ/FqPltb+CXBSDRiQByeC4swqsf0jEMfUSBrCeU0NegtYXKMN5IJje6RYHLKlzCE1kEmTCyRlRqoS20npi6uUYOdEBJUQXA1sqChiiZ7XJC2vBJ04bvtO4OFKvFeBFX1WHtt3AQ9V4j0p6faGoIT7duCcjpfEi0skpXVWi+2sMNE9t6Py98AVkjJdV4vts4FtpVAP3T/L5cG7XNLH7Un6WiBTa8gadEkiJ6mVkeDRPi23sc72OJCoyHozDC+1JxEXj1Z1zBZW1pfrgGc74KWgrwOeSLS2Ccr/q0uqZXBMd2s/PPNHdqJHcqbvY9vut720TO9jA/BSkJP6/8gZJa1jyzUF76yC135O1qjPgQeyc0rKsDjdc7YT9teXpTWzQy7ONv9BWAU+7FMHBuWF7aT1TcBVZTnO0QbvmeCOwhktks4HbkzKllEj9mX5zibxlKQU9EkZmI+2j2ktkQnzvaMkZiphLbx8Ct6+fwEvs1HKxkC8LgWruij+nxQOEzSDN/8C9eBNZRd6q0EAAAAASUVORK5CYII="},"./app/web/page/app/images/icon_q.png":function(e,t,a){e.exports=a.p+"img/icon_q.62693319.png"},"./app/web/page/app/images/index/icon_search.png":function(e,t,a){e.exports=a.p+"img/icon_search.16d4819f.png"},"./app/web/page/app/images/nodata1.png":function(e,t,a){e.exports=a.p+"img/nodata1.75567d78.png"},"./app/web/page/app/images/phone-icon.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAA3ZJREFUSA21V01IVFEUvufOqKMzDy1CyRCCoFUtArMWhhAGtYgIDIogKOc5M5r9I1IuZpMF/aj4O46mGQYR1iJrUYGLCMFatCgKpFoElYESzhvxZ2ZO50684TndN85fb/PuPd93v/vNeffceweY4UHP6DqNBVuR4RHGQOPA2uzFaid4IWKgZbUJutpC/Z2yEIZeMsSteky8AdiAo6euDgDQGM9WmwuhhfN3N4UiKxPxkwsMkTm1hv7Lov0/nqiB8OLSMIlvMZ0AmTd4erDcFM8A4CRciojViTQoC9ZIKHQ9ESddjAOGypIbDHsD7pHi5LjJszi35M4lQ6fKgBwIOZLhpsLheevZN1rpoTUHAbyx9Z76siYvRQIH78lFKrbXicZRCX7PteKxRJx0sWgVUAbGTQUAgrQZVNs6XZ9NORkAfw3k4igwWJbp0E41qfSoH2VYNmJRA/Z21w/a5u7LBKlEd6LXVyDDshGLGhBCwPgt+hSyPb9Q+8WasjGZTCNmQOlzvieCT0ZiyK7M1/sqpViGwZgBoeOwWVooFbPxmmInBIQH2ll/STyWaX+VAWhzznHgF2SitBZKI0uRcWwaVGR4urFVBoSIo0cdobK7ZyJYrgXCT9A7ZDPBUw7/Y0AoKHabh8rvk0yNMlEVmFl+nC0TUgNw80SQWaCGMvFbZoIW5X5tZvkZXhqxS/EUgrEbkWzMvMe/BxCf00FklvJJnscPOzrUGdn4gHtgG0J4N21y044S9ZXsapfQgBCdb/AfgjCOkQmLbBJxTli4paagu3bSiGue/laqnmZxioo48T4wwEalxzVh5K1pQJC1+v7j9O2HRTkaB+ttEllBgA6rLa89vzAyq/1caaeJXTquv6MbHfJrSp/aEovpjbXeQU//gTBjD+mSmPC7U7rDZtnS5yCOT+mrc4t+UhnQBy40DlSEV8JP6dzYoMfSfZOJGjIxJq0CM9GCTueU1coryPeUGSeF+FHBTcmAGJDfpX5VdmAlrarbop/uQ1nUxNiUPkH8ZFqDf18kgl2y/xPxXGNfLEZuse6yd9W+TTkDRiFHt/pCKSnaTtlopp8S/UVG3KxNR/9FMbnAM8qAcQI8N1QUWFx2k+AZSu9GI2Zs02HX5OhVb+ixrBnQBdHnywm+gyoEPEjXm0pksJmwHGA4zTi/Ste7R9SPPX8Ax+EUaawvzqcAAAAASUVORK5CYII="},"./app/web/page/app/images/portraitscreen.png":function(e,t,a){e.exports=a.p+"img/portraitscreen.562c5e20.png"},"./app/web/page/app/images/refresh-icon.gif":function(e,t,a){e.exports=a.p+"img/refresh-icon.4584a5b2.gif"},"./app/web/page/app/images/screen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAjCAYAAAAJ+yOQAAAAAXNSR0IArs4c6QAAAptJREFUWEftmEuIjmEUx39/19xKShTJWBgLIpeVIkNTFhi3hVi5lWRsFBsbOxaSZMNsZ6EYciulrC1QRNiMFQahjLv+Ol/PN73zNpd3yPd+as7m6/ue85z3953nPOec94j/QJRltL0cWAdMBUb8If8X4D7QLqm7asP2TGAJ8BV4BTyS9KvIM3ogbZ8CDhbZVFCnE2iW9Dz0bbcAHZm9H4CLwAlJzwayWYG0fRQ4VvDhQ1F7CiyU9M32UmA/MAFoBOan0wrPHpZ0uj/Dsj0e6EqbQ+8ecBP4MRSajG4DsAMYmX7bK+lc3pbtOcAhYDcwGjgj6UBfzwzIZcDdtBjxNEPS+z8ErGyzfRbYl2xEbG7vz57tpnTsk4E9ks7ndQNyJXAnLXRKCk/8ldiO2I4YD7ksaeNABm2vAG4Dn4DZkj5m9esCMnm/DdgJHJF0vK4gbS8ApgCLgZPA47jxCfK6pLele9J2c4QEMC4XEteALZEZSodMR70GuAJEpgm5BGyT9D2+1AVkAl0FXE03fZekn1XP1g1kAp0IdEtyaRfH9qjIw3GCGYheQJFmgTeSImdXpGaetD0WeADMK5CEo1S2A63RpNQSMmr1wwKAWZUOSZtqCRm1/AKwIVPXizA31gyyCE26PGOAJ0A0ICHr6w4ygUbTvChBtgxDJk8M2gXlQ8H2sCcrThlqPznsyf7SSimeTDX3FjA3B/YCWC0pyliPlAUZ3clLID6z8hmYJeld6ZDpMkwDpucguyQFfC8pxZNFS1pV719Alvre3ZcD+krmNZtgpEHE2lzTm+eMaUYrMCktNNVyFhQxHdkgmt+iEheyoZZTtZiMxIStOiMaDDTS2mZJN2o2n0wZYisw2HGH6mugrTo27AU52F8ra/03X6TueCK+7EgAAAAASUVORK5CYII="},"./app/web/page/app/images/select.png":function(e,t,a){e.exports=a.p+"img/select.65b9fd04.png"},"./app/web/page/app/view/area/index.vue":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/@babel/runtime/helpers/extends.js"),s=a.n(n),i=(a("./node_modules/vant/es/dialog/style/index.js"),a("./node_modules/vant/es/dialog/index.js")),r=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),l=a.n(r),c=(a("./node_modules/vant/es/action-sheet/style/index.js"),a("./node_modules/vant/es/action-sheet/index.js")),p=(a("./node_modules/vant/es/popup/style/index.js"),a("./node_modules/vant/es/popup/index.js")),d=(a("./node_modules/vant/es/pull-refresh/style/index.js"),a("./node_modules/vant/es/pull-refresh/index.js")),u=(a("./node_modules/vant/es/sticky/style/index.js"),a("./node_modules/vant/es/sticky/index.js")),m=(a("./node_modules/vant/es/icon/style/index.js"),a("./node_modules/vant/es/icon/index.js")),f=(a("./node_modules/vant/es/button/style/index.js"),a("./node_modules/vant/es/button/index.js")),g=(a("./node_modules/vant/es/nav-bar/style/index.js"),a("./node_modules/vant/es/nav-bar/index.js")),v=(a("./node_modules/vant/es/list/style/index.js"),a("./node_modules/vant/es/list/index.js")),h=a("./node_modules/@babel/runtime/regenerator/index.js"),b=a.n(h),C=a("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue"),_=a("./app/web/page/app/utils/index.js"),x=a("./app/web/page/app/components/commonTable.vue"),y=a("./app/web/page/app/mixin/horizontalScreen.js"),A=a("./app/web/page/app/components/setTarget/index.vue"),w=a("./app/web/page/app/components/clickAvatarActionSheet/index.vue"),T={components:{commonTable:x.a,List:v.a,NavBar:g.a,"van-button":f.a,"van-icon":m.a,dropdowmMenu:C.a,clickAvatarActionSheet:w.a,"van-sticky":u.a,"van-pull-refresh":d.a,"van-popup":p.a,SetTarget:A.a,"van-action-sheet":c.a},mixins:[y.a],data:function(){return{showTable:!0,isIos:Object(_.l)(),loading:!0,finished:!1,popupTime:!1,title:"",tableData:{header:[{label:"当月绩效",minWidth:90,sortable:"custom",prop:"productionAmtCurrentMonth",formatter:function(e){return Object(_.f)(e.productionAmtCurrentMonth,2)}}],data:[]},tableHeaderData:{header:[{label:"当月绩效",minWidth:90,sortable:"custom",prop:"productionAmtCurrentMonth",formatter:function(e){return Object(_.f)(e.productionAmtCurrentMonth,2)}}],data:[]},filterConfig:[{prop:"dirTags",label:"分类",options:[]},{prop:"activityStatuses",label:"状态",options:[]},{prop:"careerLevels",label:"职级",options:[]},{prop:"setTargetIncomeAmt",label:"收入目标",multiple:!1,options:[{name:"已设置",value:1},{name:"未设置",value:0}]},{prop:"debuteCount",label:"生日周年",multiple:!0,options:[{name:"生日周年",value:1}]},{prop:"isFocus",label:"是否关注",multiple:!1,options:[{name:"是",value:!0},{name:"否",value:!1}]}],filter:{pageSize:50,pageNo:1,businessType:"AREA_ONE",sortEnum:"INCOME_TARGET",orderEnum:"DESC"},currentData:{},total:1,monthKey:"",filterParams:{},tableName:"area",accountType:"",refreshing:!1,refreshDisable:!1,navBarClientHeight:0,pageName:"OffspringDetailsPage",landscapeEventName:"OffspringDetailsLandscapeClick",export2ExcelEventName:"OffspringDetailsExcelExportClick",sheetType:"",showDirectorActions:!1,directorActions:[{name:"个人详情",prop:"profile"},{name:"拨打电话",prop:"call"}]}},created:function(){var e=this,t=this.$route.query,a=t.monthKey,n=t.businessType,s=t.targetContactId,o=t.accountType,i=t.tagId,r=t.levelCode,l=t.isFocus,c=t.lineNumbers;this.monthKey=a,this.filter.businessType=n,this.title="AREA_ONE"===n?"一类区域详情":"区域详情",this.targetContactId=s,this.accountType=o,this.levelCode=r,i&&(this.filter.dirTags=[i]),void 0!==l&&(this.filter.isFocus=JSON.parse(l)),void 0!==c&&(this.filter.lineNumbers=[Number(c)]),console.log(a);var p=new Date(a.substr(0,4),a.substr(4,6));p.setMonth(p.getMonth()-1,1);for(var d=function(t){p.setMonth(p.getMonth()-1);var a="".concat(p.getFullYear(),"/").concat(e.addZero(p.getMonth()+1));e.tableData.header.push({label:"".concat(a),minWidth:90,sortable:"custom",prop:"productionAmtM".concat(t),formatter:function(e){return Object(_.f)(e.productionAmtHistoryMonth["productionAmtM".concat(t)],2)}})},u=1;u<=12;u++)d(u);this.tableHeaderData.header=this.tableData.header,this.loadData(),this.getFilterConditions()},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));this.$jsBridge.onFronted((function(){e.onFronted()})),this.fixedHeader()},methods:{fixedHeader:function(){var e=this,t=document.querySelector(".van-nav-bar"),a=document.querySelector(".unit-content-filter"),n=document.querySelector(".el-table__header-wrapper"),s=document.querySelector(".el-table__body-wrapper"),o=document.querySelector(".common-table");window.addEventListener("scroll",(function(i){if(e.navBarClientHeight=t.clientHeight,!(o.clientHeight+a.clientHeight+t.clientHeight<=screen.height)){var r=document.querySelector(".el-table__fixed-header-wrapper"),l=document.querySelector(".el-table__fixed-body-wrapper"),c=document.documentElement.scrollTop||document.body.scrollTop;e.isFullScreen||(c>0?(r.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),l.style.cssText="top: ".concat(n.clientHeight+a.clientHeight-1,"px"),a.style.cssText="position: fixed;top: ".concat(t.clientHeight,"px;right: 0;z-index: 5;width: 100%;"),n.style.cssText="position: fixed;top: ".concat(t.clientHeight+a.clientHeight-1,"px;z-index: 3;"),s.style.cssText="padding-top: ".concat(n.clientHeight+a.clientHeight-1,"px")):(r.style.cssText="position: absolute;top: 0",l.style.cssText="padding-top:0;top: ".concat(r.clientHeight,"px;"),a.style.cssText="position: unset;",n.style.cssText="position: unset;",s.style.cssText="padding-top: 0;"))}}))},filterActionIsOpen:function(e){this.refreshDisable=e},onFronted:function(){var e=this;return l()(b.a.mark((function t(){var a,n,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(_.d)(e.filterParams)).pageNo=1,a.pageSize=e.tableData.data.length||20,n=e.$ctx.baseApi,t.next=6,e.$request.get("".concat(n,"/reports/area"),{params:a});case 6:s=t.sent,o=s.data,e.baseData=o,e.tableData.data.forEach((function(e,t,a){o.members.forEach((function(n,s){e.contactId===n.contactId&&a.splice(t,1,n)}))}));case 10:case"end":return t.stop()}}),t)})))()},addZero:function(e){return e<10?"0".concat(e):e},back:function(){Object(_.b)()},getFilterConditions:function(){var e=this;return l()(b.a.mark((function t(){var a,n,s,i,r,l,c,p,d,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,n={businessType:e.filter.businessType},t.next=4,e.$request.get("".concat(a,"/reports/area/filter-conditions"),{params:n});case 4:s=t.sent,i=s.data,r=i.activityStatuses,l=i.careerLevels,i.lineNumbers,c=i.dirTags,p=i.debuteCount,"AREA_ONE"!==(d=e.$route.query.businessType)&&(u=[],"AREA_ONE_TO_THREE"===d?u=[{name:"一类管理区域",value:1},{name:"二类管理区域",value:2},{name:"三类管理区域",value:3}]:"AREA_ONE_TO_TWO"===d?u=[{name:"一类管理区域",value:1},{name:"二类管理区域",value:2}]:o.options=[],e.filterConfig.push({prop:"lineNumbers",label:"管理区域",options:u})),e.filterConfig.forEach((function(e){"careerLevels"===e.prop&&l&&(e.options=l.map((function(e){return{name:"".concat(e.careerLevelCode,"(").concat(e.dirCount,")"),value:e.careerLevelId}}))),"debuteCount"===e.prop&&p&&(p.birthDebuteCount>0&&(e.options[0].name="生日周年(".concat(p.birthDebuteCount,")")),p.dirDebuteCount>0&&e.options.push({name:"督导周年(".concat(p.dirDebuteCount,")"),value:3}),p.nsdDebuteCount>0&&e.options.push({name:"首席周年(".concat(p.nsdDebuteCount,")"),value:4})),"activityStatuses"===e.prop&&r&&(e.options=r.map((function(e){return{name:"".concat(e.activityStatusCode,"(").concat(e.dirCount,")"),value:e.activityStatusId}}))),"dirTags"===e.prop&&c&&(e.options=c.map((function(e){return{name:"".concat(e.tagName,"(").concat(e.dirCount,")"),value:e.tagId}})))})),e.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));case 11:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return l()(b.a.mark((function t(){var a,n,s,o,i,r,l,c,p,d,u,m,f,g,v,h,C,x,y,A,w;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.documentElement.scrollTop||document.body.scrollTop,e.loading=!0,n=e.filter,s=n.pageNo,o=n.pageSize,i=n.dirTags,r=n.focusStatus,l=n.careerLevels,c=n.activityStatuses,p=n.setTargetIncomeAmt,d=n.lineNumbers,u=n.businessType,m=n.sortEnum,f=n.orderEnum,g=n.debuteCount,v=n.isFocus,h={pageNo:s,pageSize:o,businessType:u,focusStatus:r,setTargetIncomeAmt:p,sortEnum:m,orderEnum:f,debuteCount:g,isFocus:v},i&&i.length&&(h.dirTagIds=i.join(",")),g&&g.length&&(h.debuteCount=g.join(",")),l&&l.length&&(h.careerLevelIds=l.join(",")),c&&c.length&&(h.activityStatusIds=c.join(",")),d&&d.length&&(h.lineNumbers=d.join(",")),e.filterParams=Object(_.d)(h),C=e.$ctx.baseApi,t.next=13,e.$request.get("".concat(C,"/reports/area"),{params:h});case 13:x=t.sent,y=x.data,e.total=y.total,e.loading=!1,e.refreshing=!1,y.hasNextPage?e.finished=!1:e.finished=!0,A=new Map,w=e.tableData.data.concat(y.members),e.tableData.data=w.filter((function(e){return!A.has(e.contactId)&&A.set(e.contactId,1)})),e.tableData.data&&e.tableData.data.length?e.showTable=!0:e.showTable=!1,window.scrollTo(0,a),e.filter.pageNo=e.filter.pageNo+1;case 25:case"end":return t.stop()}}),t)})))()},sortMap:function(e){return{incomeTarget:"INCOME_TARGET",productionAmtCurrentMonth:"PRODUCTION_AMT_CURRENT_MONTH",offspringLineNumber:"LINE_NUMBER",productionAmtM1:"PRODUCTION_AMT_M1",productionAmtM2:"PRODUCTION_AMT_M2",productionAmtM3:"PRODUCTION_AMT_M3",productionAmtM4:"PRODUCTION_AMT_M4",productionAmtM5:"PRODUCTION_AMT_M5",productionAmtM6:"PRODUCTION_AMT_M6",productionAmtM7:"PRODUCTION_AMT_M7",productionAmtM8:"PRODUCTION_AMT_M8",productionAmtM9:"PRODUCTION_AMT_M9",productionAmtM10:"PRODUCTION_AMT_M10",productionAmtM11:"PRODUCTION_AMT_M11",productionAmtM12:"PRODUCTION_AMT_M12"}[e]},sortChange:function(e){e.column;var t=e.prop,a=e.order;a?("descending"===a?a="desc":"ascending"===a&&(a="asc"),this.filter.sortEnum=this.sortMap(t),this.filter.orderEnum=a.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},onRefresh:function(){var e=this;return l()(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.finished=!1,e.refreshing=!0,e.filter.pageNo=1,e.tableData.data=[],e.loadData();case 5:case"end":return t.stop()}}),t)})))()},setTargetIncome:function(e){var t=this;return l()(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(e),"operation"!==t.accountType){a.next=4;break}return t.$toast("抱歉，暂时不支持对她进行操作～"),a.abrupt("return");case 4:if(!t.isFullScreen){a.next=7;break}return t.$toast("请返回竖屏下操作～"),a.abrupt("return");case 7:t.targetContactId.toString()===e.contactId.toString()?(t.$track({context:t.pageName,behavior:"OffspringSetTargetClick",item_type:t.pageName,item_id:"OffspringSetTargetClick"}),t.currentData=e,t.$refs.setTarget.setTargetIncome()):(t.$track({context:t.pageName,behavior:"OffspringRemindToSetClick",item_type:t.pageName,item_id:"OffspringRemindToSetClick"}),i.a.confirm({message:"是否邀请设置收入目标"}).then((function(){t.share()})).catch((function(){})));case 8:case"end":return a.stop()}}),a)})))()},setTargetIncomeConfirm:function(){this.onFronted()},filterConfirm:function(e){this.filter.pageNo=1,this.filter=s()(this.filter,e),this.tableData.data=[],this.loadData()},handleClickAvatar:function(e){var t=this;this.currentData=e,this.sheetType="",this.$nextTick((function(){t.$refs.clickAvatarActionSheet.showActions()}))},handleClickName:function(e){this.showDirectorActions=!0,this.currentData=e,this.sheetType="director"},share:function(){var e=this;return l()(b.a.mark((function t(){var a,n,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$ctx.baseApi,t.next=3,e.$request.post("".concat(a,"/invite/link"));case 3:n=t.sent,console.log(n),s="".concat(e.$ctx.baseShareUrl,"?linkKey=").concat(n.data.linkKey),o={kind:"media",title:"写下你的收入愿望，我们一起实现她",description:"愿望无论大小，说不定就实现了呢？",thumbnail:"https://dev-community-s3.marykay.com.cn/DEV/MyBizIntouch_Content_Cms/LibraryResource/20210917102605_661.png",mediatype:"webpage",scene:"WXSceneSession",url:s},e.$jsBridge.shareToWechat(o);case 8:case"end":return t.stop()}}),t)})))()},onSelect:function(e){var t=this;return l()(b.a.mark((function a(){var n,s,o,r,l,c,p,d,u;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.$ctx.baseApi,a.t0=e.prop,a.next="follow"===a.t0?4:"profile"===a.t0?11:"setTarget"===a.t0?15:"assess"===a.t0?19:"call"===a.t0?25:27;break;case 4:return a.next=6,t.$request.post("".concat(n,"/focus"),{focusContactId:t.currentData.contactId.toString()});case 6:return s=a.sent,s.data,t.currentData.isFocus=!t.currentData.isFocus,console.log(t.currentData.isFocus),a.abrupt("break",27);case 11:return o="".concat(window.location.origin,"/profile"),r={opaque:!1,targetContactId:"director"==t.sheetType?t.currentData.directorContactId:t.currentData.contactId,levelCode:"director"==t.sheetType?t.currentData.directorCareerLevelCode:t.currentData.careerLevelCode,followed:t.$route.query.targetContactId},t.$go(o,r),a.abrupt("break",27);case 15:return l=t.currentData.setTargetIncomeAmt,c=l?"是否邀请修改收入目标":"是否邀请设置收入目标",i.a.confirm({message:c}).then((function(){t.share()})).catch((function(){})),a.abrupt("break",27);case 19:return p="team",Number(t.currentData.careerLevelCode)>=60&&(p="unit"),d="".concat(window.location.origin,"/").concat(p),u={opaque:!1,isSelf:!1,targetContactId:t.currentData.contactId,levelCode:t.currentData.careerLevelCode,monthKey:t.monthKey,navTitle:"收入目标评估"},t.$go(d,u),a.abrupt("break",27);case 25:return window.location.href="director"==t.sheetType?"tel:".concat(t.currentData.directorMobile):"tel:".concat(t.currentData.mobile),a.abrupt("break",27);case 27:t.showDirectorActions=!1,t.$refs.clickAvatarActionSheet.show=!1;case 29:case"end":return a.stop()}}),a)})))()},toSearch:function(){var e="".concat(window.location.origin,"/area_search"),t={targetContactId:this.targetContactId,monthKey:this.monthKey,businessType:this.filter.businessType,levelCode:this.levelCode};this.$go(e,t)},setClassName:function(e){e.row;var t=e.column;return"name"===t.property?"cell-class_name":"avatar"===t.property?"cell-class_avatar":"estimateProductionAmt"===t.property?"cell-class_estimateProductionAmt":void 0}},watch:{isFullScreen:function(e){var t=this;if(!e){var a=document.documentElement.scrollTop||document.body.scrollTop;this.$nextTick((function(){var e=document.querySelector(".unit-content-filter"),n=document.querySelector(".el-table__header-wrapper"),s=document.querySelector(".el-table__fixed-header-wrapper"),o=document.querySelector(".el-table__fixed-body-wrapper"),i=document.querySelector(".el-table__body-wrapper"),r=document.querySelector(".common-table");console.log("scrollTop",a),console.log("this.navBarClientHeight",r.clientHeight+e.clientHeight+t.navBarClientHeight),console.log("screen.height",t.screenHeight),a>0&&r.clientHeight+e.clientHeight+t.navBarClientHeight>t.screenHeight?(s.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight+e.clientHeight-1,"px;width: 130px;z-index: 4;overflow: hidden;"),o.style.cssText="top: ".concat(n.clientHeight+e.clientHeight-1,"px"),e.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight,"px;right: 0;z-index: 5;width: 100%;"),n.style.cssText="position: fixed;top: ".concat(t.navBarClientHeight+e.clientHeight-1,"px;z-index: 3;"),i.style.cssText="padding-top: ".concat(n.clientHeight+e.clientHeight-1,"px")):(s.style.cssText="position: absolute;top: 0",o.style.cssText="padding-top:0;top: ".concat(s.clientHeight,"px;"),e.style.cssText="position: unset;",n.style.cssText="position: unset;",i.style.cssText="padding-top: 0;")}))}},showTable:function(e){var t=this;e&&(window.scrollTo(0,0),this.$nextTick((function(){t.fixedHeader()})))},popupTime:function(e){e&&this.$track({context:this.pageName,behavior:"OffspringDetailsRuleIconClick",item_type:this.pageName,item_id:"OffspringDetailsRuleIconClick"})}}},k=(a("./app/web/page/app/view/area/index.vue?vue&type=style&index=0&id=e9a96f54&lang=less&scoped=true&"),a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),N=Object(k.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unit-detail",class:{isAndroid:!e.isIos,isFullScreen:e.isFullScreen}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}]},[n("van-sticky",[n("NavBar",{attrs:{"left-text":"返回",title:e.title,border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:a("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e._v("\n          "+e._s(e.title)+"\n          "),n("img",{staticClass:"icon_q",attrs:{src:a("./app/web/page/app/images/icon_q.png"),alt:""},on:{click:function(t){e.popupTime=!e.popupTime}}})]},proxy:!0},{key:"right",fn:function(){return[n("img",{staticClass:"icon-search",attrs:{src:a("./app/web/page/app/images/index/icon_search.png"),alt:""},on:{click:e.toSearch}}),e._v(" "),e.levelCode>=90&&"operation"!=e.accountType?n("van-popover",{attrs:{trigger:"click",placement:"bottom-end",actions:e.popoverActions},on:{select:e.popoverSelect},scopedSlots:e._u([{key:"reference",fn:function(){return[n("img",{staticClass:"icon-more",attrs:{src:a("./app/web/page/app/images/dot.png"),alt:""}})]},proxy:!0}],null,!1,1154599501),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}}):[n("span",{on:{click:function(t){return e.gofullscreen()}}},[n("img",{staticClass:"icon-screen",attrs:{src:a("./app/web/page/app/images/screen.png"),alt:""}})])]]},proxy:!0}])})],1)],1),e._v(" "),n("van-pull-refresh",{attrs:{"head-height":100,disabled:e.refreshDisable},on:{refresh:e.onRefresh},scopedSlots:e._u([{key:"pulling",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("下拉刷新")])]},proxy:!0},{key:"loosing",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("松开刷新")])]},proxy:!0},{key:"loading",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:a("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("刷新中")])]},proxy:!0}]),model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[e._v(" "),e._v(" "),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],staticClass:"unit-content"},[n("div",{staticClass:"unit-content-filter"},[n("img",{staticClass:"icon",attrs:{src:a("./app/web/page/app/images/select.png"),alt:""}}),e._v(" "),n("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:e.filterConfig,filter:e.filter,pageName:e.pageName,filterClickEventName:"OffspringDetailsFilterClick",tagEventName:"OffspringDetailsFilterTagClick",resetEventName:"OffspringDetailsFilterResetClick",confirmEventName:"OffspringDetailsFilterConfirmClick",total:e.total},on:{filterConfirm:e.filterConfirm,filterActionIsOpen:e.filterActionIsOpen}})],1)]),e._v(" "),e.showTable?n("List",{attrs:{finished:e.finished,"finished-text":e.tableData.data&&e.tableData.data.length?"没有更多了":""},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("common-table",{ref:"gemPointTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen,setClassName:e.setClassName},on:{sortChange:e.sortChange}},[n("el-table-column",{attrs:{fixed:"left",label:"头像",width:"60px",align:"center",prop:"avatar"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[n("div",{staticClass:"avatar-wrap"},[n("img",{staticClass:"avatar",attrs:{src:"https://consultant-ecard-api-external-latest.prod.pcf.mkc.io/v1/user/"+s.contactId+"/avatar?size=60",alt:""},on:{click:function(t){return e.handleClickAvatar(s)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:s.incomeTarget,expression:"row.incomeTarget"}],staticClass:"icon_crown",attrs:{src:a("./app/web/page/app/images/crown.png"),alt:""}})])]}}],null,!1,3906396127)}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",fixed:"left",width:"70px",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(a.name))])]),e._v(" "),e.targetContactId===a.contactId.toString()?n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))]),e._v(" "),n("span",{staticClass:"self"},[e._v("本人")])]):n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(a.careerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(a.activityStatusCode))])])])])]}}],null,!1,2972899884)}),e._v(" "),"AREA_ONE"!==e.filter.businessType?n("el-table-column",{attrs:{slot:"between",label:"管理类别",minWidth:"90px",align:"center",sortable:"custom",prop:"offspringLineNumber","header-align":"center","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.offspringLineNumber))])]}}],null,!1,3461816887)}):e._e(),e._v(" "),n("el-table-column",{attrs:{slot:"between",label:"收入目标",minWidth:"90px",align:"center",sortable:"custom",prop:"incomeTarget","header-align":"center","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticClass:"assess-performance"},[a.incomeTarget?n("span",[e._v(e._s(e._f("formatMoney")(a.incomeTarget)))]):n("span",{staticClass:"assess-performance-btn",on:{click:function(t){return e.setTargetIncome(a)}}},[e._v(e._s(e.targetContactId===a.contactId.toString()?"设置目标":"提醒设置"))])])]}}],null,!1,1444824182)}),e._v(" "),n("el-table-column",{attrs:{width:"100px",align:"center","header-align":"center","scoped-slot":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.directorContactId?n("div",{staticClass:"user",on:{click:function(t){return e.handleClickName(s)}}},[n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(s.directorName))]),e._v(" "),n("img",{staticClass:"user-icon",attrs:{src:a("./app/web/page/app/images/phone-icon.png")}})]),e._v(" "),e.targetContactId===s.directorContactId.toString()?n("div",{staticClass:"tags"},[n("span",{staticClass:"level"},[e._v(e._s(s.directorCareerLevelCode))]),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(s.directorActivityStatusCode))]),e._v(" "),n("span",{staticClass:"self"},[e._v("本人")])]):n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(s.directorCareerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(s.directorActivityStatusCode))])])])])]):n("div",[e._v("--")])]}}],null,!1,3433841009)},[n("template",{slot:"header"},[n("div",[n("span",[e._v("资深")]),n("br"),n("span",[e._v("经销商")])])])],2)],1)],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showTable,expression:"!showTable"}],staticClass:"nodata"},[n("img",{attrs:{src:a("./app/web/page/app/images/nodata1.png"),alt:""}}),e._v(" "),n("div",[e._v("暂时没有数据")])])],1),e._v(" "),n("van-popup",{staticClass:"timePopup",attrs:{position:"center",round:"",closeable:""},model:{value:e.popupTime,callback:function(t){e.popupTime=t},expression:"popupTime"}},[n("div",{staticClass:"popupTime"},[n("div",{staticClass:"msg"},[n("span",[n("img",{attrs:{src:a("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("规则")]),e._v(" "),n("p",[e._v("数据更新时间："),n("span",[e._v("6")]),e._v("小时")])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:a("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),n("click-avatar-action-sheet",{ref:"clickAvatarActionSheet",attrs:{pageName:e.pageName,profileClickEventName:"OffspringDetailsClick",focusEventName:"OffspringDetailsSetFocusClick",unfocusEventName:"OffspringDetailsUnfocusClick",setTargetEventName:"OffspringSetIncomeTargetClick",callEventName:"OffspringPhoneCallClick",cancelEventName:"OffspringDetailsCancelClick",info:e.currentData,isFullScreen:e.isFullScreen,accountType:e.accountType,targetContactId:e.targetContactId},on:{onSelect:e.onSelect}}),e._v(" "),e.isFullScreen?n("img",{staticClass:"resetToPortraitScreen",attrs:{src:a("./app/web/page/app/images/portraitscreen.png"),alt:""},on:{click:e.resetToPortraitScreen}}):e._e(),e._v(" "),n("set-target",{ref:"setTarget",attrs:{isSettingTarget:e.currentData.setTargetIncomeAmt,levelCode:e.currentData.careerLevelCode&&Number(e.currentData.careerLevelCode),incomeTargetIncomeAmt:e.currentData.incomeTarget},on:{setTargetIncomeConfirm:e.setTargetIncomeConfirm}}),e._v(" "),n("van-action-sheet",{attrs:{actions:e.directorActions,"cancel-text":"取消"},on:{select:e.onSelect},model:{value:e.showDirectorActions,callback:function(t){e.showDirectorActions=t},expression:"showDirectorActions"}})],1)}),[],!1,null,"e9a96f54",null);t.default=N.exports},"./app/web/page/app/view/area/index.vue?vue&type=style&index=0&id=e9a96f54&lang=less&scoped=true&":function(e,t,a){"use strict";a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/area/index.vue?vue&type=style&index=0&id=e9a96f54&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/setTarget/index.vue?vue&type=style&index=0&id=302df74a&lang=less&scoped=true&":function(e,t,a){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/area/index.vue?vue&type=style&index=0&id=e9a96f54&lang=less&scoped=true&":function(e,t,a){}}]);