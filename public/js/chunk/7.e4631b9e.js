(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./app/web/page/app/components/chiefTable/table.vue":function(e,t,o){"use strict";var n=o("./app/web/page/app/utils/index.js"),s={name:"table-list",props:{tableData:Array,tableHeader:{type:Array,default:function(){return[{labelOne:"基本信息",labelTwo:[{top:"顾问",bottom:"姓名",prop:"name"},{top:"管理",bottom:"区域",prop:"offspringLineNumber"},{top:"晋升",bottom:"时间",prop:"dirDebuteDate",formatter:function(e){return e.dirDebuteDate?Object(n.e)(e.dirDebuteDate,"YYYY-MM-DD"):"--"}},{top:"停职",bottom:"时间",prop:"terminationDate",formatter:function(e){return e.terminationDate?Object(n.e)(e.terminationDate,"YYYY-MM-DD"):"--"}},{top:"SDIR",bottom:"姓名",prop:"sdirName",formatter:function(e){return e.sdirName||"--"}},{top:"ESD+",bottom:"姓名",prop:"esdName",formatter:function(e){return e.esdName||"--"}},{top:"ESD+",bottom:"区域",prop:"esdOffspringLineNumber",formatter:function(e){return e.esdOffspringLineNumber||"--"}}]},{labelOne:"个人",labelTwo:[{top:"个人",bottom:"绩效",prop:"productionAmt",formatter:function(e){return Object(n.f)(e.productionAmt)}},{top:"产品点数",bottom:"使用",prop:"rcProductionAmt",formatter:function(e){return Object(n.f)(e.rcProductionAmt)}},{top:"RC顾客",bottom:"绩效",prop:"rcCustomerProductionAmt",formatter:function(e){return Object(n.f)(e.rcCustomerProductionAmt)}},{top:"RC",bottom:"顾客人数",prop:"orderRcCustomerCount"},{top:"新RC",bottom:"顾客人数",prop:"newRcCustomerCount"},{top:"历史RC",bottom:"顾客总数",prop:"totalRcCustomerCount",formatter:function(e){return Object(n.f)(e.totalRcCustomerCount)}},{top:"新顾问",bottom:"人数",prop:"teamNewRecruitCount"},{top:"新顾问",bottom:"A人数",prop:"teamActiveNewRecruitCount"},{top:"新顾问",bottom:"活动率",prop:"teamActiveNewRecruitOrderRate",formatter:function(e){return"".concat(e.teamActiveNewRecruitOrderRate,"%")}},{top:"新顾问",bottom:"小店开张数",prop:"teamNewRecruitShopOpenCount",formatter:function(e){return Object(n.f)(e.teamNewRecruitShopOpenCount)}}]},{labelOne:"美容顾问",labelTwo:[{top:"美容顾问",bottom:"绩效",prop:"teamProductionAmt",formatter:function(e){return Object(n.f)(e.teamProductionAmt)}},{top:"顾问",bottom:"人数",prop:"teamNonTerminatedCount"},{top:"顾问",bottom:"A人数",prop:"teamActiveCount"},{top:"下单",bottom:"人数",prop:"teamOrderCount"},{top:"小店",bottom:"开张数",prop:"teamShopOpenCount",formatter:function(e){return Object(n.f)(e.teamShopOpenCount)}}]},{labelOne:"沙龙",labelTwo:[{top:"沙龙",bottom:"绩效",prop:"unitProductionAmt",formatter:function(e){return Object(n.f)(e.unitProductionAmt)}},{top:"RC绩效",bottom:"占比",prop:"unitRcProductionAmtRate",formatter:function(e){return"".concat(e.unitRcProductionAmtRate||0,"%")}},{top:"沙龙",bottom:"人数",prop:"unitNonTerminatedCount"},{top:"上月沙龙",bottom:"人数",prop:"unitLastMonthNonTerminatedCount"},{top:"沙龙",bottom:"A人数",prop:"unitActiveCount"},{top:"NBC",bottom:"人数",prop:"unitNewRecruitCount"},{top:"NBC",bottom:"人数A",prop:"unitActiveNewRecruitCount"},{top:"新进率",bottom:"",prop:"unitNewRecruitRate",formatter:function(e){return"".concat(e.unitNewRecruitRate,"%")}},{top:"NBC",bottom:"小店开张数",prop:"unitNewRecruitShopOpenCount",formatter:function(e){return Object(n.f)(e.unitNewRecruitShopOpenCount)}},{top:"复职",bottom:"人数",prop:"unitReinstatementCount"},{top:"复职率",bottom:"",prop:"unitReinstatementRate",formatter:function(e){return"".concat(e.unitReinstatementRate,"%")}},{top:"停职",bottom:"人数",prop:"unitTerminatedCount"},{top:"停职率",bottom:"",prop:"unitTerminatedRate",formatter:function(e){return"".concat(e.unitTerminatedRate,"%")}},{top:"老顾问",bottom:"人数",prop:"unitOldRecruitCount"},{top:"老顾问",bottom:"活动率",prop:"unitOldRecruitRate",formatter:function(e){return"".concat(e.unitOldRecruitRate,"%")}},{top:"小店",bottom:"开张数",prop:"unitShopOpenCount",formatter:function(e){return Object(n.f)(e.unitShopOpenCount)}},{top:"小店",bottom:"开张率",prop:"unitShopOpenRate",formatter:function(e){return"".concat(e.unitShopOpenRate||0,"%")}},{top:"BC人均",bottom:"RC顾客订单金额",prop:"unitAvgBcRcRetailAmt",formatter:function(e){return"¥".concat(e.unitAvgBcRcRetailAmt||0)}},{top:"BC人均",bottom:"RC顾客订单收益",prop:"unitAvgBcRcIncomeAmt",formatter:function(e){return"¥".concat(e.unitAvgBcRcIncomeAmt||0)}},{top:"50级",bottom:"人数",prop:"diqCount"},{top:"40级",bottom:"人数",prop:"fdirCount"},{top:"35级",bottom:"人数",prop:"rjCount"},{top:"30级",bottom:"人数",prop:"starCount"},{top:"20级",bottom:"人数",prop:"sbCCount"},{top:"15级",bottom:"人数",prop:"bc15Count"},{top:"10级",bottom:"人数",prop:"bc10Count"}]}]}},border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1}},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{callMobile:function(e){e&&(window.location.href="tel:".concat(e))}}},i=(o("./app/web/page/app/components/chiefTable/table.vue?vue&type=style&index=0&id=cd07a56c&lang=less&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=Object(i.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"common-table"},[n("el-table",{ref:"commonTable",attrs:{data:e.tableData,stripe:!0,"element-loading-text":e.loadingText,border:e.border}},[e._l(e.tableHeader,(function(t){return n("el-table-column",{key:t.labelOne,attrs:{label:t.labelOne,align:"center",fixed:"基本信息"==t.labelOne,width:"基本信息"==t.labelOne?100:""}},e._l(t.labelTwo,(function(t){return n("el-table-column",{key:t.prop,attrs:{prop:t.prop,fixed:"name"==t.prop,align:"center",width:"name"==t.prop||"sdirName"==t.prop||"esdName"==t.prop?100:"unitAvgBcRcRetailAmt"==t.prop||"unitAvgBcRcIncomeAmt"==t.prop?120:80},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.row;return["name"==t.prop?n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(i.name))]),e._v(" "),n("img",{staticClass:"icon",attrs:{src:o("./app/web/page/app/images/icon_phone.png")},on:{click:function(t){return e.callMobile(i.mobile)}}})])]),e._v(" "),n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(i.careerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(i.activityStatusCode))])])]):"sdirName"==t.prop&&i.sdirName?n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(i.sdirName))]),e._v(" "),n("img",{staticClass:"icon",attrs:{src:o("./app/web/page/app/images/icon_phone.png")},on:{click:function(t){return e.callMobile(i.sdirMobile)}}})])]),e._v(" "),n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(i.sdirCareerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(i.sdirActivityStatusCode))])])]):"esdName"==t.prop&&i.esdName?n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user_name"},[n("span",{staticClass:"climp"},[e._v(e._s(i.esdName))]),e._v(" "),n("img",{staticClass:"icon",attrs:{src:o("./app/web/page/app/images/icon_phone.png")},on:{click:function(t){return e.callMobile(i.esdMobile)}}})])]),e._v(" "),n("div",{staticClass:"no-self"},[n("span",{staticClass:"level"},[e._v(e._s(i.esdCareerLevelCode))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",{staticClass:"status"},[e._v(e._s(i.esdActivityStatusCode))])])]):n("span",[e._v("\n            "+e._s(t.formatter?t.formatter(i):i[t.prop])+"\n          ")])]}}],null,!0)},[n("template",{slot:"header"},[e._v(e._s(t.top)),n("br"),e._v(e._s(t.bottom))])],2)})),1)})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"cd07a56c",null);t.a=a.exports},"./app/web/page/app/components/chiefTable/table.vue?vue&type=style&index=0&id=cd07a56c&lang=less&scoped=true&":function(e,t,o){"use strict";o("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/chiefTable/table.vue?vue&type=style&index=0&id=cd07a56c&lang=less&scoped=true&")},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue":function(e,t,o){"use strict";o("./node_modules/vant/es/dropdown-item/style/index.js");var n=o("./node_modules/vant/es/dropdown-item/index.js"),s=(o("./node_modules/vant/es/dropdown-menu/style/index.js"),o("./node_modules/vant/es/dropdown-menu/index.js")),i=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=o.n(i),r=o("./node_modules/element-ui/src/utils/clickoutside.js"),l=o("./app/web/page/app/utils/index.js"),p={name:"filterActionSheet",data:function(){return{filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}},props:{filterConfig:{type:Array,default:function(){return[]}},filter:{type:Object,default:function(){return{accountType:""}}},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted:function(){var e=this.$route.query.accountType;this.accountType=e},methods:{setFilterText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"筛选";this.filterText=e},opened:function(){var e=this;this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",(function(){e.clickOverlay()}))},close:function(){this.$emit("filterActionIsOpen",!1)},initFilterConfig:function(){var e=this;this.filterConfig.forEach((function(t){var o=t.prop,n=t.multiple,s=void 0===n||n,i=t.options;e.filterResult[o]=s?e.filter[o]?e.filter[o]:[]:e.filter[o]?e.filter[o]:null,i.forEach((function(t){s?e.filter[o]&&Object(l.p)(t.value,e.filter[o])?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1):t.value===e.filter[o]?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1)}))})),this.filterCopy=Object(l.d)(this.filterResult)},selectItem:function(e,t){var o,n=this,s=t.prop,i=t.multiple,r=void 0===i||i;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:(o={},a()(o,s,e.value),a()(o,"isEmployee","operation"===this.accountType),o)}),r?this.filterResult[s].includes(e.value)?(this.filterResult[s].splice(this.filterResult[s].findIndex((function(t){return t===e.value})),1),this.$set(e,"selected",!1)):(this.filterResult[s].push(e.value),this.$set(e,"selected",!0)):this.filterResult[s]===e.value?(this.filterResult[s]=null,this.$set(e,"selected",!1)):(this.filterResult[s]=e.value,this.filterConfig.forEach((function(e){e.prop===s&&e.options.forEach((function(e){n.$set(e,"selected",!1)}))})),this.$set(e,"selected",!0))},clickOverlay:function(){var e=this;this.isOpen&&(this.filterConfig.forEach((function(t){var o=t.prop,n=t.multiple,s=void 0===n||n;t.options.forEach((function(t){e.$set(t,"selected",!1),s?e.filterCopy[o].findIndex((function(e){return e===t.value}))>-1&&e.$set(t,"selected",!0):e.filterCopy[o]===t.value&&e.$set(t,"selected",!0)}))})),this.filterResult=Object(l.d)(this.filterCopy))},filterReset:function(){var e=this;this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach((function(t){var o=t.prop,n=t.multiple,s=void 0===n||n,i=t.options;e.filterResult[o]=s?[]:null,i.forEach((function(t){e.$set(t,"selected",!1)}))}))},filterConfirm:function(){var e=this;this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});var t=!1;Object.keys(this.filterResult).forEach((function(o){Array.isArray(e.filterResult[o])?e.filterResult[o].length&&(t=!0):null!==e.filterResult[o]&&(t=!0)})),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(l.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":s.a,"van-dropdown-item":n.a},directives:{Clickoutside:r.a}},c=(o("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),u=Object(c.a)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("van-dropdown-menu",[o("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:e.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:e.opened,close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[o("div",{staticClass:"title"},[o("span",[e._v("\n          "+e._s(e.filterText)+"\n        ")]),e._v(" "),o("span",{staticClass:"num"},[e._v("("+e._s(e.total)+")")])])]},proxy:!0}])},[e._v(" "),o("div",{staticClass:"filter-content"},[o("div",{staticClass:"filter-type"},e._l(e.filterConfig,(function(t){return o("div",{key:t.prop},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.options&&t.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[o("div",{staticClass:"filter-type-title"},[e._v(e._s(t.label))]),e._v(" "),o("div",[t.showSubTitle?o("div",{staticClass:"filter-type-subtitle"},[e._v("\n                "+e._s(t.subTitle)+"：\n              ")]):e._e(),e._v(" "),o("div",{staticClass:"filter-type-content"},e._l(t.options,(function(n){return o("span",{key:n.value,class:{is_active:n.selected},on:{click:function(o){return e.selectItem(n,t)}}},[e._v("\n                  "+e._s(n.name)+"\n                ")])})),0)])])])})),0),e._v(" "),o("div",{staticClass:"filter-button"},[o("span",{staticClass:"filter-button-reset",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),o("span",{staticClass:"filter-button-confirm",on:{click:e.filterConfirm}},[e._v("确认")])])])])],1)}),[],!1,null,"6d8bb1f7",null);t.a=u.exports},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,o){"use strict";o("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&")},"./app/web/page/app/images/dot.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAUCAYAAAAuoXvLAAAAAXNSR0IArs4c6QAAA6NJREFUWEftl0molmUYhq/bSrPBsnkgTwNBGFGL9pp1hMxFixYulAaiWoQQWEoIRQMUQRjRPEDRrn2EQdMqJ7RhG0Rk2lyWNnvHfXq/w+c5/v/53q/fiPCBH3743ue93+d+ZnFYhjKgYV9tzwJyZr8kH2ou/4t40wiyfRRwBnAycCowB/gO+AzYJem3URJl+0jgTOCU8ptd8HYBOw8BXuw7HTit2Bj7vi327Z6KdwBBtucBS4AbgMvKBUcA+4CtwEvARknfjIIk28cDVwI3A5cC84FE7V5gB/Ai8Iakr0eItwxYWexr8H4CNgGvAG9L+qLBmySokHMrcC8wt6RW+11JsT+A54D72pf0ebztE4DbgHuAo4fgPZ8zkr7qg9PoFLw7gLuBRO3U7Il9vwMvA+sb+yYOldwPOY8DiZihpQl4AVgt6ec+jy5ptQZ4sETMTNc8BqyT9MtMBw/2veCtBe4/CDFTVUJU8NYm3RqCFgDvAyd2fMCfwHJJr3c8f8Ax20mn90rkdLkieMskbexyeJrF9iXA5gq8RNK4pHcagpJWCfUaeVfSohqFVrg/DdzSwZvt698ElkoKWVViO7VzVQ+8cdkOSR8BC6tQId1srqT9NXq2k8LBu6hGD9gDLJD0Q6VeSkiKbrpWjQRvLASl7X1ZkV6TgQDMk5QO0FlsHwd8WjpWZz3+dsiYpN01SjlrO104jadGfgUuDEGp6JlxMhvUSIrZ/FqPltb+CXBSDRiQByeC4swqsf0jEMfUSBrCeU0NegtYXKMN5IJje6RYHLKlzCE1kEmTCyRlRqoS20npi6uUYOdEBJUQXA1sqChiiZ7XJC2vBJ04bvtO4OFKvFeBFX1WHtt3AQ9V4j0p6faGoIT7duCcjpfEi0skpXVWi+2sMNE9t6Py98AVkjJdV4vts4FtpVAP3T/L5cG7XNLH7Un6WiBTa8gadEkiJ6mVkeDRPi23sc72OJCoyHozDC+1JxEXj1Z1zBZW1pfrgGc74KWgrwOeSLS2Ccr/q0uqZXBMd2s/PPNHdqJHcqbvY9vut720TO9jA/BSkJP6/8gZJa1jyzUF76yC135O1qjPgQeyc0rKsDjdc7YT9teXpTWzQy7ONv9BWAU+7FMHBuWF7aT1TcBVZTnO0QbvmeCOwhktks4HbkzKllEj9mX5zibxlKQU9EkZmI+2j2ktkQnzvaMkZiphLbx8Ct6+fwEvs1HKxkC8LgWruij+nxQOEzSDN/8C9eBNZRd6q0EAAAAASUVORK5CYII="},"./app/web/page/app/images/icon_phone.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAA3ZJREFUSA21V01IVFEUvufOqKMzDy1CyRCCoFUtArMWhhAGtYgIDIogKOc5M5r9I1IuZpMF/aj4O46mGQYR1iJrUYGLCMFatCgKpFoElYESzhvxZ2ZO50684TndN85fb/PuPd93v/vNeffceweY4UHP6DqNBVuR4RHGQOPA2uzFaid4IWKgZbUJutpC/Z2yEIZeMsSteky8AdiAo6euDgDQGM9WmwuhhfN3N4UiKxPxkwsMkTm1hv7Lov0/nqiB8OLSMIlvMZ0AmTd4erDcFM8A4CRciojViTQoC9ZIKHQ9ESddjAOGypIbDHsD7pHi5LjJszi35M4lQ6fKgBwIOZLhpsLheevZN1rpoTUHAbyx9Z76siYvRQIH78lFKrbXicZRCX7PteKxRJx0sWgVUAbGTQUAgrQZVNs6XZ9NORkAfw3k4igwWJbp0E41qfSoH2VYNmJRA/Z21w/a5u7LBKlEd6LXVyDDshGLGhBCwPgt+hSyPb9Q+8WasjGZTCNmQOlzvieCT0ZiyK7M1/sqpViGwZgBoeOwWVooFbPxmmInBIQH2ll/STyWaX+VAWhzznHgF2SitBZKI0uRcWwaVGR4urFVBoSIo0cdobK7ZyJYrgXCT9A7ZDPBUw7/Y0AoKHabh8rvk0yNMlEVmFl+nC0TUgNw80SQWaCGMvFbZoIW5X5tZvkZXhqxS/EUgrEbkWzMvMe/BxCf00FklvJJnscPOzrUGdn4gHtgG0J4N21y044S9ZXsapfQgBCdb/AfgjCOkQmLbBJxTli4paagu3bSiGue/laqnmZxioo48T4wwEalxzVh5K1pQJC1+v7j9O2HRTkaB+ttEllBgA6rLa89vzAyq/1caaeJXTquv6MbHfJrSp/aEovpjbXeQU//gTBjD+mSmPC7U7rDZtnS5yCOT+mrc4t+UhnQBy40DlSEV8JP6dzYoMfSfZOJGjIxJq0CM9GCTueU1coryPeUGSeF+FHBTcmAGJDfpX5VdmAlrarbop/uQ1nUxNiUPkH8ZFqDf18kgl2y/xPxXGNfLEZuse6yd9W+TTkDRiFHt/pCKSnaTtlopp8S/UVG3KxNR/9FMbnAM8qAcQI8N1QUWFx2k+AZSu9GI2Zs02HX5OhVb+ixrBnQBdHnywm+gyoEPEjXm0pksJmwHGA4zTi/Ste7R9SPPX8Ax+EUaawvzqcAAAAASUVORK5CYII="},"./app/web/page/app/images/icon_q.png":function(e,t,o){e.exports=o.p+"img/icon_q.62693319.png"},"./app/web/page/app/images/index/icon_search.png":function(e,t,o){e.exports=o.p+"img/icon_search.16d4819f.png"},"./app/web/page/app/images/month.png":function(e,t,o){e.exports=o.p+"img/month.5367142d.png"},"./app/web/page/app/images/nodata1.png":function(e,t,o){e.exports=o.p+"img/nodata1.75567d78.png"},"./app/web/page/app/images/portraitscreen.png":function(e,t,o){e.exports=o.p+"img/portraitscreen.562c5e20.png"},"./app/web/page/app/images/refresh-icon.gif":function(e,t,o){e.exports=o.p+"img/refresh-icon.4584a5b2.gif"},"./app/web/page/app/images/select.png":function(e,t,o){e.exports=o.p+"img/select.65b9fd04.png"},"./app/web/page/app/view/chief/index.vue":function(e,t,o){"use strict";o.r(t);var n=o("./node_modules/@babel/runtime/helpers/extends.js"),s=o.n(n),i=o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=o.n(i),r=(o("./node_modules/vant/es/pull-refresh/style/index.js"),o("./node_modules/vant/es/pull-refresh/index.js")),l=(o("./node_modules/vant/es/sticky/style/index.js"),o("./node_modules/vant/es/sticky/index.js")),p=(o("./node_modules/vant/es/popup/style/index.js"),o("./node_modules/vant/es/popup/index.js")),c=(o("./node_modules/vant/es/button/style/index.js"),o("./node_modules/vant/es/button/index.js")),u=(o("./node_modules/vant/es/nav-bar/style/index.js"),o("./node_modules/vant/es/nav-bar/index.js")),d=(o("./node_modules/vant/es/list/style/index.js"),o("./node_modules/vant/es/list/index.js")),m=o("./node_modules/@babel/runtime/regenerator/index.js"),f=o.n(m),v=o("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue"),b=o("./app/web/page/app/utils/index.js"),g=o("./app/web/page/app/components/chiefTable/table.vue"),h=(o("./node_modules/vant/es/toast/style/index.js"),o("./node_modules/vant/es/toast/index.js")),_=(o("./node_modules/vant/es/popover/style/index.js"),{components:{"van-popover":o("./node_modules/vant/es/popover/index.js").a},data:function(){return{screenRotationType:"portrait",isFullScreen:!1,showPopover:!1,popoverActions:[{text:"Excel导出",type:"export"},{text:"横/竖屏切换",type:"fullscreen"}],screenHeight:0}},mounted:function(){var e=this;this.screenHeight=screen.height,this.resetToPortraitScreen();var t=function(){var t=a()(f.a.mark((function t(o){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.screenRotationType=o,"portrait"===o&&e.isFullScreen&&Object(b.l)()&&(e.isFullScreen=!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.$jsBridge.screenRotationNotification(t)},methods:{gofullscreen:function(){this.$track({context:this.pageName,behavior:this.landscapeEventName,item_type:this.pageName,item_id:this.landscapeEventName,attributes:{isEmployee:this.accountType&&"operation"===this.accountType}}),this.tableData.length&&Object(b.o)()&&(this.$jsBridge.setFullScreen(),this.isFullScreen=!0)},popoverSelect:function(e){if("fullscreen"===e.type){if(this.$track({context:this.pageName,behavior:this.landscapeEventName,item_type:this.pageName,item_id:this.landscapeEventName,attributes:{isEmployee:this.accountType&&"operation"===this.accountType}}),!this.tableData.length)return;Object(b.o)()&&(this.$jsBridge.setFullScreen(),this.isFullScreen=!0)}else this.$track({context:this.pageName,behavior:this.export2ExcelEventName,item_type:this.pageName,item_id:this.export2ExcelEventName,attributes:{isEmployee:this.accountType&&"operation"===this.accountType}}),this.export2Excel()},export2Excel:function(){var e=this;return a()(f.a.mark((function t(){var o,n,s,i,a,r,l,p;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.$ctx.baseApiList.income,delete(n=Object(b.d)(e.filterParams)).pageNo,s=e.tableName,e.EmployeetableName,console.log("tablename",s),e.isEmployee,n.ImpersonatedContactID=e.$route.query.ImpersonatedContactID,i="",!Object(b.o)()){t.next=15;break}return t.next=12,e.$jsBridge.getAccessToken();case 12:i=t.sent,t.next=20;break;case 15:return t.next=17,e.$request.get("/getAccessToken");case 17:a=t.sent,r=a.data,i=r.access_token;case 20:if(n.access_token=i,l="",console.log("tableName",s),l="".concat(o,"/export/nsdapprovals/consultants?").concat(Object(b.c)(n)),console.log("url",l,n),!Object(b.o)()){t.next=37;break}return t.next=28,e.$jsBridge.downloadFile({url:l,overwrite:!0});case 28:if(!(p=t.sent).result){t.next=33;break}e.$jsBridge.shareLocalFile(p.filepath),t.next=35;break;case 33:return Object(h.a)("抱歉，导出失败，请重新导出"),t.abrupt("return");case 35:t.next=39;break;case 37:console.log(e.filterParams),location.href=l;case 39:case"end":return t.stop()}}),t)})))()},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},resetToPortraitScreen:function(){this.$track({context:this.pageName,behavior:this.landscapeEventName,item_type:this.pageName,item_id:this.landscapeEventName,attributes:{isEmployee:this.accountType&&"operation"===this.accountType}}),this.$jsBridge.resetToPortraitScreen(),this.isFullScreen=!1},back:function(){Object(b.b)()}}}),C={components:{commonTable:g.a,List:d.a,NavBar:u.a,"van-button":c.a,dropdowmMenu:v.a,"van-popup":p.a,"van-sticky":l.a,"van-pull-refresh":r.a},mixins:[_],data:function(){return{navTitle:"首席认可报表",isIos:Object(b.l)(),isIphoneX:Object(b.m)(),isFullScreen:!1,ImpersonatedContactID:"",baseTime:"202201",finished:!1,refreshing:!1,showTable:!0,loading:!0,total:0,monthMap:[],filter:{pageNo:1,monthKey:null},filterParams:{},filterConfig:[{prop:"activityStatusCodes",label:"状态",multiple:!0,options:[]},{prop:"levelCodes",label:"职级",multiple:!0,options:[]},{prop:"offspringType",label:"区域",multiple:!1,options:[{name:"0-3",value:1},{name:"4-N",value:2}]}],refreshDisable:!1,tableData:[],popupTime:!1}},created:function(){var e=this;return a()(f.a.mark((function t(){var o,n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.ImpersonatedContactID=e.$route.query.ImpersonatedContactID,o=e.$ctx.baseApi,t.next=4,e.$request.get("".concat(o,"/monthkey"));case 4:n=t.sent,s=n.data,e.filter.monthKey=e.baseTime=s.toString(),e.monthMap=Object(b.j)(202201,e.baseTime,{keyLabel:"month",valueLabel:"date"}),e.getData(),e.getFilter(),e.fixedHeader();case 11:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{getData:function(){var e=this;return a()(f.a.mark((function t(){var o,n,s,i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=document.documentElement.scrollTop||document.body.scrollTop,e.loading=!0,n=e.$ctx.baseApiList.income,s=Object(b.c)(e.filter),e.filterParams=Object(b.d)(e.filter),t.next=7,e.$request.get("".concat(n,"/nsdapprovals/consultants?").concat(s));case 7:i=t.sent,a=i.data,e.finished=!a.hasNextPage,e.filter.pageNo=a.pageNo+1,e.loading=!1,e.refreshing=!1,e.total=a.total,e.tableData=e.tableData.concat(a.members||[]),e.tableData&&e.tableData.length?e.showTable=!0:e.showTable=!1,window.scrollTo(0,o);case 17:case"end":return t.stop()}}),t)})))()},getFilter:function(){var e=this;return a()(f.a.mark((function t(){var o,n,s,i,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.$ctx.baseApiList.income,n={monthKey:e.filter.monthKey,contactId:e.ImpersonatedContactID},t.next=4,e.$request.get("".concat(o,"/nsdapprovals/filter-conditions"),{params:n});case 4:s=t.sent,i=s.data,a=i.activityStatusCodes,r=i.careerLevelCodes,e.filterConfig.forEach((function(e){"activityStatusCodes"===e.prop&&a&&(e.options=a.map((function(e){return{name:"".concat(e.activityStatusCode,"(").concat(e.count,")"),value:e.activityStatusCode}}))),"levelCodes"===e.prop&&r&&(e.options=r.map((function(e){return{name:"".concat(e.careerLevelCode,"(").concat(e.count,")"),value:e.careerLevelCode}})))})),e.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));case 9:case"end":return t.stop()}}),t)})))()},changeHandler:function(){this.filter.pageNo=1,this.tableData=[],this.getData(),this.getFilter()},filterConfirm:function(e){this.filter=s()(this.filter,e),this.filter.pageNo=1,this.tableData=[],this.getData()},onRefresh:function(){var e=this;return a()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.finished=!1,e.refreshing=!0,e.filter.pageNo=1,e.tableData=[],e.getData();case 5:case"end":return t.stop()}}),t)})))()},filterActionIsOpen:function(e){this.refreshDisable=e},back:function(){Object(b.b)()},toSearch:function(){var e="".concat(window.location.origin,"/chief_search"),t={monthKey:this.filter.monthKey};this.$go(e,t)},fixedHeader:function(){var e=this,t=document.querySelector(".van-nav-bar"),o=document.querySelector(".el-table__header-wrapper"),n=document.querySelector(".el-table__body-wrapper"),s=document.querySelector(".el-table__fixed-header-wrapper"),i=document.querySelector(".el-table__fixed-body-wrapper");window.addEventListener("scroll",(function(a){var r=document.documentElement.scrollTop||document.body.scrollTop;console.log(r,e.$refs.time.clientHeight),r>=e.$refs.time.clientHeight?(s.style.cssText="position: fixed;top: ".concat(t.clientHeight,"px;width: 100px;z-index: 4;overflow: hidden;"),i.style.cssText="top: ".concat(o.clientHeight,"px"),o.style.position="fixed",o.style.top="".concat(e.$refs.navbar.clientHeight,"px"),n.style.paddingTop="".concat(o.clientHeight,"px"),console.log(o.style.position,o.style.top)):(s.style.cssText="position: absolute;top: 0",i.style.cssText="padding-top:0;top: ".concat(s.clientHeight,"px;"),o.style.position="unset",o.style.top=0,n.style.paddingTop=0)}))}}},y=(o("./app/web/page/app/view/chief/index.vue?vue&type=style&index=0&id=d60f7e22&lang=less&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),x=Object(y.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chief",class:{isAndroid:!e.isIos,isFullScreen:e.isFullScreen,isIphoneX:e.isIphoneX}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],ref:"navbar",staticClass:"content-header"},[n("van-sticky",[n("NavBar",{attrs:{"left-text":"返回",title:e.navTitle,border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{staticClass:"back_btn",attrs:{src:o("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e._v("\n          "+e._s(e.navTitle)+"\n          "),n("img",{staticClass:"icon_q",attrs:{src:o("./app/web/page/app/images/icon_q.png"),alt:""},on:{click:function(t){e.popupTime=!e.popupTime}}})]},proxy:!0},{key:"right",fn:function(){return[n("img",{staticClass:"icon-search",attrs:{src:o("./app/web/page/app/images/index/icon_search.png"),alt:""},on:{click:e.toSearch}}),e._v(" "),n("van-popover",{attrs:{trigger:"click",placement:"bottom-end",actions:e.popoverActions},on:{select:e.popoverSelect},scopedSlots:e._u([{key:"reference",fn:function(){return[n("img",{staticClass:"icon-more",attrs:{src:o("./app/web/page/app/images/dot.png"),alt:""}})]},proxy:!0}]),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}})]},proxy:!0}])})],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}],ref:"time",staticClass:"status_wrap status_wrap_area"},[n("div",{staticClass:"status_wrap_query"},[n("div",{staticClass:"area_query"},[n("img",{attrs:{src:o("./app/web/page/app/images/month.png")}}),e._v(" "),n("span",{staticStyle:{"font-size":"14px"}},[e._v("选择月份：")]),e._v(" "),n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeHandler},model:{value:e.filter.monthKey,callback:function(t){e.$set(e.filter,"monthKey",t)},expression:"filter.monthKey"}},e._l(e.monthMap,(function(e){return n("el-option",{key:e.date,attrs:{label:e.month,value:e.date}})})),1)],1),e._v(" "),n("div",{staticClass:"area_query"},[n("img",{attrs:{src:o("./app/web/page/app/images/select.png")}}),e._v(" "),n("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:e.filterConfig,total:e.total},on:{filterConfirm:e.filterConfirm,filterActionIsOpen:e.filterActionIsOpen}})],1)])]),e._v(" "),n("van-pull-refresh",{attrs:{"head-height":100,disabled:e.refreshDisable},on:{refresh:e.onRefresh},scopedSlots:e._u([{key:"pulling",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:o("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("下拉刷新")])]},proxy:!0},{key:"loosing",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:o("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("松开刷新")])]},proxy:!0},{key:"loading",fn:function(){return[n("div",{staticClass:"refresh-icon"},[n("img",{attrs:{src:o("./app/web/page/app/images/refresh-icon.gif"),alt:""}})]),e._v(" "),n("p",{staticClass:"refresh-text"},[e._v("刷新中")])]},proxy:!0}]),model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[e._v(" "),e._v(" "),e._v(" "),e.showTable?n("List",{attrs:{finished:e.finished,"finished-text":e.tableData&&e.tableData.length?"没有更多了":""},on:{load:e.getData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("common-table",{ref:"table",attrs:{id:"table-content",border:!1,tableData:e.tableData,isFullScreen:e.isFullScreen}})],1):e._e(),e._v(" "),e.showTable?e._e():n("div",{staticClass:"nodata"},[n("img",{attrs:{src:o("./app/web/page/app/images/nodata1.png"),alt:""}}),e._v(" "),n("div",[e._v("暂时没有数据")])])],1),e._v(" "),n("van-popup",{staticClass:"timePopup",attrs:{position:"center",round:"",closeable:""},model:{value:e.popupTime,callback:function(t){e.popupTime=t},expression:"popupTime"}},[n("div",{staticClass:"popupTime"},[n("div",{staticClass:"msg"},[n("span",[n("img",{attrs:{src:o("./app/web/page/app/images/mk_title_icon.png"),alt:""}}),e._v("规则")]),e._v(" "),n("p",[e._v("\n          1.老顾问，顾问在加入的"),n("span",[e._v("第一个月")]),e._v("才称为新顾问，"),n("span",[e._v("第二个月")]),e._v("开始为老顾问。非当月加入的都算老顾问\n        ")]),e._v(" "),n("p",[e._v("\n          2.休职，"),n("span",[e._v("A")]),e._v("之后就是"),n("span",[e._v("P")]),e._v(",休职，分为"),n("span",[e._v("P1-P3")])]),e._v(" "),n("p",[e._v("\n          3.停职，"),n("span",[e._v("P")]),e._v("之后就是"),n("span",[e._v("T")]),e._v(",停职，分为"),n("span",[e._v("T1-T6")])]),e._v(" "),n("p",[e._v("\n          4.复职，顾问"),n("span",[e._v("T")]),e._v("状态恢复到"),n("span",[e._v("A")]),e._v("状态就称为复职\n        ")]),e._v(" "),n("p",[e._v("5.数据更新时间，"),n("span",[e._v("24")]),e._v("小时")])]),e._v(" "),n("div",{staticClass:"bottom"},[n("img",{attrs:{src:o("./app/web/page/app/images/mk_bottom_icon.png"),alt:""}})])])]),e._v(" "),e.isFullScreen?n("img",{staticClass:"resetToPortraitScreen",attrs:{src:o("./app/web/page/app/images/portraitscreen.png"),alt:""},on:{click:e.resetToPortraitScreen}}):e._e()],1)}),[],!1,null,"d60f7e22",null);t.default=x.exports},"./app/web/page/app/view/chief/index.vue?vue&type=style&index=0&id=d60f7e22&lang=less&scoped=true&":function(e,t,o){"use strict";o("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/chief/index.vue?vue&type=style&index=0&id=d60f7e22&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/chiefTable/table.vue?vue&type=style&index=0&id=cd07a56c&lang=less&scoped=true&":function(e,t,o){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,o){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/chief/index.vue?vue&type=style&index=0&id=d60f7e22&lang=less&scoped=true&":function(e,t,o){}}]);