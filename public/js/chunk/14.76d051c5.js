(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"./app/web/page/app/components/clickAvatarActionSheet/index.vue":function(e,t,n){"use strict";n("./node_modules/vant/es/action-sheet/style/index.js");var o=n("./node_modules/vant/es/action-sheet/index.js"),a=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/regenerator/index.js"),l=n.n(s),r=n("./app/web/page/app/utils/index.js"),c=[{name:"设为关注",prop:"follow"},{name:"个人详情",prop:"profile"},{name:"新人行动",prop:"nbcAction"},{name:"添加笔记",prop:"addNote"},{name:"邀请设置收入目标",prop:"setTarget"},{name:"查看目标评估",prop:"assess"},{name:"拨打电话",prop:"call"}],d={data:function(){return{show:!1,actions:[],safeareainsetBottom:!0,lockScroll:!0}},props:{pageName:{type:String,default:"UnitDetailsPage"},profileClickEventName:{type:String,default:"UnitDetailsClick"},focusEventName:{type:String,default:"UnitDetailsSetFocusClick"},unfocusEventName:{type:String,default:"UnitDetailsUnfocusClick"},setTargetEventName:{type:String,default:"UnitDetailsSetIncomeTargetClick"},callEventName:{type:String,default:"UnitDetailsPhoneCallClick"},cancelEventName:{type:String,default:"UnitDetailsCancelClick"},evaluationEventName:{type:String,default:"OffspringDetailsHeadPortraitTargetEvaluationClick"},accountType:{type:String,default:""},isFullScreen:{type:Boolean,default:!1},selectInfo:{type:String,default:""},info:{type:Object,default:function(){return{}}},targetContactId:null},methods:{onSelect:function(e){console.log(e.prop);var t="UnitDetailsClick";switch(e.prop){case"follow":t=this.info.isFocus?this.unfocusEventName:this.focusEventName;break;case"profile":t=this.profileClickEventName;break;case"setTarget":t=this.setTargetEventName;break;case"call":t=this.callEventName;break;case"assess":t=this.evaluationEventName;break;case"nbcAction":t="nbcAction",this.toActionPlan();break;case"addNote":t="addNote",this.goAddNote()}console.log(this.pageName,t),this.$track({context:this.pageName,behavior:t,item_type:this.pageName,item_id:t}),this.$emit("onSelect",e)},toActionPlan:function(){var e="".concat(window.location.origin,"/nbcActionPlan"),t={opaque:!1,targetContactId:this.info.contactId};this.$go(e,t)},goAddNote:function(){var e=this;return i()(l.a.mark((function t(){var n,o,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("".concat(e.$ctx.baseApi,"/notes/check?followContactId=").concat(e.info.contactId,"&contactId=").concat(e.targetContactId));case 2:n=t.sent,o=n.data,a="".concat(window.location.origin,"/note"),i={opaque:!1,targetContactId:e.info.contactId,name:e.info.name,levelCode:e.info.careerLevelCode,followed:e.targetContactId},o.hasNote||(a="".concat(window.location.origin,"/addNote"),i={targetContactId:e.info.contactId,name:e.info.name,opaque:!1,levelCode:e.info.careerLevelCode,from:"addNote_none",followed:e.targetContactId}),console.log("params",i),e.$go(a,i);case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$track({context:this.pageName,behavior:this.cancelEventName,item_type:this.pageName,item_id:this.cancelEventName})},showActions:function(){var e=this;return i()(l.a.mark((function t(){var n,o,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.$route.path),!e.isFullScreen){t.next=4;break}return e.$toast("请返回竖屏下操作～"),t.abrupt("return");case 4:return n=e.$ctx.baseApi,t.next=7,e.$request.get("".concat(n,"/goldenweek/newconsultant?contactId=").concat(e.info.contactId));case 7:o=t.sent,a=o.data.isNew,i=Object(r.d)(c),e.info.isFocus?i[0].name="移除关注":i[0].name="设为关注",e.info.setTargetIncomeAmt?i[4].name="邀请修改收入目标":i[4].name="邀请设置收入目标","50"===e.info.careerLevelCode&&i.forEach((function(e,t,n){"follow"===e.prop&&n.splice(t,1)})),"note"==e.selectInfo&&(i.forEach((function(e,t,n){"follow"!==e.prop&&"setTarget"!==e.prop&&"assess"!==e.prop||n.splice(t,1)})),i.splice(1,0,{name:"查看笔记",prop:"goNote"})),e.info.contactId.toString()===e.targetContactId&&i.forEach((function(e,t,n){"follow"!==e.prop&&"setTarget"!==e.prop&&"call"!==e.prop||n.splice(t,1)})),"operation"!==e.accountType||e.$route.path.includes("operation")||(i.forEach((function(e,t,n){"follow"!==e.prop&&"setTarget"!==e.prop&&"nbcAction"!==e.prop||n.splice(t,1)})),Number(e.info.careerLevelCode)<50&&i.forEach((function(e,t,n){"call"===e.prop&&n.splice(t,1)}))),"operation"!==e.accountType&&i.forEach((function(e,t,n){"assess"===e.prop&&n.splice(t,1)})),a||i.forEach((function(e,t,n){"nbcAction"===e.prop&&n.splice(t,1)})),e.actions=i,e.show=!0;case 20:case"end":return t.stop()}}),t)})))()}},components:{"van-action-sheet":o.a}},u=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消","safe-area-inset-bottom":e.safeareainsetBottom,"lock-scroll":e.lockScroll},on:{select:e.onSelect,cancel:e.onCancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})}),[],!1,null,"533543d6",null);t.a=p.exports},"./app/web/page/app/components/commonTable.vue":function(e,t,n){"use strict";var o={name:"table-list",props:{tableData:Object,border:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},setClassName:Function},data:function(){return{loadingText:"拼命加载中"}},mounted:function(){},methods:{sortChange:function(e){this.$emit("sortChange",e)},headerClick:function(e,t){this.$emit("headerClick",e,t)},rowClickchange:function(e){this.$emit("rowClickchange",e)},cellClick:function(e,t,n,o){this.$emit("cellClick",{row:e,column:t,event:n,cell:o})}}},a=(n("./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"common-table"},[n("el-table",{ref:"commonTable",attrs:{data:e.tableData.data,stripe:!0,"element-loading-text":e.loadingText,"show-header":e.tableData.showHeader,height:e.tableData.height,"header-cell-class-name":"common-table-header","cell-class-name":e.setClassName,border:e.border},on:{"sort-change":e.sortChange,"header-click":e.headerClick,"row-click":e.rowClickchange,"cell-click":e.cellClick}},[e._t("between"),e._v(" "),e._l(e.tableData.header,(function(t){return n("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,fixed:t.fixed,"min-width":t.minWidth,"max-width":t.maxWidth,sortable:t.sortable,"sort-orders":["descending","ascending",null],align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){return[n("span",[e._v(e._s(t.formatter?t.formatter(o.row,o.$index):o.row[t.prop]))])]}}],null,!0)})})),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"797892fe",null);t.a=i.exports},"./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&")},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue":function(e,t,n){"use strict";n("./node_modules/vant/es/dropdown-item/style/index.js");var o=n("./node_modules/vant/es/dropdown-item/index.js"),a=(n("./node_modules/vant/es/dropdown-menu/style/index.js"),n("./node_modules/vant/es/dropdown-menu/index.js")),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),l=n("./node_modules/element-ui/src/utils/clickoutside.js"),r=n("./app/web/page/app/utils/index.js"),c={name:"filterActionSheet",data:function(){return{filterResult:{},filterCopy:{},isOpen:!1,filterText:"筛选"}},props:{filterConfig:{type:Array,default:function(){return[]}},filter:{type:Object,default:function(){return{accountType:""}}},total:{type:Number,default:0},pageName:{type:String,default:"UnitDetailsPage"},filterClickEventName:{type:String,default:"UnitDetailsFilterClick"},tagEventName:{type:String,default:"UnitDetailsFilterTagClick"},resetEventName:{type:String,default:"UnitDetailsFilterResetClick"},confirmEventName:{type:String,default:"UnitDetailsFilterConfirmClick"}},mounted:function(){var e=this.$route.query.accountType;this.accountType=e},methods:{setFilterText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"筛选";this.filterText=e},opened:function(){var e=this;this.$track({context:this.pageName,behavior:this.filterClickEventName,item_type:this.pageName,item_id:this.filterClickEventName,attributes:{isEmployee:"operation"===this.accountType}}),this.$emit("filterActionIsOpen",!0),this.isOpen=!0,document.querySelector(".van-overlay").addEventListener("click",(function(){e.clickOverlay()}))},close:function(){this.$emit("filterActionIsOpen",!1)},initFilterConfig:function(){var e=this;this.filterConfig.forEach((function(t){var n=t.prop,o=t.multiple,a=void 0===o||o,i=t.options;e.filterResult[n]=a?e.filter[n]?e.filter[n]:[]:e.filter[n]?e.filter[n]:null,i.forEach((function(t){a?e.filter[n]&&Object(r.p)(t.value,e.filter[n])?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1):t.value===e.filter[n]?(e.$set(t,"selected",!0),e.filterText="已筛选"):e.$set(t,"selected",!1)}))})),this.filterCopy=Object(r.d)(this.filterResult)},selectItem:function(e,t){var n,o=this,a=t.prop,i=t.multiple,l=void 0===i||i;this.$track({context:this.pageName,behavior:this.tagEventName,item_type:this.pageName,item_id:this.tagEventName,attributes:(n={},s()(n,a,e.value),s()(n,"isEmployee","operation"===this.accountType),n)}),l?this.filterResult[a].includes(e.value)?(this.filterResult[a].splice(this.filterResult[a].findIndex((function(t){return t===e.value})),1),this.$set(e,"selected",!1)):(this.filterResult[a].push(e.value),this.$set(e,"selected",!0)):this.filterResult[a]===e.value?(this.filterResult[a]=null,this.$set(e,"selected",!1)):(this.filterResult[a]=e.value,this.filterConfig.forEach((function(e){e.prop===a&&e.options.forEach((function(e){o.$set(e,"selected",!1)}))})),this.$set(e,"selected",!0))},clickOverlay:function(){var e=this;this.isOpen&&(this.filterConfig.forEach((function(t){var n=t.prop,o=t.multiple,a=void 0===o||o;t.options.forEach((function(t){e.$set(t,"selected",!1),a?e.filterCopy[n].findIndex((function(e){return e===t.value}))>-1&&e.$set(t,"selected",!0):e.filterCopy[n]===t.value&&e.$set(t,"selected",!0)}))})),this.filterResult=Object(r.d)(this.filterCopy))},filterReset:function(){var e=this;this.$track({context:this.pageName,behavior:this.resetEventName,item_type:this.pageName,item_id:this.resetEventName,attributes:{isEmployee:"operation"===this.accountType}}),console.log("filterConfig",this.filterConfig),this.filterConfig.forEach((function(t){var n=t.prop,o=t.multiple,a=void 0===o||o,i=t.options;e.filterResult[n]=a?[]:null,i.forEach((function(t){e.$set(t,"selected",!1)}))}))},filterConfirm:function(){var e=this;this.$track({context:this.pageName,behavior:this.confirmEventName,item_type:this.pageName,item_id:this.confirmEventName,attributes:{isEmployee:"operation"===this.accountType}});var t=!1;Object.keys(this.filterResult).forEach((function(n){Array.isArray(e.filterResult[n])?e.filterResult[n].length&&(t=!0):null!==e.filterResult[n]&&(t=!0)})),this.filterText=t?"已筛选":"筛选",this.filterCopy=Object(r.d)(this.filterResult),this.$refs.dropdownMenu.toggle(),this.$emit("filterConfirm",this.filterResult)}},components:{"van-dropdown-menu":a.a,"van-dropdown-item":o.a},directives:{Clickoutside:l.a}},d=(n("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-dropdown-menu",[n("van-dropdown-item",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:e.clickOverlay,expression:"clickOverlay"}],ref:"dropdownMenu",on:{opened:e.opened,close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"title"},[n("span",[e._v("\n          "+e._s(e.filterText)+"\n        ")]),e._v(" "),n("span",{staticClass:"num"},[e._v("("+e._s(e.total)+")")])])]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"filter-content"},[n("div",{staticClass:"filter-type"},e._l(e.filterConfig,(function(t){return n("div",{key:t.prop},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.options&&t.options.length,expression:"filter.options && filter.options.length"}],staticClass:"filter-type-cell"},[n("div",{staticClass:"filter-type-title"},[e._v(e._s(t.label))]),e._v(" "),n("div",[t.showSubTitle?n("div",{staticClass:"filter-type-subtitle"},[e._v("\n                "+e._s(t.subTitle)+"：\n              ")]):e._e(),e._v(" "),n("div",{staticClass:"filter-type-content"},e._l(t.options,(function(o){return n("span",{key:o.value,class:{is_active:o.selected},on:{click:function(n){return e.selectItem(o,t)}}},[e._v("\n                  "+e._s(o.name)+"\n                ")])})),0)])])])})),0),e._v(" "),n("div",{staticClass:"filter-button"},[n("span",{staticClass:"filter-button-reset",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),n("span",{staticClass:"filter-button-confirm",on:{click:e.filterConfirm}},[e._v("确认")])])])])],1)}),[],!1,null,"6d8bb1f7",null);t.a=u.exports},"./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&")},"./app/web/page/app/images/index/icon_search.png":function(e,t,n){e.exports=n.p+"img/icon_search.16d4819f.png"},"./app/web/page/app/images/select.png":function(e,t,n){e.exports=n.p+"img/select.65b9fd04.png"},"./app/web/page/app/view/note/table.vue":function(e,t,n){"use strict";n.r(t);n("./node_modules/vant/es/button/style/index.js");var o=n("./node_modules/vant/es/button/index.js"),a=(n("./node_modules/vant/es/sticky/style/index.js"),n("./node_modules/vant/es/sticky/index.js")),i=(n("./node_modules/vant/es/popup/style/index.js"),n("./node_modules/vant/es/popup/index.js")),s=(n("./node_modules/vant/es/tab/style/index.js"),n("./node_modules/vant/es/tab/index.js")),l=(n("./node_modules/vant/es/tabs/style/index.js"),n("./node_modules/vant/es/tabs/index.js")),r=(n("./node_modules/vant/es/list/style/index.js"),n("./node_modules/vant/es/list/index.js")),c=(n("./node_modules/vant/es/nav-bar/style/index.js"),n("./node_modules/vant/es/nav-bar/index.js")),d=n("./node_modules/@babel/runtime/helpers/extends.js"),u=n.n(d),p=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),f=n.n(p),m=n("./node_modules/@babel/runtime/regenerator/index.js"),h=n.n(m),v=n("./app/web/page/app/mixin/horizontalScreen.js"),g=n("./app/web/page/app/utils/index.js"),b=n("./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue"),_=n("./app/web/page/app/components/commonTable.vue"),C=n("./app/web/page/app/components/clickAvatarActionSheet/index.vue"),w={mixins:[v.a],data:function(){return{isIos:Object(g.l)(),currentTabName:"area",loading:!0,currentData:{},selectInfo:"note",targetContactId:"",tableData:{data:[],header:[{label:"最近\n跟进",prop:"followDate",sortable:"custom",formatter:function(e){return e.followDate?e.followDate:"-"}},{label:"事件\n提醒",prop:"remindDate",sortable:"custom",formatter:function(e){return e.remindDate?e.remindDate:"-"}}]},finished:!1,total:0,filterConfig:[],areaConfig:[{prop:"lineNumbers",label:"管理区域",multiple:!0,options:[]},{prop:"statusCodeIds",label:"顾问状态",multiple:!0,options:[]}],teamConfig:[{prop:"statusCodeIds",label:"顾问状态",multiple:!0,options:[]}],showNav:!0,levelCode:"",filter:{pageSize:20,pageNo:1,type:"1",sortEnum:"",orderEnum:""}}},created:function(){var e=this;this.$nextTick((function(){e.$refs.filterAction.initFilterConfig()})),this.targetContactId=this.$route.query.targetContactId,this.levelCode=this.$route.query.levelCode,this.levelCode>=70?(this.currentTabName,this.filter.type=1):this.levelCode>=60&&this.levelCode<70?(this.currentTabName,this.filter.type=2):(this.currentTabName,this.filter.type=3,this.showNav=!1),console.log("this.currentTabName",this.currentTabName)},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.filterAction.initFilterConfig()})),console.log("this.filter.type",this.filter.type),this.loadData(),this.getFilterConditions()},methods:{goProflie:function(){var e="";e="prod"==window.__INITIAL_STATE__.env?"https://intouch-coach-app-stag-latest.prod.pcf.mkc.io/profile":"".concat(window.location.origin,"/profile");var t={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,followed:this.$route.query.targetContactId};this.$go(e,t)},goNote:function(){var e=window.__INITIAL_STATE__.env,t="";t="prod"==e?"https://intouch-coach-app-stag-latest.prod.pcf.mkc.io/note":"".concat(window.location.origin,"/note"),console.log("native",e);var n={opaque:!1,targetContactId:this.currentData.contactId,levelCode:this.currentData.careerLevelCode,name:this.currentData.name,followed:this.$route.query.targetContactId};this.$go(t,n)},onSelect:function(e){var t=this;return f()(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.prop,n.next="profile"===n.t0?3:"goNote"===n.t0?5:"call"===n.t0?7:9;break;case 3:return t.goProflie(),n.abrupt("break",9);case 5:return t.goNote(),n.abrupt("break",9);case 7:return window.location.href="tel:".concat(t.currentData.mobile),n.abrupt("break",9);case 9:t.$refs.clickAvatarActionSheet.show=!1;case 10:case"end":return n.stop()}}),n)})))()},handleClickAvatar:function(e){var t=this;this.currentData=e,console.log("row",e),this.$nextTick((function(){t.$refs.clickAvatarActionSheet.showActions()}))},handleClickAvatarrec:function(e){var t=this;this.currentData.contactId=e.recruiterContactId,this.currentData.careerLevelCode=e.recruiterLevelCode,this.currentData.mobile=e.recruiterMobile,this.$nextTick((function(){t.$refs.clickAvatarActionSheet.showActions()}))},setClassName:function(e){var t=e.row,n=e.column;if("followDate"==n.property&&""!=t.followDate&&null!=t.followDate||"remindDate"==n.property&&""!=t.remindDate&&null!=t.remindDate)return"date-name"},cellClick:function(e){var t={targetContactId:e.row.contactId,linkNote:!0,name:e.row.name,levelCode:e.row.careerLevelCode,opaque:!1,followed:this.$route.query.targetContactId},n="".concat(window.location.origin,"/addNote");"remindDate"==e.column.property&&null!=e.row.remindDate&&""!=e.row.remindDate?(t.noteId=e.row.remindNoteId,this.$go(n,t)):"followDate"==e.column.property&&null!=e.row.followDate&&""!=e.row.followDate&&(t.noteId=e.row.followNoteId,this.$go(n,t))},goSearch:function(){var e="".concat(window.location.origin,"/note_table_search"),t={type:this.filter.type,targetContactId:this.$route.query.targetContactId};this.$go(e,t)},sortMap:function(e){return{offSpringLineNumber:"OFFSPRINGLINENUMBER",followDate:"FOLLOWDATE",remindDate:"REMINDDATE"}[e]},sortChange:function(e){e.column;var t=e.prop,n=e.order;console.log("调用"),n?("descending"===n?n="desc":"ascending"===n&&(n="asc"),this.filter.sortEnum=this.sortMap(t),this.filter.orderEnum=n.toLocaleUpperCase()):(this.filter.sortEnum=null,this.filter.orderEnum=null),this.tableData.data=[],this.filter.pageNo=1,this.loadData()},filterConfirm:function(e){this.filter.pageNo=1,this.filter=u()(this.filter,e),this.tableData.data=[],this.loadData()},callnomarl:function(e,t){window.location.href="tel:".concat(e)},loadData:function(){var e=this;return f()(h.a.mark((function t(){var n,o,a,i,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("调用"),n=e.filter,o=e.filter,a=o.lineNumbers,i=o.statusCodeIds,console.log("lineNumbers",a,"statusCodeIds",i),a&&a.length>0&&(n.lineNumbers=a.join(",")),i&&i.length>0&&(n.statusCodeIds=i.join(",")),s=e.$ctx.baseApi,t.next=9,e.$request.get("".concat(s,"/notes/report"),{params:n});case 9:(l=t.sent).data.hasNextPage?e.finished=!1:e.finished=!0,e.total=l.data.total,e.tableData.data=e.tableData.data.concat(l.data.members),e.filter.pageNo=e.filter.pageNo+1,e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},back:function(){Object(g.b)()},getFilterConditions:function(){var e=this;return f()(h.a.mark((function t(){var n,o,a,i,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"1"!=e.filter.type?e.filterConfig=e.teamConfig:e.filterConfig=e.areaConfig,n={type:e.filter.type},o=e.$ctx.baseApi,t.next=5,e.$request.get("".concat(o,"/notes/report/filter-conditions"),{params:n});case 5:a=t.sent,i=a.data,e.total=i.total,console.log("筛选",i),s=i.lineNumbers,l=i.activityStatuses,e.filterConfig.forEach((function(e){"lineNumbers"===e.prop&&s&&(e.options=s.map((function(e){return{name:"".concat(e),value:"".concat(e)}}))),"statusCodeIds"===e.prop&&l&&(e.options=l.map((function(e){return{name:"".concat(e.activityStatusCode,"(").concat(e.dirCount,")"),value:e.activityStatusId}})))})),console.log(e.filter,"offSpringLineNumber"),e.$nextTick((function(){e.$refs.filterAction.initFilterConfig()}));case 14:case"end":return t.stop()}}),t)})))()},setTableHeader:function(){console.log("调用"),console.log("this.currentTabName",this.currentTabName),"area"==this.currentTabName?this.filter.type=1:"unit"==this.currentTabName?this.filter.type=2:this.filter.type=3,this.filter.pageNo=1,this.tableData.data=[],this.filter.statusCodeIds=[],this.filter.lineNumbers=[],this.loadData(),this.$refs.filterAction.setFilterText("筛选"),this.getFilterConditions()}},components:{NavBar:c.a,List:r.a,commonTable:_.a,Tabs:l.a,Tab:s.a,dropdowmMenu:b.a,clickAvatarActionSheet:C.a,"van-popup":i.a,"van-sticky":a.a,"van-button":o.a}},y=(n("./app/web/page/app/view/note/table.vue?vue&type=style&index=0&id=72833de4&lang=less&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),x=Object(y.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coach-home",class:{isAndroid:!e.isIos}},[o("div",{staticClass:"coach-home-content"},[o("van-sticky",[o("NavBar",{attrs:{"left-text":"返回",title:"教练笔记跟进",border:!1,"safe-area-inset-top":!0},on:{"click-left":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[o("img",{staticClass:"back_btn",attrs:{src:n("./app/web/page/app/images/index/icon_back.png"),alt:""}})]},proxy:!0},{key:"right",fn:function(){return[o("img",{staticClass:"icon-search",attrs:{src:n("./app/web/page/app/images/index/icon_search.png"),alt:""},on:{click:function(t){return e.goSearch()}}})]},proxy:!0}])})],1),e._v(" "),this.showNav?o("Tabs",{ref:"tabs",on:{click:function(t){return e.setTableHeader()}},model:{value:e.currentTabName,callback:function(t){e.currentTabName=t},expression:"currentTabName"}},[this.levelCode>=70?o("Tab",{attrs:{title:"管理区域",name:"area"}}):e._e(),e._v(" "),this.levelCode>=60?o("Tab",{attrs:{title:"沙龙",name:"unit"}}):e._e(),e._v(" "),o("Tab",{attrs:{title:"美容顾问",name:"team"}})],1):e._e(),e._v(" "),o("div",{staticClass:"unit-content-filter"},[o("img",{staticClass:"icon",attrs:{src:n("./app/web/page/app/images/select.png"),alt:""}}),e._v(" "),o("dropdowm-menu",{ref:"filterAction",attrs:{filterConfig:e.filterConfig,filter:e.filter,total:e.total},on:{filterConfirm:e.filterConfirm}})],1),e._v(" "),o("List",{attrs:{finished:e.finished,"finished-text":e.tableData.data&&e.tableData.data.length?"没有更多了":""},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[o("common-table",{ref:"teamTable",attrs:{id:"table-content",border:!1,tableData:e.tableData,setClassName:e.setClassName},on:{sortChange:e.sortChange,cellClick:e.cellClick}},[o("el-table-column",{key:"1",attrs:{label:"顾问\n姓名",fixed:"left",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[o("div",[o("div",{staticClass:"name team_name",on:{click:function(t){return e.handleClickAvatar(n)}}},[e._v("\n                "+e._s(n.name)+"\n              ")]),e._v(" "),o("div",{staticClass:"tags"},[o("span",{staticClass:"level"},[e._v(e._s(n.careerLevelCode))]),e._v(" "),o("span",{staticClass:"status"},[e._v(e._s(n.activityStatusCode))]),e._v(" "),n.contactId==e.targetContactId?o("span",{staticClass:"self"},[e._v("本人")]):e._e()])])]}}])}),e._v(" "),"1"==this.filter.type?o("el-table-column",{key:"2",attrs:{slot:"between",label:"管理区域",prop:"offSpringLineNumber",align:"center","header-align":"center",sortable:"custom","sort-orders":["descending","ascending",null]},slot:"between",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n            "+e._s(n.offSpringLineNumber)+"\n          ")]}}],null,!1,3776914284)}):e._e(),e._v(" "),"1"==this.filter.type||"2"==this.filter.type?o("el-table-column",{attrs:{label:"辅导\n姓名",align:"center",width:"70px","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.recruiterName?o("div",{on:{click:function(t){return e.handleClickAvatarrec(n)}}},[o("div",{staticClass:"name team_name"},[e._v("\n                "+e._s(n.recruiterName)+"\n              ")]),e._v(" "),o("div",{staticClass:"tags"},[o("span",{staticClass:"level"},[e._v(e._s(n.recruiterLevelCode))]),e._v(" "),o("span",{staticClass:"status"},[e._v(e._s(n.recruiterStatusCode))]),e._v(" "),n.contactId==n.recruiterContactId?o("span",{staticClass:"self"},[e._v("本人")]):e._e()])]):o("div",[e._v("-")])]}}],null,!1,529408998)}):e._e()],1)],1)],1),e._v(" "),o("click-avatar-action-sheet",{ref:"clickAvatarActionSheet",attrs:{info:e.currentData,selectInfo:e.selectInfo},on:{onSelect:e.onSelect}})],1)}),[],!1,null,"72833de4",null);t.default=x.exports},"./app/web/page/app/view/note/table.vue?vue&type=style&index=0&id=72833de4&lang=less&scoped=true&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/note/table.vue?vue&type=style&index=0&id=72833de4&lang=less&scoped=true&")},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/commonTable.vue?vue&type=style&index=0&id=797892fe&lang=less&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/components/filterActionSheet/dropdowmMenu.vue?vue&type=style&index=0&id=6d8bb1f7&lang=less&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./app/web/page/app/view/note/table.vue?vue&type=style&index=0&id=72833de4&lang=less&scoped=true&":function(e,t,n){}}]);